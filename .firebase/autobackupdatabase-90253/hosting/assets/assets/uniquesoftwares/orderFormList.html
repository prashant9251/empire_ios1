<html>

<head>
    <title>ORDER LIST </title>
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link href="4.1.1/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
    <link href="1.10.4/jquery-ui.css" rel="stylesheet">
    <script src="1.10.2/jquery.js"></script>
    <script src="1.10.4/jquery-ui.js"></script>
    <script src="js/jsGetUrlParams.js"></script>
    <style>
        .trOrd {
            font-weight: 500;
            background-color: #588c7e;
            color: white;
        }

        #orderFormPdfFormate {
            display: none;
        }

        #orderForm {
            display: block;
        }

        @media print {
            #orderFormPdfFormate {
                display: block;
            }

            #orderForm {
                display: none;
            }

            #myModal {
                display: none;
            }

            .ShareBillPdf {
                display: none;
            }
        }
    </style>
</head>

<body class="loader-enabled">
    <div align="center" class="table-responsive">
        <table id="result" class="content-table">

        </table>
    </div>

    <div id="orderFormResult"></div>
    <div style="display: none;" id="loader">
        <div class="loader"></div>
        <div style="text-align: center; margin-top: -80px; font-weight:700">Please wait...</div>
    </div>
</body>
<script>
    
    var url = window.location.href;
    var DSN = getUrlParams(url, "DatabaseSource");
    var Currentyear = getUrlParams(url, "Currentyear");
</script>
<script src="js/localStorageSet.js"></script>
<script src="js/localStorageGet.js"></script>
<script>
    var Data;
    var productDet = getUrlParams(url, "productDet");
    var paidStatus = getUrlParams(url, "paidStatus");
    var dispatchCondition = getUrlParams(url, "dispatchCondition");
    var ReportType = getUrlParams(url, "ReportType");
    var DataForDispatchArray;
    var PAID = 'N';
    var ATYPE = '1';
    var tr = '';
    var FIRM = getUrlParams(url, "FIRM");
    var cno = '';
    var EMP;
    var entryType = getUrlParams(url, "entryType");
    var partyname = getUrlParams(url, "partyname");    
    var partycode = getUrlParams(url, "partycode");
    var broker = getUrlParams(url, "broker");
    var qualname = getUrlParams(url, "qualname");
    var haste = getUrlParams(url, "haste");
    var CITY = getUrlParams(url, "city");
    var fromdate = getUrlParams(url, "search_FromDate");
    var todate = getUrlParams(url, "search_ToDate");
    var CrntYearStartdate = getUrlParams(url, "CrntYearStartdate");
    var nowDate = new Date();
    
</script>
<script src="js/jsGetObjectByKey.js"></script>
<script src="js/jsStoreDatatoIndexeddb.js"></script>
<script src="js/jsopenSubReport.js"></script>
<script src="js/jsGetYearChange.js"></script>
<script src="js/jsgetValueNotDefine.js"></script>
<script src="js/jsfunction.js"></script>
<script src="js/jstoFixed.js"></script>
<script src="js/jsGetDateFormate.js"></script>
<script src="js/jsLoadCallorderFormList.js"></script>
<script src="js/cloudOrderGtD.js"></script>
<script src="js/cloudOrderStD.js"></script>
<script src="js/jsPdfOrderForm.js"></script>
<script src="js/jsHeaderTbl.js"></script>

<script>
    $(document).ready(function () {
        $("#loader").addClass('has-loader');
        load_data();
    });

    function load_data() {
        jsGetObjectByKey(DSN, "COMPMST", "").then(function (COMPMSTdata) {
            COMPMST = COMPMSTdata;
            DataCompmst=COMPMSTdata;
            if (FIRM != '') {
                for (var i = 0; i < DataCompmst.length; i++) {
                    if (DataCompmst[i].FIRM == FIRM) {
                        cno = DataCompmst[i].CNO;
                    }
                }
            }
            jsGetObjectByKey(DSN, "MST", "").then(function (data) {
                masterData = data;
                getCloudData();
            })
        })
    }

    function getCloudData() {
        cloudGtD("ORDER", "").then(function (data) {
                Data = data;
                DataForDispatchArray = data;
                //console.log(DataForDispatchArray);
                loadCall(Data);
            
        }, function (error) {
            msg="PLEASE CHECK INTERNET CONNECTION & TRY AGAIN";
            alert(msg);
            $('#result').html('<h6 align="center">'+msg+'</h6>');
            $("#loader").removeClass('has-loader');
        });
    }
</script>