{
    "sourceFile": "PURCHASEOUTSTANDING_AJXREPORT.html",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 3,
            "patches": [
                {
                    "date": 1638352417810,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1649653545159,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -109,336 +109,346 @@\n     $(\"#loader\").addClass('has-loader');\n     load_data();\n   });\n   function load_data() {\n-    jsGetObjectByKey(DSN, \"MST\", \"\").then(function (data) {\n-      masterData = data;\n-      jsGetObjectByKey(DSN, \"OUTSTANDING\", \"\").then(function (data) {\n-        Data = data;\n-        if (ccdgrp != '' && ccdgrp != null) {\n-          console.log(ccdgrp)\n-          Data = Data.filter(function (data) {\n-            return data['CG'] == ccdgrp;\n-          })\n+    jsGetObjectByKey(DSN, \"COMPMST\", \"\").then(function (DD) {\n+      DataCompmst = DD;\n+      if (FIRM != '') {\n+        for (var i = 0; i < DataCompmst.length; i++) {\n+          if (DataCompmst[i].FIRM == FIRM) {\n+            cno = DataCompmst[i].CNO;\n+          }\n         }\n-        if (cno != '' && cno != null) {\n-          Data = Data.filter(function (data) {\n-            return data.billDetails.some((billDetails) => billDetails['CNO'] === cno);\n-          }).map(function (subdata) {\n-            return {\n-              COD: subdata.COD,\n-              ATP: subdata.ATP,\n-              CT: subdata.CT,\n-              CG: subdata.CG,\n-              billDetails: subdata.billDetails.filter(function (billDetails) {\n-                return (billDetails['CNO'] === cno);\n-              })\n-            }\n-          })\n-        }\n-        console.log(ccdcode, ccd)\n-        console.log(partycode, partyname)\n-        if (ccdcode != '' && ccdcode != null) {\n-          Data = Data.filter(function (data) {\n-            return data['COD'] == ccdcode;\n-          })\n-        }\n+      }\n+      jsGetObjectByKey(DSN, \"MST\", \"\").then(function (data) {\n+        masterData = data;\n+        jsGetObjectByKey(DSN, \"OUTSTANDING\", \"\").then(function (data) {\n+          Data = data;\n+          if (ccdgrp != '' && ccdgrp != null) {\n+            console.log(ccdgrp)\n+            Data = Data.filter(function (data) {\n+              return data['CG'] == ccdgrp;\n+            })\n+          }\n+          if (cno != '' && cno != null) {\n+            Data = Data.filter(function (data) {\n+              return data.billDetails.some((billDetails) => billDetails['CNO'] === cno);\n+            }).map(function (subdata) {\n+              return {\n+                COD: subdata.COD,\n+                ATP: subdata.ATP,\n+                CT: subdata.CT,\n+                CG: subdata.CG,\n+                billDetails: subdata.billDetails.filter(function (billDetails) {\n+                  return (billDetails['CNO'] === cno);\n+                })\n+              }\n+            })\n+          }\n+          console.log(ccdcode, ccd)\n+          console.log(partycode, partyname)\n+          if (ccdcode != '' && ccdcode != null) {\n+            Data = Data.filter(function (data) {\n+              return data['COD'] == ccdcode;\n+            })\n+          }\n \n-        console.log(Data);\n-        if (partyname != '' && partyname != null) {\n+          console.log(Data);\n+          if (partyname != '' && partyname != null) {\n+            Data = Data.filter(function (data) {\n+              return data.billDetails.some((billDetails) => billDetails['ccd'] == partyname);\n+            }).map(function (subdata) {\n+              return {\n+                COD: subdata.COD,\n+                ATP: subdata.ATP,\n+                CT: subdata.CT,\n+                CG: subdata.CG,\n+                billDetails: subdata.billDetails.filter(function (billDetails) {\n+                  return (billDetails['ccd'] == partyname);\n+                })\n+              }\n+            })\n+          }\n+          if (partynamegrp != '' && partynamegrp != null) {\n+            Data = Data.filter(function (data) {\n+              return data.billDetails.some((billDetails) => billDetails['SG'] == partynamegrp);\n+            }).map(function (subdata) {\n+              return {\n+                COD: subdata.COD,\n+                ATP: subdata.ATP,\n+                CT: subdata.CT,\n+                CG: subdata.CG,\n+                billDetails: subdata.billDetails.filter(function (billDetails) {\n+                  return (billDetails['SG'] == partynamegrp);\n+                })\n+              }\n+            })\n+          }\n+          if (fromdate !== '' && fromdate !== null) {\n+            Data = Data.filter(function (data) {\n+              return data.billDetails.some((billDetails) => new Date(billDetails.DTE).setHours(0, 0, 0, 0) >= new Date(fromdate).setHours(0, 0, 0, 0));\n+            }).map(function (subdata) {\n+              return {\n+                COD: subdata.COD,\n+                ATP: subdata.ATP,\n+                CT: subdata.CT,\n+                CG: subdata.CG,\n+                billDetails: subdata.billDetails.filter(function (billDetails) {\n+                  return new Date(billDetails.DTE).setHours(0, 0, 0, 0) >= new Date(fromdate).setHours(0, 0, 0, 0);\n+                })\n+              }\n+            })\n+          }\n+          if (todate !== '' && todate !== null) {\n+            Data = Data.filter(function (data) {\n+              return data.billDetails.some((billDetails) => new Date(billDetails.DTE).setHours(24, 0, 0, 0) <= new Date(todate).setHours(24, 0, 0, 0));\n+            }).map(function (subdata) {\n+              return {\n+                COD: subdata.COD,\n+                ATP: subdata.ATP,\n+                CT: subdata.CT,\n+                CG: subdata.CG,\n+                billDetails: subdata.billDetails.filter(function (billDetails) {\n+                  return new Date(billDetails.DTE).setHours(24, 0, 0, 0) <= new Date(todate).setHours(24, 0, 0, 0);\n+                })\n+              }\n+            })\n+          }\n+\n+\n           Data = Data.filter(function (data) {\n-            return data.billDetails.some((billDetails) => billDetails['ccd'] == partyname);\n+            return data.billDetails.some((billDetails) => !(billDetails.TYPE.toUpperCase() == 'XX' && billDetails.VNO < 100000));\n           }).map(function (subdata) {\n             return {\n               COD: subdata.COD,\n               ATP: subdata.ATP,\n               CT: subdata.CT,\n               CG: subdata.CG,\n               billDetails: subdata.billDetails.filter(function (billDetails) {\n-                return (billDetails['ccd'] == partyname);\n+                return !(billDetails.TYPE.toUpperCase() == 'XX' && billDetails.VNO < 100000);\n               })\n             }\n           })\n-        }\n-        if (partynamegrp != '' && partynamegrp != null) {\n-          Data = Data.filter(function (data) {\n-            return data.billDetails.some((billDetails) => billDetails['SG'] == partynamegrp);\n-          }).map(function (subdata) {\n-            return {\n-              COD: subdata.COD,\n-              ATP: subdata.ATP,\n-              CT: subdata.CT,\n-              CG: subdata.CG,\n-              billDetails: subdata.billDetails.filter(function (billDetails) {\n-                return (billDetails['SG'] == partynamegrp);\n-              })\n-            }\n-          })\n-        }\n-        if (fromdate !== '' && fromdate !== null) {\n-          Data = Data.filter(function (data) {\n-            return data.billDetails.some((billDetails) => new Date(billDetails.DTE).setHours(0, 0, 0, 0) >= new Date(fromdate).setHours(0, 0, 0, 0));\n-          }).map(function (subdata) {\n-            return {\n-              COD: subdata.COD,\n-              ATP: subdata.ATP,\n-              CT: subdata.CT,\n-              CG: subdata.CG,\n-              billDetails: subdata.billDetails.filter(function (billDetails) {\n-                return new Date(billDetails.DTE).setHours(0, 0, 0, 0) >= new Date(fromdate).setHours(0, 0, 0, 0);\n-              })\n-            }\n-          })\n-        }\n-        if (todate !== '' && todate !== null) {\n-          Data = Data.filter(function (data) {\n-            return data.billDetails.some((billDetails) => new Date(billDetails.DTE).setHours(24, 0, 0, 0) <= new Date(todate).setHours(24, 0, 0, 0));\n-          }).map(function (subdata) {\n-            return {\n-              COD: subdata.COD,\n-              ATP: subdata.ATP,\n-              CT: subdata.CT,\n-              CG: subdata.CG,\n-              billDetails: subdata.billDetails.filter(function (billDetails) {\n-                return new Date(billDetails.DTE).setHours(24, 0, 0, 0) <= new Date(todate).setHours(24, 0, 0, 0);\n-              })\n-            }\n-          })\n-        }\n \n \n-        Data = Data.filter(function (data) {\n-          return data.billDetails.some((billDetails) => !(billDetails.TYPE.toUpperCase() == 'XX' && billDetails.VNO < 100000));\n-        }).map(function (subdata) {\n-          return {\n-            COD: subdata.COD,\n-            ATP: subdata.ATP,\n-            CT: subdata.CT,\n-            CG: subdata.CG,\n-            billDetails: subdata.billDetails.filter(function (billDetails) {\n-              return !(billDetails.TYPE.toUpperCase() == 'XX' && billDetails.VNO < 100000);\n-            })\n-          }\n-        })\n+          //---------------\n+          console.log(Data)\n+          if (ReportType != \"\" && ReportType != null) {\n+            if (ReportSeriesTypeCode.toUpperCase() == 'P') {\n+              ReportDOC_TYPECode = \"zp\";\n+              Data = PurchaseOutstandingReportFilter(Data);\n+            } else if (ReportSeriesTypeCode.toUpperCase() == 'S') {\n+              ReportDOC_TYPECode = \"os\";\n+              Data = SaleOutstandingReportFilter(Data);\n+            } else {\n+              if (ReportATypeCode != \"\" && ReportATypeCode != null && ReportATypeCode != undefined) {\n+                Data = Data.filter(function (data) {\n+                  return data['ATP'] == ReportATypeCode;\n+                })\n+              }\n+              console.log(Data, ReportDOC_TYPECode);\n \n+              if (ReportDOC_TYPECode != \"\" && ReportDOC_TYPECode != null && ReportDOC_TYPECode != undefined) {\n+                Data = Data.filter(function (data) {\n+                  return data.billDetails.some((bill) => bill.DT.toUpperCase() == ReportDOC_TYPECode.toUpperCase());\n+                }).map(function (subdata) {\n+                  return {\n+                    COD: subdata.COD,\n+                    ATP: subdata.ATP,\n+                    CT: subdata.CT,\n+                    CG: subdata.CG,\n+                    billDetails: subdata.billDetails.filter(function (bill) {\n+                      return bill.DT.toUpperCase() == ReportDOC_TYPECode.toUpperCase();\n+                    })\n+                  }\n+                })\n+              }\n+              console.log(Data, ReportSeriesTypeCode);\n \n-        //---------------\n-        console.log(Data)\n-        if (ReportType != \"\" && ReportType != null) {\n-          if (ReportSeriesTypeCode.toUpperCase() == 'P') {\n-            ReportDOC_TYPECode = \"zp\";\n-            Data = PurchaseOutstandingReportFilter(Data);\n-          } else if (ReportSeriesTypeCode.toUpperCase() == 'S') {\n-            ReportDOC_TYPECode = \"os\";\n-            Data = SaleOutstandingReportFilter(Data);\n-          } else {\n-            if (ReportATypeCode != \"\" && ReportATypeCode != null && ReportATypeCode != undefined) {\n-              Data = Data.filter(function (data) {\n-                return data['ATP'] == ReportATypeCode;\n-              })\n-            }\n-            console.log(Data, ReportDOC_TYPECode);\n+              //------\n+              if (ReportSeriesTypeCode != \"\" && ReportSeriesTypeCode != null && ReportSeriesTypeCode != undefined) {\n+                Data = Data.filter(function (data) {\n+                  return data.billDetails.some((bill) => bill.TYPE.toUpperCase() == ReportSeriesTypeCode.toUpperCase());\n+                }).map(function (subdata) {\n+                  return {\n+                    COD: subdata.COD,\n+                    ATP: subdata.ATP,\n+                    CT: subdata.CT,\n+                    CG: subdata.CG,\n+                    billDetails: subdata.billDetails.filter(function (bill) {\n+                      return bill.TYPE.toUpperCase() == ReportSeriesTypeCode.toUpperCase();\n+                    })\n+                  }\n+                })\n+              }\n+              console.log(Data);\n \n-            if (ReportDOC_TYPECode != \"\" && ReportDOC_TYPECode != null && ReportDOC_TYPECode != undefined) {\n-              Data = Data.filter(function (data) {\n-                return data.billDetails.some((bill) => bill.DT.toUpperCase() == ReportDOC_TYPECode.toUpperCase());\n-              }).map(function (subdata) {\n-                return {\n-                  COD: subdata.COD,\n-                  ATP: subdata.ATP,\n-                  CT: subdata.CT,\n-                  CG: subdata.CG,\n-                  billDetails: subdata.billDetails.filter(function (bill) {\n-                    return bill.DT.toUpperCase() == ReportDOC_TYPECode.toUpperCase();\n-                  })\n-                }\n-              })\n             }\n-            console.log(Data, ReportSeriesTypeCode);\n \n-            //------\n-            if (ReportSeriesTypeCode != \"\" && ReportSeriesTypeCode != null && ReportSeriesTypeCode != undefined) {\n-              Data = Data.filter(function (data) {\n-                return data.billDetails.some((bill) => bill.TYPE.toUpperCase() == ReportSeriesTypeCode.toUpperCase());\n-              }).map(function (subdata) {\n-                return {\n-                  COD: subdata.COD,\n-                  ATP: subdata.ATP,\n-                  CT: subdata.CT,\n-                  CG: subdata.CG,\n-                  billDetails: subdata.billDetails.filter(function (bill) {\n-                    return bill.TYPE.toUpperCase() == ReportSeriesTypeCode.toUpperCase();\n-                  })\n-                }\n-              })\n-            }\n-            console.log(Data);\n \n           }\n+          loadCall(Data);\n+        });\n+      })\n+    }\n \n-\n-        }\n-        loadCall(Data);\n-      });\n-    })\n-  }\n-\n   //-----------function-------\n   function SaleOutstandingReportFilter(Data) {\n-    if (ReportATypeCode != \"\" && ReportATypeCode != \"\" && ReportATypeCode != undefined) {\n-      if (ReportATypeCode != '' && ReportATypeCode != null) {\n-        Data = Data.filter(function (data) {\n-          return data['ATP'] == ReportATypeCode;\n-        })\n-      }\n-    }\n+        if (ReportATypeCode != \"\" && ReportATypeCode != \"\" && ReportATypeCode != undefined) {\n+          if (ReportATypeCode != '' && ReportATypeCode != null) {\n+            Data = Data.filter(function (data) {\n+              return data['ATP'] == ReportATypeCode;\n+            })\n+          }\n+        }\n \n-    console.log(Data);\n-    //------\n-    if (ReportDOC_TYPECode != \"\" && ReportDOC_TYPECode != \"\" && ReportDOC_TYPECode != undefined) {\n-      Data = Data.filter(function (data) {\n-        return data.billDetails.some((bill) => bill.DT.toUpperCase() == ReportDOC_TYPECode.toUpperCase()\n-          // || bill.DT.indexOf('dn') > -1\n-          || bill.DT.indexOf('cn') > -1\n-          || bill.TYPE.toUpperCase().indexOf('XX') > -1\n-          || bill.TYPE.toUpperCase().indexOf('B') > -1\n-          || bill.TYPE.toUpperCase().indexOf('C') > -1\n-          || bill.TYPE.toUpperCase().indexOf('J') > -1\n-          // || bill.DT.indexOf('zp') > -1\n-        );\n-      }).map(function (subdata) {\n-        return {\n-          COD: subdata.COD,\n-          ATP: subdata.ATP,\n-          CT: subdata.CT,\n-          CG: subdata.CG,\n-          billDetails: subdata.billDetails.filter(function (bill) {\n-            return bill.DT.toUpperCase() == ReportDOC_TYPECode.toUpperCase()\n+        console.log(Data);\n+        //------\n+        if (ReportDOC_TYPECode != \"\" && ReportDOC_TYPECode != \"\" && ReportDOC_TYPECode != undefined) {\n+          Data = Data.filter(function (data) {\n+            return data.billDetails.some((bill) => bill.DT.toUpperCase() == ReportDOC_TYPECode.toUpperCase()\n               // || bill.DT.indexOf('dn') > -1\n               || bill.DT.indexOf('cn') > -1\n               || bill.TYPE.toUpperCase().indexOf('XX') > -1\n               || bill.TYPE.toUpperCase().indexOf('B') > -1\n               || bill.TYPE.toUpperCase().indexOf('C') > -1\n               || bill.TYPE.toUpperCase().indexOf('J') > -1\n               // || bill.DT.indexOf('zp') > -1\n-              ;\n+            );\n+          }).map(function (subdata) {\n+            return {\n+              COD: subdata.COD,\n+              ATP: subdata.ATP,\n+              CT: subdata.CT,\n+              CG: subdata.CG,\n+              billDetails: subdata.billDetails.filter(function (bill) {\n+                return bill.DT.toUpperCase() == ReportDOC_TYPECode.toUpperCase()\n+                  // || bill.DT.indexOf('dn') > -1\n+                  || bill.DT.indexOf('cn') > -1\n+                  || bill.TYPE.toUpperCase().indexOf('XX') > -1\n+                  || bill.TYPE.toUpperCase().indexOf('B') > -1\n+                  || bill.TYPE.toUpperCase().indexOf('C') > -1\n+                  || bill.TYPE.toUpperCase().indexOf('J') > -1\n+                  // || bill.DT.indexOf('zp') > -1\n+                  ;\n+              })\n+            }\n           })\n         }\n-      })\n-    }\n \n \n-    //------\n+        //------\n \n \n \n-    if (ReportSeriesTypeCode != \"\" && ReportSeriesTypeCode != \"\" && ReportSeriesTypeCode != undefined) {\n-      Data = Data.filter(function (data) {\n-        return data.billDetails.some((bill) => bill.TYPE.toUpperCase().indexOf(ReportSeriesTypeCode.toUpperCase()) > -1\n-          // || bill.DT.indexOf('dn') > -1\n-          || bill.DT.indexOf('cn') > -1\n-          || bill.TYPE.toUpperCase().indexOf('XX') > -1\n-          || bill.TYPE.toUpperCase().indexOf('B') > -1\n-          || bill.TYPE.toUpperCase().indexOf('C') > -1\n-          || bill.TYPE.toUpperCase().indexOf('J') > -1\n-          // || bill.DT.indexOf('zp') > -1\n-        );\n-      }).map(function (subdata) {\n-        return {\n-          COD: subdata.COD,\n-          ATP: subdata.ATP,\n-          CT: subdata.CT,\n-          CG: subdata.CG,\n-          billDetails: subdata.billDetails.filter(function (bill) {\n-            return bill.TYPE.toUpperCase().indexOf(ReportSeriesTypeCode.toUpperCase()) > -1\n+        if (ReportSeriesTypeCode != \"\" && ReportSeriesTypeCode != \"\" && ReportSeriesTypeCode != undefined) {\n+          Data = Data.filter(function (data) {\n+            return data.billDetails.some((bill) => bill.TYPE.toUpperCase().indexOf(ReportSeriesTypeCode.toUpperCase()) > -1\n               // || bill.DT.indexOf('dn') > -1\n               || bill.DT.indexOf('cn') > -1\n               || bill.TYPE.toUpperCase().indexOf('XX') > -1\n               || bill.TYPE.toUpperCase().indexOf('B') > -1\n               || bill.TYPE.toUpperCase().indexOf('C') > -1\n               || bill.TYPE.toUpperCase().indexOf('J') > -1\n               // || bill.DT.indexOf('zp') > -1\n-              ;\n+            );\n+          }).map(function (subdata) {\n+            return {\n+              COD: subdata.COD,\n+              ATP: subdata.ATP,\n+              CT: subdata.CT,\n+              CG: subdata.CG,\n+              billDetails: subdata.billDetails.filter(function (bill) {\n+                return bill.TYPE.toUpperCase().indexOf(ReportSeriesTypeCode.toUpperCase()) > -1\n+                  // || bill.DT.indexOf('dn') > -1\n+                  || bill.DT.indexOf('cn') > -1\n+                  || bill.TYPE.toUpperCase().indexOf('XX') > -1\n+                  || bill.TYPE.toUpperCase().indexOf('B') > -1\n+                  || bill.TYPE.toUpperCase().indexOf('C') > -1\n+                  || bill.TYPE.toUpperCase().indexOf('J') > -1\n+                  // || bill.DT.indexOf('zp') > -1\n+                  ;\n+              })\n+            }\n           })\n         }\n-      })\n-    }\n \n \n-    return Data;\n-  }\n+        return Data;\n+      }\n   //-----------function-------\n   function PurchaseOutstandingReportFilter(Data) {\n-    if (ReportATypeCode != \"\" && ReportATypeCode != \"\" && ReportATypeCode != undefined) {\n-      if (ReportATypeCode != '' && ReportATypeCode != null) {\n-        Data = Data.filter(function (data) {\n-          return data['ATP'] == ReportATypeCode;\n-        })\n-      }\n-    }\n+        if (ReportATypeCode != \"\" && ReportATypeCode != \"\" && ReportATypeCode != undefined) {\n+          if (ReportATypeCode != '' && ReportATypeCode != null) {\n+            Data = Data.filter(function (data) {\n+              return data['ATP'] == ReportATypeCode;\n+            })\n+          }\n+        }\n \n-    //------\n-    if (ReportDOC_TYPECode != \"\" && ReportDOC_TYPECode != \"\" && ReportDOC_TYPECode != undefined) {\n-      Data = Data.filter(function (data) {\n-        return data.billDetails.some((bill) => bill.DT.toUpperCase() == ReportDOC_TYPECode.toUpperCase()\n-          // || bill.DT.indexOf('dn') > -1\n-          || bill.DT.indexOf('cn') > -1\n-          || bill.TYPE.toUpperCase().indexOf('XX') > -1\n-          || bill.TYPE.toUpperCase().indexOf('B') > -1\n-          || bill.TYPE.toUpperCase().indexOf('C') > -1\n-          // || bill.TYPE.toUpperCase().indexOf('J') > -1\n-        );\n-      }).map(function (subdata) {\n-        return {\n-          COD: subdata.COD,\n-          ATP: subdata.ATP,\n-          CT: subdata.CT,\n-          CG: subdata.CG,\n-          billDetails: subdata.billDetails.filter(function (bill) {\n-            return bill.DT.toUpperCase() == ReportDOC_TYPECode.toUpperCase()\n+        //------\n+        if (ReportDOC_TYPECode != \"\" && ReportDOC_TYPECode != \"\" && ReportDOC_TYPECode != undefined) {\n+          Data = Data.filter(function (data) {\n+            return data.billDetails.some((bill) => bill.DT.toUpperCase() == ReportDOC_TYPECode.toUpperCase()\n               // || bill.DT.indexOf('dn') > -1\n               || bill.DT.indexOf('cn') > -1\n               || bill.TYPE.toUpperCase().indexOf('XX') > -1\n               || bill.TYPE.toUpperCase().indexOf('B') > -1\n               || bill.TYPE.toUpperCase().indexOf('C') > -1\n               // || bill.TYPE.toUpperCase().indexOf('J') > -1\n-              ;\n+            );\n+          }).map(function (subdata) {\n+            return {\n+              COD: subdata.COD,\n+              ATP: subdata.ATP,\n+              CT: subdata.CT,\n+              CG: subdata.CG,\n+              billDetails: subdata.billDetails.filter(function (bill) {\n+                return bill.DT.toUpperCase() == ReportDOC_TYPECode.toUpperCase()\n+                  // || bill.DT.indexOf('dn') > -1\n+                  || bill.DT.indexOf('cn') > -1\n+                  || bill.TYPE.toUpperCase().indexOf('XX') > -1\n+                  || bill.TYPE.toUpperCase().indexOf('B') > -1\n+                  || bill.TYPE.toUpperCase().indexOf('C') > -1\n+                  // || bill.TYPE.toUpperCase().indexOf('J') > -1\n+                  ;\n+              })\n+            }\n           })\n         }\n-      })\n-    }\n-    //------\n-    if (ReportSeriesTypeCode != \"\" && ReportSeriesTypeCode != \"\" && ReportSeriesTypeCode != undefined) {\n-      Data = Data.filter(function (data) {\n-        return data.billDetails.some((bill) => bill.TYPE.toUpperCase().indexOf(ReportSeriesTypeCode.toUpperCase()) > -1\n-          // || bill.DT.indexOf('dn') > -1\n-          || bill.DT.indexOf('cn') > -1\n-          || bill.TYPE.toUpperCase().indexOf('XX') > -1\n-          || bill.TYPE.toUpperCase().indexOf('B') > -1\n-          || bill.TYPE.toUpperCase().indexOf('C') > -1\n-          // || bill.TYPE.toUpperCase().indexOf('J') > -1\n-        );\n-      }).map(function (subdata) {\n-        return {\n-          COD: subdata.COD,\n-          ATP: subdata.ATP,\n-          CT: subdata.CT,\n-          CG: subdata.CG,\n-          billDetails: subdata.billDetails.filter(function (bill) {\n-            return bill.TYPE.toUpperCase().indexOf(ReportSeriesTypeCode.toUpperCase()) > -1\n+        //------\n+        if (ReportSeriesTypeCode != \"\" && ReportSeriesTypeCode != \"\" && ReportSeriesTypeCode != undefined) {\n+          Data = Data.filter(function (data) {\n+            return data.billDetails.some((bill) => bill.TYPE.toUpperCase().indexOf(ReportSeriesTypeCode.toUpperCase()) > -1\n               // || bill.DT.indexOf('dn') > -1\n               || bill.DT.indexOf('cn') > -1\n               || bill.TYPE.toUpperCase().indexOf('XX') > -1\n               || bill.TYPE.toUpperCase().indexOf('B') > -1\n               || bill.TYPE.toUpperCase().indexOf('C') > -1\n               // || bill.TYPE.toUpperCase().indexOf('J') > -1\n-              ;\n-          })\n+            );\n+          }).map(function (subdata) {\n+            return {\n+              COD: subdata.COD,\n+              ATP: subdata.ATP,\n+              CT: subdata.CT,\n+              CG: subdata.CG,\n+              billDetails: subdata.billDetails.filter(function (bill) {\n+                return bill.TYPE.toUpperCase().indexOf(ReportSeriesTypeCode.toUpperCase()) > -1\n+                  // || bill.DT.indexOf('dn') > -1\n+                  || bill.DT.indexOf('cn') > -1\n+                  || bill.TYPE.toUpperCase().indexOf('XX') > -1\n+                  || bill.TYPE.toUpperCase().indexOf('B') > -1\n+                  || bill.TYPE.toUpperCase().indexOf('C') > -1\n+                  // || bill.TYPE.toUpperCase().indexOf('J') > -1\n+                  ;\n+              })\n+            })\n         }\n       })\n-    }\n+  }\n \n-    return Data;\n+  return Data;\n   }\n \n </script>\n \n"
                },
                {
                    "date": 1649653560272,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -287,168 +287,168 @@\n \n           }\n           loadCall(Data);\n         });\n-      })\n-    }\n+      });\n+    })\n+  }\n \n   //-----------function-------\n   function SaleOutstandingReportFilter(Data) {\n-        if (ReportATypeCode != \"\" && ReportATypeCode != \"\" && ReportATypeCode != undefined) {\n-          if (ReportATypeCode != '' && ReportATypeCode != null) {\n-            Data = Data.filter(function (data) {\n-              return data['ATP'] == ReportATypeCode;\n-            })\n-          }\n-        }\n+    if (ReportATypeCode != \"\" && ReportATypeCode != \"\" && ReportATypeCode != undefined) {\n+      if (ReportATypeCode != '' && ReportATypeCode != null) {\n+        Data = Data.filter(function (data) {\n+          return data['ATP'] == ReportATypeCode;\n+        })\n+      }\n+    }\n \n-        console.log(Data);\n-        //------\n-        if (ReportDOC_TYPECode != \"\" && ReportDOC_TYPECode != \"\" && ReportDOC_TYPECode != undefined) {\n-          Data = Data.filter(function (data) {\n-            return data.billDetails.some((bill) => bill.DT.toUpperCase() == ReportDOC_TYPECode.toUpperCase()\n+    console.log(Data);\n+    //------\n+    if (ReportDOC_TYPECode != \"\" && ReportDOC_TYPECode != \"\" && ReportDOC_TYPECode != undefined) {\n+      Data = Data.filter(function (data) {\n+        return data.billDetails.some((bill) => bill.DT.toUpperCase() == ReportDOC_TYPECode.toUpperCase()\n+          // || bill.DT.indexOf('dn') > -1\n+          || bill.DT.indexOf('cn') > -1\n+          || bill.TYPE.toUpperCase().indexOf('XX') > -1\n+          || bill.TYPE.toUpperCase().indexOf('B') > -1\n+          || bill.TYPE.toUpperCase().indexOf('C') > -1\n+          || bill.TYPE.toUpperCase().indexOf('J') > -1\n+          // || bill.DT.indexOf('zp') > -1\n+        );\n+      }).map(function (subdata) {\n+        return {\n+          COD: subdata.COD,\n+          ATP: subdata.ATP,\n+          CT: subdata.CT,\n+          CG: subdata.CG,\n+          billDetails: subdata.billDetails.filter(function (bill) {\n+            return bill.DT.toUpperCase() == ReportDOC_TYPECode.toUpperCase()\n               // || bill.DT.indexOf('dn') > -1\n               || bill.DT.indexOf('cn') > -1\n               || bill.TYPE.toUpperCase().indexOf('XX') > -1\n               || bill.TYPE.toUpperCase().indexOf('B') > -1\n               || bill.TYPE.toUpperCase().indexOf('C') > -1\n               || bill.TYPE.toUpperCase().indexOf('J') > -1\n               // || bill.DT.indexOf('zp') > -1\n-            );\n-          }).map(function (subdata) {\n-            return {\n-              COD: subdata.COD,\n-              ATP: subdata.ATP,\n-              CT: subdata.CT,\n-              CG: subdata.CG,\n-              billDetails: subdata.billDetails.filter(function (bill) {\n-                return bill.DT.toUpperCase() == ReportDOC_TYPECode.toUpperCase()\n-                  // || bill.DT.indexOf('dn') > -1\n-                  || bill.DT.indexOf('cn') > -1\n-                  || bill.TYPE.toUpperCase().indexOf('XX') > -1\n-                  || bill.TYPE.toUpperCase().indexOf('B') > -1\n-                  || bill.TYPE.toUpperCase().indexOf('C') > -1\n-                  || bill.TYPE.toUpperCase().indexOf('J') > -1\n-                  // || bill.DT.indexOf('zp') > -1\n-                  ;\n-              })\n-            }\n+              ;\n           })\n         }\n+      })\n+    }\n \n \n-        //------\n+    //------\n \n \n \n-        if (ReportSeriesTypeCode != \"\" && ReportSeriesTypeCode != \"\" && ReportSeriesTypeCode != undefined) {\n-          Data = Data.filter(function (data) {\n-            return data.billDetails.some((bill) => bill.TYPE.toUpperCase().indexOf(ReportSeriesTypeCode.toUpperCase()) > -1\n+    if (ReportSeriesTypeCode != \"\" && ReportSeriesTypeCode != \"\" && ReportSeriesTypeCode != undefined) {\n+      Data = Data.filter(function (data) {\n+        return data.billDetails.some((bill) => bill.TYPE.toUpperCase().indexOf(ReportSeriesTypeCode.toUpperCase()) > -1\n+          // || bill.DT.indexOf('dn') > -1\n+          || bill.DT.indexOf('cn') > -1\n+          || bill.TYPE.toUpperCase().indexOf('XX') > -1\n+          || bill.TYPE.toUpperCase().indexOf('B') > -1\n+          || bill.TYPE.toUpperCase().indexOf('C') > -1\n+          || bill.TYPE.toUpperCase().indexOf('J') > -1\n+          // || bill.DT.indexOf('zp') > -1\n+        );\n+      }).map(function (subdata) {\n+        return {\n+          COD: subdata.COD,\n+          ATP: subdata.ATP,\n+          CT: subdata.CT,\n+          CG: subdata.CG,\n+          billDetails: subdata.billDetails.filter(function (bill) {\n+            return bill.TYPE.toUpperCase().indexOf(ReportSeriesTypeCode.toUpperCase()) > -1\n               // || bill.DT.indexOf('dn') > -1\n               || bill.DT.indexOf('cn') > -1\n               || bill.TYPE.toUpperCase().indexOf('XX') > -1\n               || bill.TYPE.toUpperCase().indexOf('B') > -1\n               || bill.TYPE.toUpperCase().indexOf('C') > -1\n               || bill.TYPE.toUpperCase().indexOf('J') > -1\n               // || bill.DT.indexOf('zp') > -1\n-            );\n-          }).map(function (subdata) {\n-            return {\n-              COD: subdata.COD,\n-              ATP: subdata.ATP,\n-              CT: subdata.CT,\n-              CG: subdata.CG,\n-              billDetails: subdata.billDetails.filter(function (bill) {\n-                return bill.TYPE.toUpperCase().indexOf(ReportSeriesTypeCode.toUpperCase()) > -1\n-                  // || bill.DT.indexOf('dn') > -1\n-                  || bill.DT.indexOf('cn') > -1\n-                  || bill.TYPE.toUpperCase().indexOf('XX') > -1\n-                  || bill.TYPE.toUpperCase().indexOf('B') > -1\n-                  || bill.TYPE.toUpperCase().indexOf('C') > -1\n-                  || bill.TYPE.toUpperCase().indexOf('J') > -1\n-                  // || bill.DT.indexOf('zp') > -1\n-                  ;\n-              })\n-            }\n+              ;\n           })\n         }\n+      })\n+    }\n \n \n-        return Data;\n-      }\n+    return Data;\n+  }\n   //-----------function-------\n   function PurchaseOutstandingReportFilter(Data) {\n-        if (ReportATypeCode != \"\" && ReportATypeCode != \"\" && ReportATypeCode != undefined) {\n-          if (ReportATypeCode != '' && ReportATypeCode != null) {\n-            Data = Data.filter(function (data) {\n-              return data['ATP'] == ReportATypeCode;\n-            })\n-          }\n-        }\n+    if (ReportATypeCode != \"\" && ReportATypeCode != \"\" && ReportATypeCode != undefined) {\n+      if (ReportATypeCode != '' && ReportATypeCode != null) {\n+        Data = Data.filter(function (data) {\n+          return data['ATP'] == ReportATypeCode;\n+        })\n+      }\n+    }\n \n-        //------\n-        if (ReportDOC_TYPECode != \"\" && ReportDOC_TYPECode != \"\" && ReportDOC_TYPECode != undefined) {\n-          Data = Data.filter(function (data) {\n-            return data.billDetails.some((bill) => bill.DT.toUpperCase() == ReportDOC_TYPECode.toUpperCase()\n+    //------\n+    if (ReportDOC_TYPECode != \"\" && ReportDOC_TYPECode != \"\" && ReportDOC_TYPECode != undefined) {\n+      Data = Data.filter(function (data) {\n+        return data.billDetails.some((bill) => bill.DT.toUpperCase() == ReportDOC_TYPECode.toUpperCase()\n+          // || bill.DT.indexOf('dn') > -1\n+          || bill.DT.indexOf('cn') > -1\n+          || bill.TYPE.toUpperCase().indexOf('XX') > -1\n+          || bill.TYPE.toUpperCase().indexOf('B') > -1\n+          || bill.TYPE.toUpperCase().indexOf('C') > -1\n+          // || bill.TYPE.toUpperCase().indexOf('J') > -1\n+        );\n+      }).map(function (subdata) {\n+        return {\n+          COD: subdata.COD,\n+          ATP: subdata.ATP,\n+          CT: subdata.CT,\n+          CG: subdata.CG,\n+          billDetails: subdata.billDetails.filter(function (bill) {\n+            return bill.DT.toUpperCase() == ReportDOC_TYPECode.toUpperCase()\n               // || bill.DT.indexOf('dn') > -1\n               || bill.DT.indexOf('cn') > -1\n               || bill.TYPE.toUpperCase().indexOf('XX') > -1\n               || bill.TYPE.toUpperCase().indexOf('B') > -1\n               || bill.TYPE.toUpperCase().indexOf('C') > -1\n               // || bill.TYPE.toUpperCase().indexOf('J') > -1\n-            );\n-          }).map(function (subdata) {\n-            return {\n-              COD: subdata.COD,\n-              ATP: subdata.ATP,\n-              CT: subdata.CT,\n-              CG: subdata.CG,\n-              billDetails: subdata.billDetails.filter(function (bill) {\n-                return bill.DT.toUpperCase() == ReportDOC_TYPECode.toUpperCase()\n-                  // || bill.DT.indexOf('dn') > -1\n-                  || bill.DT.indexOf('cn') > -1\n-                  || bill.TYPE.toUpperCase().indexOf('XX') > -1\n-                  || bill.TYPE.toUpperCase().indexOf('B') > -1\n-                  || bill.TYPE.toUpperCase().indexOf('C') > -1\n-                  // || bill.TYPE.toUpperCase().indexOf('J') > -1\n-                  ;\n-              })\n-            }\n+              ;\n           })\n         }\n-        //------\n-        if (ReportSeriesTypeCode != \"\" && ReportSeriesTypeCode != \"\" && ReportSeriesTypeCode != undefined) {\n-          Data = Data.filter(function (data) {\n-            return data.billDetails.some((bill) => bill.TYPE.toUpperCase().indexOf(ReportSeriesTypeCode.toUpperCase()) > -1\n+      })\n+    }\n+    //------\n+    if (ReportSeriesTypeCode != \"\" && ReportSeriesTypeCode != \"\" && ReportSeriesTypeCode != undefined) {\n+      Data = Data.filter(function (data) {\n+        return data.billDetails.some((bill) => bill.TYPE.toUpperCase().indexOf(ReportSeriesTypeCode.toUpperCase()) > -1\n+          // || bill.DT.indexOf('dn') > -1\n+          || bill.DT.indexOf('cn') > -1\n+          || bill.TYPE.toUpperCase().indexOf('XX') > -1\n+          || bill.TYPE.toUpperCase().indexOf('B') > -1\n+          || bill.TYPE.toUpperCase().indexOf('C') > -1\n+          // || bill.TYPE.toUpperCase().indexOf('J') > -1\n+        );\n+      }).map(function (subdata) {\n+        return {\n+          COD: subdata.COD,\n+          ATP: subdata.ATP,\n+          CT: subdata.CT,\n+          CG: subdata.CG,\n+          billDetails: subdata.billDetails.filter(function (bill) {\n+            return bill.TYPE.toUpperCase().indexOf(ReportSeriesTypeCode.toUpperCase()) > -1\n               // || bill.DT.indexOf('dn') > -1\n               || bill.DT.indexOf('cn') > -1\n               || bill.TYPE.toUpperCase().indexOf('XX') > -1\n               || bill.TYPE.toUpperCase().indexOf('B') > -1\n               || bill.TYPE.toUpperCase().indexOf('C') > -1\n               // || bill.TYPE.toUpperCase().indexOf('J') > -1\n-            );\n-          }).map(function (subdata) {\n-            return {\n-              COD: subdata.COD,\n-              ATP: subdata.ATP,\n-              CT: subdata.CT,\n-              CG: subdata.CG,\n-              billDetails: subdata.billDetails.filter(function (bill) {\n-                return bill.TYPE.toUpperCase().indexOf(ReportSeriesTypeCode.toUpperCase()) > -1\n-                  // || bill.DT.indexOf('dn') > -1\n-                  || bill.DT.indexOf('cn') > -1\n-                  || bill.TYPE.toUpperCase().indexOf('XX') > -1\n-                  || bill.TYPE.toUpperCase().indexOf('B') > -1\n-                  || bill.TYPE.toUpperCase().indexOf('C') > -1\n-                  // || bill.TYPE.toUpperCase().indexOf('J') > -1\n-                  ;\n-              })\n-            })\n+              ;\n+          })\n         }\n       })\n-  }\n+    }\n \n-  return Data;\n+    return Data;\n   }\n \n </script>\n \n"
                },
                {
                    "date": 1649653576041,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -86,17 +86,10 @@\n   var fromdate = getUrlParams(url, \"search_FromDate\");\n   var todate = getUrlParams(url, \"search_ToDate\");\n   var DAYSCONDITION = getUrlParams(url, \"DAYSCONDITION\");\n   GRD = getUrlParams(url, \"GRD\");\n-  var DataCompmst = JSON.parse(localStorage.getItem(\"COMPMST\"));\n+  var DataCompmst = [];\n   var nowDate = new Date();\n-  if (FIRM != '') {\n-    for (var i = 0; i < DataCompmst.length; i++) {\n-      if (DataCompmst[i].FIRM == FIRM) {\n-        cno = DataCompmst[i].CNO;\n-      }\n-    }\n-  }\n \n   var ReportType = getUrlParams(url, \"ReportType\");\n   var ReportSeriesTypeCode = getUrlParams(url, \"ReportSeriesTypeCode\");\n   var ReportATypeCode = getUrlParams(url, \"ReportATypeCode\");\n"
                }
            ],
            "date": 1638352417810,
            "name": "Commit-0",
            "content": "<html>\n\n<head>\n  <title> OUTSTANDING </title>\n  <link rel=\"stylesheet\" type=\"text/css\" href=\"css/style.css\">\n  <link href=\"4.1.1/bootstrap.min.css\" rel=\"stylesheet\" id=\"bootstrap-css\">\n  <link href=\"1.10.4/jquery-ui.css\" rel=\"stylesheet\">\n  <script src=\"1.10.2/jquery.js\"></script>\n  <script src=\"1.10.4/jquery-ui.js\"></script>\n  <script src=\"js/jsGetUrlParams.js\"></script>\n  <script>\n    var url = window.location.href;\n    var FIRM = getUrlParams(url, \"FIRM\");\n    REPORTTYPE = getUrlParams(url, \"REPORTTYPE\");\n    if (REPORTTYPE == 'DATE WISE') {\n      var my_awesome_script = document.createElement('script');\n      my_awesome_script.setAttribute('src', 'js/jsLoadCallPURCHASEOUTSTANDING_DATEWISE.js');\n      document.head.appendChild(my_awesome_script);\n    } else {\n      var my_awesome_script = document.createElement('script');\n      my_awesome_script.setAttribute('src', 'js/jsLoadCallPURCHASEOUTSTANDING.js');\n      document.head.appendChild(my_awesome_script);\n    }\n  </script>\n</head>\n<Style>\n\n</Style>\n\n<body>\n  <div align=\"center\" class=\"table-responsive\">\n    <table id=\"result\" class=\"content-table\">\n    </table>\n  </div>\n\n\n  <div style=\"display: none;\" id=\"loader\">\n    <div class=\"loader\"></div>\n    <div style=\"text-align: center; margin-top: -80px; font-weight:700\">Please wait...</div>\n  </div>\n</body>\n\n</html>\n<script>\n  var url = window.location.href;\n  var DSN = getUrlParams(url, \"DatabaseSource\");\n</script>\n<script src=\"js/localStorageGet.js\"></script>\n<script src=\"js/jsopenSubReport.js\"></script>\n<script src=\"js/jsGetUrlParams.js\"></script>\n<script src=\"js/jsGetYearChange.js\"></script>\n<script src=\"js/jsGetDaysDif.js\"></script>\n<script src=\"js/jsGetDateFormate.js\"></script>\n<script src=\"js/jsGetObjectByKey.js\"></script>\n<script src=\"js/jstoFixed.js\"></script>\n<script src=\"js/jsfunction.js\"></script>\n<script src=\"js/jsgetValueNotDefine.js\"></script>\n<script>\n\n  var url = window.location.href;\n  var pdfStatus = false;\n  var Data;\n  var PAID = 'N';\n  var ATYPE = '1';\n  var tr = '';\n  var FIRM = getUrlParams(url, \"FIRM\");\n  var cno = '';\n  var EMP;\n  var partyname = getUrlParams(url, \"partyname\");\n  var partycode = getUrlParams(url, \"partycode\");\n  var ccd = getUrlParams(url, \"ccd\");\n  var ccdcode = getUrlParams(url, \"ccdcode\");\n  var partynamegrp = getUrlParams(url, \"partynamegrp\");\n  var partycodegrp = getUrlParams(url, \"partycodegrp\");\n  var ccdgrp = getUrlParams(url, \"ccdgrp\");\n  var ccdcodegrp = getUrlParams(url, \"ccdcodegrp\");\n  if (partyname == '') {\n    partycode = '';\n  }\n  if (ccd == '') {\n    ccdcode = '';\n  }\n  var broker = getUrlParams(url, \"broker\");\n  var CITY = getUrlParams(url, \"city\");\n  var haste = getUrlParams(url, \"haste\");\n  var fromdate = getUrlParams(url, \"search_FromDate\");\n  var todate = getUrlParams(url, \"search_ToDate\");\n  var DAYSCONDITION = getUrlParams(url, \"DAYSCONDITION\");\n  GRD = getUrlParams(url, \"GRD\");\n  var DataCompmst = JSON.parse(localStorage.getItem(\"COMPMST\"));\n  var nowDate = new Date();\n  if (FIRM != '') {\n    for (var i = 0; i < DataCompmst.length; i++) {\n      if (DataCompmst[i].FIRM == FIRM) {\n        cno = DataCompmst[i].CNO;\n      }\n    }\n  }\n\n  var ReportType = getUrlParams(url, \"ReportType\");\n  var ReportSeriesTypeCode = getUrlParams(url, \"ReportSeriesTypeCode\");\n  var ReportATypeCode = getUrlParams(url, \"ReportATypeCode\");\n  var ReportDOC_TYPECode = getUrlParams(url, \"ReportDOC_TYPECode\");\n\n</script>\n<script>\n  document.title = \"OUTSTANDING \" + partyname + \" \" + broker + \" \" + CITY;\n  $(document).ready(function () {\n    $(\"#loader\").addClass('has-loader');\n    load_data();\n  });\n  function load_data() {\n    jsGetObjectByKey(DSN, \"MST\", \"\").then(function (data) {\n      masterData = data;\n      jsGetObjectByKey(DSN, \"OUTSTANDING\", \"\").then(function (data) {\n        Data = data;\n        if (ccdgrp != '' && ccdgrp != null) {\n          console.log(ccdgrp)\n          Data = Data.filter(function (data) {\n            return data['CG'] == ccdgrp;\n          })\n        }\n        if (cno != '' && cno != null) {\n          Data = Data.filter(function (data) {\n            return data.billDetails.some((billDetails) => billDetails['CNO'] === cno);\n          }).map(function (subdata) {\n            return {\n              COD: subdata.COD,\n              ATP: subdata.ATP,\n              CT: subdata.CT,\n              CG: subdata.CG,\n              billDetails: subdata.billDetails.filter(function (billDetails) {\n                return (billDetails['CNO'] === cno);\n              })\n            }\n          })\n        }\n        console.log(ccdcode, ccd)\n        console.log(partycode, partyname)\n        if (ccdcode != '' && ccdcode != null) {\n          Data = Data.filter(function (data) {\n            return data['COD'] == ccdcode;\n          })\n        }\n\n        console.log(Data);\n        if (partyname != '' && partyname != null) {\n          Data = Data.filter(function (data) {\n            return data.billDetails.some((billDetails) => billDetails['ccd'] == partyname);\n          }).map(function (subdata) {\n            return {\n              COD: subdata.COD,\n              ATP: subdata.ATP,\n              CT: subdata.CT,\n              CG: subdata.CG,\n              billDetails: subdata.billDetails.filter(function (billDetails) {\n                return (billDetails['ccd'] == partyname);\n              })\n            }\n          })\n        }\n        if (partynamegrp != '' && partynamegrp != null) {\n          Data = Data.filter(function (data) {\n            return data.billDetails.some((billDetails) => billDetails['SG'] == partynamegrp);\n          }).map(function (subdata) {\n            return {\n              COD: subdata.COD,\n              ATP: subdata.ATP,\n              CT: subdata.CT,\n              CG: subdata.CG,\n              billDetails: subdata.billDetails.filter(function (billDetails) {\n                return (billDetails['SG'] == partynamegrp);\n              })\n            }\n          })\n        }\n        if (fromdate !== '' && fromdate !== null) {\n          Data = Data.filter(function (data) {\n            return data.billDetails.some((billDetails) => new Date(billDetails.DTE).setHours(0, 0, 0, 0) >= new Date(fromdate).setHours(0, 0, 0, 0));\n          }).map(function (subdata) {\n            return {\n              COD: subdata.COD,\n              ATP: subdata.ATP,\n              CT: subdata.CT,\n              CG: subdata.CG,\n              billDetails: subdata.billDetails.filter(function (billDetails) {\n                return new Date(billDetails.DTE).setHours(0, 0, 0, 0) >= new Date(fromdate).setHours(0, 0, 0, 0);\n              })\n            }\n          })\n        }\n        if (todate !== '' && todate !== null) {\n          Data = Data.filter(function (data) {\n            return data.billDetails.some((billDetails) => new Date(billDetails.DTE).setHours(24, 0, 0, 0) <= new Date(todate).setHours(24, 0, 0, 0));\n          }).map(function (subdata) {\n            return {\n              COD: subdata.COD,\n              ATP: subdata.ATP,\n              CT: subdata.CT,\n              CG: subdata.CG,\n              billDetails: subdata.billDetails.filter(function (billDetails) {\n                return new Date(billDetails.DTE).setHours(24, 0, 0, 0) <= new Date(todate).setHours(24, 0, 0, 0);\n              })\n            }\n          })\n        }\n\n\n        Data = Data.filter(function (data) {\n          return data.billDetails.some((billDetails) => !(billDetails.TYPE.toUpperCase() == 'XX' && billDetails.VNO < 100000));\n        }).map(function (subdata) {\n          return {\n            COD: subdata.COD,\n            ATP: subdata.ATP,\n            CT: subdata.CT,\n            CG: subdata.CG,\n            billDetails: subdata.billDetails.filter(function (billDetails) {\n              return !(billDetails.TYPE.toUpperCase() == 'XX' && billDetails.VNO < 100000);\n            })\n          }\n        })\n\n\n        //---------------\n        console.log(Data)\n        if (ReportType != \"\" && ReportType != null) {\n          if (ReportSeriesTypeCode.toUpperCase() == 'P') {\n            ReportDOC_TYPECode = \"zp\";\n            Data = PurchaseOutstandingReportFilter(Data);\n          } else if (ReportSeriesTypeCode.toUpperCase() == 'S') {\n            ReportDOC_TYPECode = \"os\";\n            Data = SaleOutstandingReportFilter(Data);\n          } else {\n            if (ReportATypeCode != \"\" && ReportATypeCode != null && ReportATypeCode != undefined) {\n              Data = Data.filter(function (data) {\n                return data['ATP'] == ReportATypeCode;\n              })\n            }\n            console.log(Data, ReportDOC_TYPECode);\n\n            if (ReportDOC_TYPECode != \"\" && ReportDOC_TYPECode != null && ReportDOC_TYPECode != undefined) {\n              Data = Data.filter(function (data) {\n                return data.billDetails.some((bill) => bill.DT.toUpperCase() == ReportDOC_TYPECode.toUpperCase());\n              }).map(function (subdata) {\n                return {\n                  COD: subdata.COD,\n                  ATP: subdata.ATP,\n                  CT: subdata.CT,\n                  CG: subdata.CG,\n                  billDetails: subdata.billDetails.filter(function (bill) {\n                    return bill.DT.toUpperCase() == ReportDOC_TYPECode.toUpperCase();\n                  })\n                }\n              })\n            }\n            console.log(Data, ReportSeriesTypeCode);\n\n            //------\n            if (ReportSeriesTypeCode != \"\" && ReportSeriesTypeCode != null && ReportSeriesTypeCode != undefined) {\n              Data = Data.filter(function (data) {\n                return data.billDetails.some((bill) => bill.TYPE.toUpperCase() == ReportSeriesTypeCode.toUpperCase());\n              }).map(function (subdata) {\n                return {\n                  COD: subdata.COD,\n                  ATP: subdata.ATP,\n                  CT: subdata.CT,\n                  CG: subdata.CG,\n                  billDetails: subdata.billDetails.filter(function (bill) {\n                    return bill.TYPE.toUpperCase() == ReportSeriesTypeCode.toUpperCase();\n                  })\n                }\n              })\n            }\n            console.log(Data);\n\n          }\n\n\n        }\n        loadCall(Data);\n      });\n    })\n  }\n\n  //-----------function-------\n  function SaleOutstandingReportFilter(Data) {\n    if (ReportATypeCode != \"\" && ReportATypeCode != \"\" && ReportATypeCode != undefined) {\n      if (ReportATypeCode != '' && ReportATypeCode != null) {\n        Data = Data.filter(function (data) {\n          return data['ATP'] == ReportATypeCode;\n        })\n      }\n    }\n\n    console.log(Data);\n    //------\n    if (ReportDOC_TYPECode != \"\" && ReportDOC_TYPECode != \"\" && ReportDOC_TYPECode != undefined) {\n      Data = Data.filter(function (data) {\n        return data.billDetails.some((bill) => bill.DT.toUpperCase() == ReportDOC_TYPECode.toUpperCase()\n          // || bill.DT.indexOf('dn') > -1\n          || bill.DT.indexOf('cn') > -1\n          || bill.TYPE.toUpperCase().indexOf('XX') > -1\n          || bill.TYPE.toUpperCase().indexOf('B') > -1\n          || bill.TYPE.toUpperCase().indexOf('C') > -1\n          || bill.TYPE.toUpperCase().indexOf('J') > -1\n          // || bill.DT.indexOf('zp') > -1\n        );\n      }).map(function (subdata) {\n        return {\n          COD: subdata.COD,\n          ATP: subdata.ATP,\n          CT: subdata.CT,\n          CG: subdata.CG,\n          billDetails: subdata.billDetails.filter(function (bill) {\n            return bill.DT.toUpperCase() == ReportDOC_TYPECode.toUpperCase()\n              // || bill.DT.indexOf('dn') > -1\n              || bill.DT.indexOf('cn') > -1\n              || bill.TYPE.toUpperCase().indexOf('XX') > -1\n              || bill.TYPE.toUpperCase().indexOf('B') > -1\n              || bill.TYPE.toUpperCase().indexOf('C') > -1\n              || bill.TYPE.toUpperCase().indexOf('J') > -1\n              // || bill.DT.indexOf('zp') > -1\n              ;\n          })\n        }\n      })\n    }\n\n\n    //------\n\n\n\n    if (ReportSeriesTypeCode != \"\" && ReportSeriesTypeCode != \"\" && ReportSeriesTypeCode != undefined) {\n      Data = Data.filter(function (data) {\n        return data.billDetails.some((bill) => bill.TYPE.toUpperCase().indexOf(ReportSeriesTypeCode.toUpperCase()) > -1\n          // || bill.DT.indexOf('dn') > -1\n          || bill.DT.indexOf('cn') > -1\n          || bill.TYPE.toUpperCase().indexOf('XX') > -1\n          || bill.TYPE.toUpperCase().indexOf('B') > -1\n          || bill.TYPE.toUpperCase().indexOf('C') > -1\n          || bill.TYPE.toUpperCase().indexOf('J') > -1\n          // || bill.DT.indexOf('zp') > -1\n        );\n      }).map(function (subdata) {\n        return {\n          COD: subdata.COD,\n          ATP: subdata.ATP,\n          CT: subdata.CT,\n          CG: subdata.CG,\n          billDetails: subdata.billDetails.filter(function (bill) {\n            return bill.TYPE.toUpperCase().indexOf(ReportSeriesTypeCode.toUpperCase()) > -1\n              // || bill.DT.indexOf('dn') > -1\n              || bill.DT.indexOf('cn') > -1\n              || bill.TYPE.toUpperCase().indexOf('XX') > -1\n              || bill.TYPE.toUpperCase().indexOf('B') > -1\n              || bill.TYPE.toUpperCase().indexOf('C') > -1\n              || bill.TYPE.toUpperCase().indexOf('J') > -1\n              // || bill.DT.indexOf('zp') > -1\n              ;\n          })\n        }\n      })\n    }\n\n\n    return Data;\n  }\n  //-----------function-------\n  function PurchaseOutstandingReportFilter(Data) {\n    if (ReportATypeCode != \"\" && ReportATypeCode != \"\" && ReportATypeCode != undefined) {\n      if (ReportATypeCode != '' && ReportATypeCode != null) {\n        Data = Data.filter(function (data) {\n          return data['ATP'] == ReportATypeCode;\n        })\n      }\n    }\n\n    //------\n    if (ReportDOC_TYPECode != \"\" && ReportDOC_TYPECode != \"\" && ReportDOC_TYPECode != undefined) {\n      Data = Data.filter(function (data) {\n        return data.billDetails.some((bill) => bill.DT.toUpperCase() == ReportDOC_TYPECode.toUpperCase()\n          // || bill.DT.indexOf('dn') > -1\n          || bill.DT.indexOf('cn') > -1\n          || bill.TYPE.toUpperCase().indexOf('XX') > -1\n          || bill.TYPE.toUpperCase().indexOf('B') > -1\n          || bill.TYPE.toUpperCase().indexOf('C') > -1\n          // || bill.TYPE.toUpperCase().indexOf('J') > -1\n        );\n      }).map(function (subdata) {\n        return {\n          COD: subdata.COD,\n          ATP: subdata.ATP,\n          CT: subdata.CT,\n          CG: subdata.CG,\n          billDetails: subdata.billDetails.filter(function (bill) {\n            return bill.DT.toUpperCase() == ReportDOC_TYPECode.toUpperCase()\n              // || bill.DT.indexOf('dn') > -1\n              || bill.DT.indexOf('cn') > -1\n              || bill.TYPE.toUpperCase().indexOf('XX') > -1\n              || bill.TYPE.toUpperCase().indexOf('B') > -1\n              || bill.TYPE.toUpperCase().indexOf('C') > -1\n              // || bill.TYPE.toUpperCase().indexOf('J') > -1\n              ;\n          })\n        }\n      })\n    }\n    //------\n    if (ReportSeriesTypeCode != \"\" && ReportSeriesTypeCode != \"\" && ReportSeriesTypeCode != undefined) {\n      Data = Data.filter(function (data) {\n        return data.billDetails.some((bill) => bill.TYPE.toUpperCase().indexOf(ReportSeriesTypeCode.toUpperCase()) > -1\n          // || bill.DT.indexOf('dn') > -1\n          || bill.DT.indexOf('cn') > -1\n          || bill.TYPE.toUpperCase().indexOf('XX') > -1\n          || bill.TYPE.toUpperCase().indexOf('B') > -1\n          || bill.TYPE.toUpperCase().indexOf('C') > -1\n          // || bill.TYPE.toUpperCase().indexOf('J') > -1\n        );\n      }).map(function (subdata) {\n        return {\n          COD: subdata.COD,\n          ATP: subdata.ATP,\n          CT: subdata.CT,\n          CG: subdata.CG,\n          billDetails: subdata.billDetails.filter(function (bill) {\n            return bill.TYPE.toUpperCase().indexOf(ReportSeriesTypeCode.toUpperCase()) > -1\n              // || bill.DT.indexOf('dn') > -1\n              || bill.DT.indexOf('cn') > -1\n              || bill.TYPE.toUpperCase().indexOf('XX') > -1\n              || bill.TYPE.toUpperCase().indexOf('B') > -1\n              || bill.TYPE.toUpperCase().indexOf('C') > -1\n              // || bill.TYPE.toUpperCase().indexOf('J') > -1\n              ;\n          })\n        }\n      })\n    }\n\n    return Data;\n  }\n\n</script>\n\n<script src=\"js/jsHeaderTbl.js\"></script>"
        }
    ]
}