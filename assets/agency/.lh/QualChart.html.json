{
    "sourceFile": "QualChart.html",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1638352962010,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1638352962010,
            "name": "Commit-0",
            "content": "<html>\r\n\r\n<head>\r\n    <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" />\r\n    <title>CATALOG CHART</title>\r\n    <style>\r\n        @media print {\r\n            a[href]::after {\r\n                content: none !important;\r\n            }\r\n        }\r\n    </style>\r\n    <link href=\"4.1.1/bootstrap.min.css\" rel=\"stylesheet\" id=\"bootstrap-css\">\r\n    <link href=\"1.10.4/jquery-ui.css\" rel=\"stylesheet\">\r\n    <script src=\"1.10.2/jquery.js\"></script>\r\n    <script src=\"1.10.4/jquery-ui.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"css/styleAutoComplete.css\">\r\n    <link rel=\"stylesheet\" href=\"css/style.css\">\r\n    <script src=\"js/jsGetUrlParams.js\"></script>\r\n\r\n</head>\r\n\r\n<body>\r\n    <div style=\"background-color: #588c7e;\" id=\"hideAbleDiv\">\r\n        <div>\r\n            <a class=\"navbar-brand\" style=\"color:white\" href=\"#\"> CATALOG CHART</a>\r\n        </div>\r\n        <div class=\"form-row\" align=\"center\">\r\n            <div class=\"col form-group\">\r\n                <input type=\"text\" autocomplete=\"off\" name=\"qualname\" id=\"qualname\" onchange=\"\"\r\n                    placeholder=\"Search by Quality\" class=\"form-control\" />\r\n                <input type=\"hidden\" name=\"qualcode\" id=\"qualcode\" onchange=\"\" placeholder=\"Search by Customer Name\"\r\n                    class=\"form-control\" />\r\n            </div>\r\n            <div class=\"col form-group\">\r\n                <select name=\"qualType\" onchange=\"changeOption();\" class=\"form-control\" id=\"qualType\">\r\n                </select>\r\n            </div>\r\n            <div class=\"col form-group\" align=\"center\">\r\n                <span class=\"btn brn-primary\" onclick=\"loadparty();\"\r\n                    style=\"color:white;background-color: darkslategrey;\"> SEARCH </span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n\r\n    <div style=\"size:10px;\" align=\"center\">\r\n        <table id=\"result\" class=\"content-table\">\r\n\r\n        </table>\r\n    </div>\r\n\r\n</body>\r\n\r\n\r\n<script>\r\n    // var DSN = 'MTEx2021';\r\n    // var Db = '111';\r\n    // var Crntyear = '2021';\r\n\r\n    var url = window.location.href;\r\n    var DSN = getUrlParams(url, \"DatabaseSource\");\r\n    var Currentyear = getUrlParams(url, \"Currentyear\");\r\n</script>\r\n<script src=\"js/localStorageGet.js\"></script>\r\n<script src=\"js/jsLoadCallQualChart.js\"></script>\r\n<script src=\"js/jsgetValueNotDefine.js\"></script>\r\n<script src=\"js/jsgetValueNotDefineNo.js\"></script>\r\n<script src=\"js/jsGetObjectByKey.js\"></script>\r\n<script>\r\n    var Data;\r\n    var qualcode;\r\n    var SubUserPermitionArray;\r\n    var QualArr;\r\n    var qualType=\"\";\r\n    var OnSelect=\"QT\"\r\n    $(document).ready(function () {\r\n        jsGetObjectByKey(DSN, \"QUL\", \"\").then(function (data) {\r\n            QualData = data;\r\n            QualArr = data;\r\n            // $(\"#qualname\").keyup(function(e) {\r\n            //     if (e.which == 38 || e.which == 40 || e.which == 13) {\r\n            //         return;\r\n            //     } else {\r\n            //         var qualname = $(this).val();\r\n            //         //alert(qualname);\r\n            //         if (qualname !== \"\") {\r\n            //             if (QualData.length > 0) {\r\n            //                 console.log(\"----\" + qualname);\r\n            //                 $(\"#qualname\").autocomplete({\r\n            //                     minLength: 1,\r\n            //                     source: function(request, response) {\r\n            //                         var term = $.ui.autocomplete.escapeRegex(\r\n            //                                 request.term\r\n            //                             ),\r\n            //                             startsWithMatcher = new RegExp(\"^\" + term, \"i\"),\r\n            //                             startsWith = $.grep(QualData, function(\r\n            //                                 value\r\n            //                             ) {\r\n            //                                 return startsWithMatcher.test(\r\n            //                                     value.value || value.label || value\r\n            //                                 );\r\n            //                             }),\r\n            //                             containsMatcher = new RegExp(term, \"i\"),\r\n            //                             contains = $.grep(QualData, function(value) {\r\n            //                                 return (\r\n            //                                     $.inArray(value, startsWith) < 0 &&\r\n            //                                     containsMatcher.test(\r\n            //                                         value.value || value.label || value\r\n            //                                     )\r\n            //                                 );\r\n            //                             });\r\n\r\n            //                         response(startsWith.concat(contains));\r\n            //                     },\r\n            //                     select: function(event, ui) {\r\n            //                         event.preventDefault();\r\n            //                         $(this).val(ui.item.label);\r\n            //                         $(\"#qualcode\").val(ui.item.value);\r\n            //                         $(\"#qualname\").val(ui.item.qualname);\r\n            //                     },\r\n            //                 });\r\n            //             }\r\n            //         }\r\n            //     }\r\n            // });\r\n\r\n            Data = data;\r\n            qualcode = $('#qualname').val();\r\n            SelectQualOptions(\"qualType\")\r\n            loadCall(qualcode);\r\n\r\n        });\r\n\r\n    });\r\n\r\n    function load_data() {\r\n\r\n    }\r\n\r\n    $(\"#qualname\").keyup(function (e) {\r\n        var qualname = $(this).val();\r\n        if (qualname !== \"\") {\r\n            loadCall(qualname);\r\n        }\r\n    })\r\n    function loadparty() {\r\n        qualcode = $('#qualname').val();\r\n        console.log(qualcode);\r\n        loadCall(qualcode);\r\n    }\r\n\r\n    function clear_search() {\r\n        $('#qualname').val('');\r\n        $('#qualcode').val('');\r\n        loadCall(\"\");\r\n    }\r\n    function SelectQualOptions(IdQualOptions) {\r\n        var xQual = document.getElementById(IdQualOptions);\r\n        var categories = [];\r\n\r\n        $.each(QualArr, function (index, value) {\r\n            if ($.inArray(value.QT, categories) === -1) {\r\n                categories.push(value.QT);\r\n            }\r\n        });\r\n        QualArr = categories;\r\n        console.log(QualArr);\r\n        if (QualArr.length > 0) {\r\n            QualArr.forEach(function (element, index) {\r\n                var option = document.createElement(\"option\");\r\n                option.value = element;\r\n                option.text = element;\r\n                xQual.add(option, xQual[0]);\r\n                //  alert(element.Qual);\r\n            });\r\n\r\n        }\r\n    }\r\n\r\n    function changeOption(){\r\n         qualType=document.getElementById('qualType').value;\r\n        loadparty();\r\n    }\r\n</script>"
        }
    ]
}