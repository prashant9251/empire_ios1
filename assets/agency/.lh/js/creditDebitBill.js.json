{
    "sourceFile": "js/creditDebitBill.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 35,
            "patches": [
                {
                    "date": 1634546999888,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1637304832689,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -70,13 +70,15 @@\n           var CO_ADD1 = \"\";\n           var CO_ADD2 = \"\";\n           var CO_ADD3 = \"\";\n           var CO_ADD4 = \"\";\n+          var CO_MOBILE = \"\";\n+          var CO_PHONE1 = \"\";\n           var CO_CITY = \"\";\n           var CO_COMPANY_GSTIN = \"\";\n           var CO_PANNO = \"\";\n           var MainFirmName = getValueNotDefine(BLS[i].billDetails[j].ccd);\n-         \n+\n           if (ACTYPE != \"AGENCY\") {\n             MainFirmName = firmArray[0].FIRM;\n             CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n             CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n@@ -84,9 +86,11 @@\n             CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n             CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n             CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n             CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-          }else{\n+            CO_MOBILE =getValueNotDefine(firmArray[0].MOBILE)\n+            CO_PHONE1 =getValueNotDefine(firmArray[0].PHONE1)\n+          } else {\n             var SuppArray = getPartyDetailsBySendCode(BLS[i].billDetails[j].ccd);\n             if (SuppArray.length > 0) {\n               CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n               CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n@@ -224,8 +228,11 @@\n           <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n           </tr>`;\n             var sr = 0;\n             var billDet = DET[0].billDetails;\n+            billDet = billDet.sort(function (a, b) {\n+              return parseInt(a.SR) - parseInt(b.SR);\n+            })\n             for (var k = 0; k < billDet.length; k++) {\n               ccode = getPartyDetailsBySendCode(billDet[k].SP);\n               var ccdpcode = \"\";\n               if (ccode.length > 0) {\n"
                },
                {
                    "date": 1637304839937,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -98,8 +98,10 @@\n               CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n               CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n               CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n               CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n+              CO_MOBILE =getValueNotDefine(firmArray[0].MOBILE)\n+              CO_PHONE1 =getValueNotDefine(firmArray[0].PHONE1)\n             }\n           }\n           div += `\n         <div class=\"page\" style=\"min-height: auto;\">\n"
                },
                {
                    "date": 1637304895260,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -86,10 +86,10 @@\n             CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n             CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n             CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n             CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-            CO_MOBILE =getValueNotDefine(firmArray[0].MOBILE)\n-            CO_PHONE1 =getValueNotDefine(firmArray[0].PHONE1)\n+            CO_MOBILE = getValueNotDefine(firmArray[0].MOBILE)\n+            CO_PHONE1 = getValueNotDefine(firmArray[0].PHONE1)\n           } else {\n             var SuppArray = getPartyDetailsBySendCode(BLS[i].billDetails[j].ccd);\n             if (SuppArray.length > 0) {\n               CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n@@ -98,10 +98,10 @@\n               CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n               CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n               CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n               CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n-              CO_MOBILE =getValueNotDefine(firmArray[0].MOBILE)\n-              CO_PHONE1 =getValueNotDefine(firmArray[0].PHONE1)\n+              CO_MOBILE = getValueNotDefine(SuppArray[0].MO)\n+              CO_PHONE1 = getValueNotDefine(SuppArray[0].PH1)\n             }\n           }\n           div += `\n         <div class=\"page\" style=\"min-height: auto;\">\n"
                },
                {
                    "date": 1638012083326,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -299,8 +299,16 @@\n            <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL ADD : `+ valuetoFixed(BLS[i].billDetails[j].AA1) + `</td>\n           </tr>\n         `;\n           }\n+          \n+          if (getValueNotDefineNo(BLS[i].billDetails[j].AA2) != 0) {\n+            div += `\n+          <tr>\n+           <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL ADD : `+ valuetoFixed(BLS[i].billDetails[j].AA2) + `</td>\n+          </tr>\n+        `;\n+          }\n \n           if (getValueNotDefineNo(BLS[i].billDetails[j].O_LS) != 0) {\n             div += `\n           <tr>\n"
                },
                {
                    "date": 1638012110879,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -303,9 +303,9 @@\n           \n           if (getValueNotDefineNo(BLS[i].billDetails[j].AA2) != 0) {\n             div += `\n           <tr>\n-           <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL ADD : `+ valuetoFixed(BLS[i].billDetails[j].AA2) + `</td>\n+           <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL LESS : `+ valuetoFixed(BLS[i].billDetails[j].AA2) + `</td>\n           </tr>\n         `;\n           }\n \n"
                },
                {
                    "date": 1638012133028,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -303,9 +303,9 @@\n           \n           if (getValueNotDefineNo(BLS[i].billDetails[j].AA2) != 0) {\n             div += `\n           <tr>\n-           <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL LESS : `+ valuetoFixed(BLS[i].billDetails[j].AA2) + `</td>\n+           <td style=\"text-align:right;width:100%;\"colspan=\"3\">OTHER ADD : `+ valuetoFixed(BLS[i].billDetails[j].AA2) + `</td>\n           </tr>\n         `;\n           }\n \n"
                },
                {
                    "date": 1638190543639,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -113,9 +113,9 @@\n \n       <tr  class=\"upperCase\">\n       <td style=\"text-align:left;\">SUBJECT TO SURAT JURIDICTION ONLY</td>\n       <td style=\"text-align:center;\"></td>\n-      <td style=\"text-align:left;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+      <td style=\"text-align:left;\">PH :  `+ getValueNotDefine(CO_MOBILE) + `,  ` + getValueNotDefine(CO_PHONE1) + `</td>\n       </tr>\n     \n       <tr  class=\"upperCase\">\n       <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n"
                },
                {
                    "date": 1638190587040,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -91,12 +91,12 @@\n             CO_PHONE1 = getValueNotDefine(firmArray[0].PHONE1)\n           } else {\n             var SuppArray = getPartyDetailsBySendCode(BLS[i].billDetails[j].ccd);\n             if (SuppArray.length > 0) {\n-              CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-              CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-              CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-              CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+              CO_ADD1 = getValueNotDefine(SuppArray[0].AD1);\n+              CO_ADD2 = getValueNotDefine(SuppArray[0].AD2);\n+              CO_ADD3 = getValueNotDefine(SuppArray[0].AD3);\n+              CO_ADD4 = getValueNotDefine(SuppArray[0].AD4);\n               CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n               CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n               CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n               CO_MOBILE = getValueNotDefine(SuppArray[0].MO)\n"
                },
                {
                    "date": 1638190643218,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -95,10 +95,10 @@\n               CO_ADD1 = getValueNotDefine(SuppArray[0].AD1);\n               CO_ADD2 = getValueNotDefine(SuppArray[0].AD2);\n               CO_ADD3 = getValueNotDefine(SuppArray[0].AD3);\n               CO_ADD4 = getValueNotDefine(SuppArray[0].AD4);\n-              CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n-              CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+              CO_CITY = getValueNotDefine(SuppArray[0].city);\n+              CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].GST);\n               CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n               CO_MOBILE = getValueNotDefine(SuppArray[0].MO)\n               CO_PHONE1 = getValueNotDefine(SuppArray[0].PH1)\n             }\n"
                },
                {
                    "date": 1653228228709,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -76,9 +76,9 @@\n           var CO_CITY = \"\";\n           var CO_COMPANY_GSTIN = \"\";\n           var CO_PANNO = \"\";\n           var MainFirmName = getValueNotDefine(BLS[i].billDetails[j].ccd);\n-\n+          ACTYPE=\"AGENCY\";\n           if (ACTYPE != \"AGENCY\") {\n             MainFirmName = firmArray[0].FIRM;\n             CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n             CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n@@ -189,10 +189,10 @@\n       <td style=\"text-align:left;\">STATION `+ getValueNotDefine(BLS[i].billDetails[j].PLC) + ` </td>\n       </tr>\n \n       <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">WEIGHT : `+ valuetoFixed(getValueNotDefine(BLS[i].billDetails[j].WGT)) + `</td>\n-      <td style=\"text-align:left;\">FREIGHT: `+ valuetoFixed(getValueNotDefine(BLS[i].billDetails[j].FRT)) + ` </td>\n+      <td style=\"text-align:left;\"colspan=\"2\">WEIGHT : `+ parseFloat(getValueNotDefine(BLS[i].billDetails[j].WGT)).toFixed(2) + `</td>\n+      <td style=\"text-align:left;\">FREIGHT: `+ parseFloat(getValueNotDefine(BLS[i].billDetails[j].FRT)).toFixed(2) + ` </td>\n       </tr>\n \n       <tr>\n       <td colspan=\"11\"><hr class=\"pdfhr\"></td>\n@@ -207,8 +207,9 @@\n           //     data.TYPE.toUpperCase() == BLS[i].billDetails[j].TYPE.toUpperCase() &&\n           //     data.VNO.toUpperCase() == BLS[i].billDetails[j].VNO.toUpperCase();\n           // })\n           // console.log(DET);\n+          var subTotalAmt = 0;\n           if (DET.length > 0) {\n             div += `\n           <table  class=\"table-responsive\" style=\"width:100%;font-size:12px;\">\n           <tr style=\"font-weight:bold;\" class=\"upperCase\">\n@@ -242,18 +243,19 @@\n               }\n               var RATE = parseFloat(billDet[k].RATE);\n               var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n               var finalRate = RATE + (DHARA * RATE / 100);\n+              subTotalAmt += parseFloat(billDet[k].AMT);\n               sr += 1;\n               div += `<tr class=\"upperCase\">\n               <td>`+ sr + `</td>\n               <td class=\"hideSUPPLIER\">`+ ccdpcode + `</td>\n               <td class=\"hideQUALITY\">`+ billDet[k].qual + `</td>\n               <td class=\"hideHSN\">`+ getValueNotDefine(billDet[k].hsn) + `</td>\n               <td class=\"hidePCS\" align=\"center\">`+ valuetoFixedNo(billDet[k].PCS) + `</td>\n               <td class=\"hideCUT\">`+ billDet[k].CUT + `</td>\n-              <td class=\"hideMTS\">`+ valuetoFixed(billDet[k].MTS) + `</td>\n-              <td class=\"hideFOLD\">`+ valuetoFixed(getValueNotDefine(billDet[k].LF)) + `</td>\n+              <td class=\"hideMTS\">`+ parseFloat(billDet[k].MTS).toFixed(2) + `</td>\n+              <td class=\"hideFOLD\">`+ parseFloat(getValueNotDefine(billDet[k].LF)).toFixed(2) + `</td>\n               <td class=\"hidePURCHASERATE\">`+ RATE + ifValNullGetBlank(DHARA, \"*\") + `</td>\n               <td class=\"hideRATE\">`+ finalRate + `</td>\n               <td class=\"hidePER\">`+ getValueNotDefine(billDet[k].UNIT) + `</td>\n               <td align=\"right\">`+ valuetoFixed(billDet[k].AMT) + `</td>\n@@ -275,16 +277,15 @@\n \n       <tr style=\"width:100%;\"class=\"upperCase\">\n       <td>DUE DAYS : </td>\n       <td>TOTAL `+ BLS[i].billDetails[j].PCS + `</td>\n-      <td>`+ valuetoFixed(BLS[i].billDetails[j].MTS) + `</td>\n+      <td>`+ parseFloat(BLS[i].billDetails[j].MTS).toFixed(2) + `</td>\n       <td></td>\n-      <td align=\"right\">`+ valuetoFixed(BLS[i].billDetails[j].GAMT) + `</td>\n+      <td align=\"right\">`+ valuetoFixed(subTotalAmt) + `</td>\n       </tr>\n       </table>\n     <hr class=\"pdfhr\">\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n+    <table style=\"width:100%;font-size:12px;\">        \n `;\n \n           if (getValueNotDefineNo(BLS[i].billDetails[j].aia) != 0) {\n             div += `\n@@ -299,9 +300,9 @@\n            <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL ADD : `+ valuetoFixed(BLS[i].billDetails[j].AA1) + `</td>\n           </tr>\n         `;\n           }\n-          \n+\n           if (getValueNotDefineNo(BLS[i].billDetails[j].AA2) != 0) {\n             div += `\n           <tr>\n            <td style=\"text-align:right;width:100%;\"colspan=\"3\">OTHER ADD : `+ valuetoFixed(BLS[i].billDetails[j].AA2) + `</td>\n"
                },
                {
                    "date": 1653228315612,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -78,8 +78,9 @@\n           var CO_PANNO = \"\";\n           var MainFirmName = getValueNotDefine(BLS[i].billDetails[j].ccd);\n           ACTYPE=\"AGENCY\";\n           if (ACTYPE != \"AGENCY\") {\n+            console.log(MainFirmName);\n             MainFirmName = firmArray[0].FIRM;\n             CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n             CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n             CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n"
                },
                {
                    "date": 1653228338636,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -77,10 +77,10 @@\n           var CO_COMPANY_GSTIN = \"\";\n           var CO_PANNO = \"\";\n           var MainFirmName = getValueNotDefine(BLS[i].billDetails[j].ccd);\n           ACTYPE=\"AGENCY\";\n+          console.log(MainFirmName);\n           if (ACTYPE != \"AGENCY\") {\n-            console.log(MainFirmName);\n             MainFirmName = firmArray[0].FIRM;\n             CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n             CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n             CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n"
                },
                {
                    "date": 1653228367388,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -77,9 +77,8 @@\n           var CO_COMPANY_GSTIN = \"\";\n           var CO_PANNO = \"\";\n           var MainFirmName = getValueNotDefine(BLS[i].billDetails[j].ccd);\n           ACTYPE=\"AGENCY\";\n-          console.log(MainFirmName);\n           if (ACTYPE != \"AGENCY\") {\n             MainFirmName = firmArray[0].FIRM;\n             CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n             CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n@@ -91,9 +90,10 @@\n             CO_MOBILE = getValueNotDefine(firmArray[0].MOBILE)\n             CO_PHONE1 = getValueNotDefine(firmArray[0].PHONE1)\n           } else {\n             var SuppArray = getPartyDetailsBySendCode(BLS[i].billDetails[j].ccd);\n-            if (SuppArray.length > 0) {\n+          console.log(SuppArray);\n+          if (SuppArray.length > 0) {\n               CO_ADD1 = getValueNotDefine(SuppArray[0].AD1);\n               CO_ADD2 = getValueNotDefine(SuppArray[0].AD2);\n               CO_ADD3 = getValueNotDefine(SuppArray[0].AD3);\n               CO_ADD4 = getValueNotDefine(SuppArray[0].AD4);\n"
                },
                {
                    "date": 1653228390922,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -90,9 +90,9 @@\n             CO_MOBILE = getValueNotDefine(firmArray[0].MOBILE)\n             CO_PHONE1 = getValueNotDefine(firmArray[0].PHONE1)\n           } else {\n             var SuppArray = getPartyDetailsBySendCode(BLS[i].billDetails[j].ccd);\n-          console.log(SuppArray);\n+          console.log(SuppArray,BLS[i].billDetails[j].ccd);\n           if (SuppArray.length > 0) {\n               CO_ADD1 = getValueNotDefine(SuppArray[0].AD1);\n               CO_ADD2 = getValueNotDefine(SuppArray[0].AD2);\n               CO_ADD3 = getValueNotDefine(SuppArray[0].AD3);\n"
                },
                {
                    "date": 1653228400035,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -89,9 +89,9 @@\n             CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n             CO_MOBILE = getValueNotDefine(firmArray[0].MOBILE)\n             CO_PHONE1 = getValueNotDefine(firmArray[0].PHONE1)\n           } else {\n-            var SuppArray = getPartyDetailsBySendCode(BLS[i].billDetails[j].ccd);\n+            var SuppArray = getPartyDetailsBySendName(BLS[i].billDetails[j].ccd);\n           console.log(SuppArray,BLS[i].billDetails[j].ccd);\n           if (SuppArray.length > 0) {\n               CO_ADD1 = getValueNotDefine(SuppArray[0].AD1);\n               CO_ADD2 = getValueNotDefine(SuppArray[0].AD2);\n"
                },
                {
                    "date": 1653228406291,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -89,9 +89,9 @@\n             CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n             CO_MOBILE = getValueNotDefine(firmArray[0].MOBILE)\n             CO_PHONE1 = getValueNotDefine(firmArray[0].PHONE1)\n           } else {\n-            var SuppArray = getPartyDetailsBySendName(BLS[i].billDetails[j].ccd);\n+            var SuppArray = getPartyDetailsBySendCode(BLS[i].billDetails[j].ccd);\n           console.log(SuppArray,BLS[i].billDetails[j].ccd);\n           if (SuppArray.length > 0) {\n               CO_ADD1 = getValueNotDefine(SuppArray[0].AD1);\n               CO_ADD2 = getValueNotDefine(SuppArray[0].AD2);\n"
                },
                {
                    "date": 1653228417986,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -76,9 +76,9 @@\n           var CO_CITY = \"\";\n           var CO_COMPANY_GSTIN = \"\";\n           var CO_PANNO = \"\";\n           var MainFirmName = getValueNotDefine(BLS[i].billDetails[j].ccd);\n-          ACTYPE=\"AGENCY\";\n+          // ACTYPE=\"AGENCY\";\n           if (ACTYPE != \"AGENCY\") {\n             MainFirmName = firmArray[0].FIRM;\n             CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n             CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n@@ -89,9 +89,9 @@\n             CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n             CO_MOBILE = getValueNotDefine(firmArray[0].MOBILE)\n             CO_PHONE1 = getValueNotDefine(firmArray[0].PHONE1)\n           } else {\n-            var SuppArray = getPartyDetailsBySendCode(BLS[i].billDetails[j].ccd);\n+            var SuppArray = getPartyDetailsBySendName(BLS[i].billDetails[j].ccd);\n           console.log(SuppArray,BLS[i].billDetails[j].ccd);\n           if (SuppArray.length > 0) {\n               CO_ADD1 = getValueNotDefine(SuppArray[0].AD1);\n               CO_ADD2 = getValueNotDefine(SuppArray[0].AD2);\n"
                },
                {
                    "date": 1653228423907,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -76,9 +76,9 @@\n           var CO_CITY = \"\";\n           var CO_COMPANY_GSTIN = \"\";\n           var CO_PANNO = \"\";\n           var MainFirmName = getValueNotDefine(BLS[i].billDetails[j].ccd);\n-          // ACTYPE=\"AGENCY\";\n+          ACTYPE=\"AGENCY\";\n           if (ACTYPE != \"AGENCY\") {\n             MainFirmName = firmArray[0].FIRM;\n             CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n             CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n"
                },
                {
                    "date": 1653228429712,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -76,9 +76,8 @@\n           var CO_CITY = \"\";\n           var CO_COMPANY_GSTIN = \"\";\n           var CO_PANNO = \"\";\n           var MainFirmName = getValueNotDefine(BLS[i].billDetails[j].ccd);\n-          ACTYPE=\"AGENCY\";\n           if (ACTYPE != \"AGENCY\") {\n             MainFirmName = firmArray[0].FIRM;\n             CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n             CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n"
                },
                {
                    "date": 1653228440607,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -76,8 +76,9 @@\n           var CO_CITY = \"\";\n           var CO_COMPANY_GSTIN = \"\";\n           var CO_PANNO = \"\";\n           var MainFirmName = getValueNotDefine(BLS[i].billDetails[j].ccd);\n+          ACTYPE=\"AGENCY\";\n           if (ACTYPE != \"AGENCY\") {\n             MainFirmName = firmArray[0].FIRM;\n             CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n             CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n"
                },
                {
                    "date": 1653228492591,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -269,9 +269,9 @@\n         </div>    \n       <table style=\"width:100%;\">\n       \n       <tr style=\"width:100%;\"class=\"upperCase bold\">\n-      <td colspan=\"5\">A/C NO : `+ getValueNotDefine(firmArray[0].ADDRESS3) + ` IFSC : ` + getValueNotDefine(firmArray[0].ADDRESS4) + `</td>\n+      <td colspan=\"5\">A/C NO : `+ getValueNotDefine(BANKAC) + ` IFSC : ` + getValueNotDefine(BANKIFSC) + `</td>\n       </tr>      \n       <tr style=\"width:100%;\"class=\"upperCase bold\">        \n         <td colspan=\"5\"><hr class=\"pdfhr\">  </td>\n       </tr>\n"
                },
                {
                    "date": 1653228511343,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -75,10 +75,12 @@\n           var CO_PHONE1 = \"\";\n           var CO_CITY = \"\";\n           var CO_COMPANY_GSTIN = \"\";\n           var CO_PANNO = \"\";\n+          var BANKAC=\"\";\n+          var BANKIFSC=\"\";\n           var MainFirmName = getValueNotDefine(BLS[i].billDetails[j].ccd);\n-          ACTYPE=\"AGENCY\";\n+          ACTYPE = \"AGENCY\";\n           if (ACTYPE != \"AGENCY\") {\n             MainFirmName = firmArray[0].FIRM;\n             CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n             CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n@@ -90,10 +92,10 @@\n             CO_MOBILE = getValueNotDefine(firmArray[0].MOBILE)\n             CO_PHONE1 = getValueNotDefine(firmArray[0].PHONE1)\n           } else {\n             var SuppArray = getPartyDetailsBySendName(BLS[i].billDetails[j].ccd);\n-          console.log(SuppArray,BLS[i].billDetails[j].ccd);\n-          if (SuppArray.length > 0) {\n+            console.log(SuppArray, BLS[i].billDetails[j].ccd);\n+            if (SuppArray.length > 0) {\n               CO_ADD1 = getValueNotDefine(SuppArray[0].AD1);\n               CO_ADD2 = getValueNotDefine(SuppArray[0].AD2);\n               CO_ADD3 = getValueNotDefine(SuppArray[0].AD3);\n               CO_ADD4 = getValueNotDefine(SuppArray[0].AD4);\n"
                },
                {
                    "date": 1653228559912,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -75,12 +75,10 @@\n           var CO_PHONE1 = \"\";\n           var CO_CITY = \"\";\n           var CO_COMPANY_GSTIN = \"\";\n           var CO_PANNO = \"\";\n-          var BANKAC=\"\";\n-          var BANKIFSC=\"\";\n           var MainFirmName = getValueNotDefine(BLS[i].billDetails[j].ccd);\n-          ACTYPE = \"AGENCY\";\n+          ACTYPE=\"AGENCY\";\n           if (ACTYPE != \"AGENCY\") {\n             MainFirmName = firmArray[0].FIRM;\n             CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n             CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n@@ -92,10 +90,10 @@\n             CO_MOBILE = getValueNotDefine(firmArray[0].MOBILE)\n             CO_PHONE1 = getValueNotDefine(firmArray[0].PHONE1)\n           } else {\n             var SuppArray = getPartyDetailsBySendName(BLS[i].billDetails[j].ccd);\n-            console.log(SuppArray, BLS[i].billDetails[j].ccd);\n-            if (SuppArray.length > 0) {\n+          console.log(SuppArray,BLS[i].billDetails[j].ccd);\n+          if (SuppArray.length > 0) {\n               CO_ADD1 = getValueNotDefine(SuppArray[0].AD1);\n               CO_ADD2 = getValueNotDefine(SuppArray[0].AD2);\n               CO_ADD3 = getValueNotDefine(SuppArray[0].AD3);\n               CO_ADD4 = getValueNotDefine(SuppArray[0].AD4);\n@@ -271,9 +269,9 @@\n         </div>    \n       <table style=\"width:100%;\">\n       \n       <tr style=\"width:100%;\"class=\"upperCase bold\">\n-      <td colspan=\"5\">A/C NO : `+ getValueNotDefine(BANKAC) + ` IFSC : ` + getValueNotDefine(BANKIFSC) + `</td>\n+      <td colspan=\"5\">A/C NO : `+ getValueNotDefine(CO_ADD3) + ` IFSC : ` + getValueNotDefine(CO_ADD4) + `</td>\n       </tr>      \n       <tr style=\"width:100%;\"class=\"upperCase bold\">        \n         <td colspan=\"5\"><hr class=\"pdfhr\">  </td>\n       </tr>\n"
                },
                {
                    "date": 1653228571509,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -76,9 +76,9 @@\n           var CO_CITY = \"\";\n           var CO_COMPANY_GSTIN = \"\";\n           var CO_PANNO = \"\";\n           var MainFirmName = getValueNotDefine(BLS[i].billDetails[j].ccd);\n-          ACTYPE=\"AGENCY\";\n+          // ACTYPE=\"AGENCY\";\n           if (ACTYPE != \"AGENCY\") {\n             MainFirmName = firmArray[0].FIRM;\n             CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n             CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n"
                },
                {
                    "date": 1653228609429,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -76,9 +76,9 @@\n           var CO_CITY = \"\";\n           var CO_COMPANY_GSTIN = \"\";\n           var CO_PANNO = \"\";\n           var MainFirmName = getValueNotDefine(BLS[i].billDetails[j].ccd);\n-          // ACTYPE=\"AGENCY\";\n+          ACTYPE=\"AGENCY\";\n           if (ACTYPE != \"AGENCY\") {\n             MainFirmName = firmArray[0].FIRM;\n             CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n             CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n"
                },
                {
                    "date": 1653228615059,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -76,9 +76,8 @@\n           var CO_CITY = \"\";\n           var CO_COMPANY_GSTIN = \"\";\n           var CO_PANNO = \"\";\n           var MainFirmName = getValueNotDefine(BLS[i].billDetails[j].ccd);\n-          ACTYPE=\"AGENCY\";\n           if (ACTYPE != \"AGENCY\") {\n             MainFirmName = firmArray[0].FIRM;\n             CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n             CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n"
                },
                {
                    "date": 1658310420327,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -244,8 +244,16 @@\n               var RATE = parseFloat(billDet[k].RATE);\n               var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n               var finalRate = RATE + (DHARA * RATE / 100);\n               subTotalAmt += parseFloat(billDet[k].AMT);\n+              var LESS_FOLD = parseFloat(billDet[k].LF);;\n+              var NET_MTS = parseFloat(billDet[k].MTS);\n+              if (billDet[k].LF != \"\" && billDet[k].LF != null && billDet[k].LF != undefined) {\n+                var MTS = parseFloat(billDet[k].MTS);\n+                LESS_FOLD = parseFloat(billDet[k].LF);\n+                var lessMts = (MTS * LESS_FOLD) / 100;\n+                NET_MTS = MTS - lessMts;\n+              }\n               sr += 1;\n               div += `<tr class=\"upperCase\">\n               <td>`+ sr + `</td>\n               <td class=\"hideSUPPLIER\">`+ ccdpcode + `</td>\n"
                },
                {
                    "date": 1658310452552,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -261,9 +261,9 @@\n               <td class=\"hideHSN\">`+ getValueNotDefine(billDet[k].hsn) + `</td>\n               <td class=\"hidePCS\" align=\"center\">`+ valuetoFixedNo(billDet[k].PCS) + `</td>\n               <td class=\"hideCUT\">`+ billDet[k].CUT + `</td>\n               <td class=\"hideMTS\">`+ parseFloat(billDet[k].MTS).toFixed(2) + `</td>\n-              <td class=\"hideFOLD\">`+ parseFloat(getValueNotDefine(billDet[k].LF)).toFixed(2) + `</td>\n+              <td class=\"hideFOLD\">`+ parseFloat(getValueNotDefine(LESS_FOLD)).toFixed(2) + `</td>\n               <td class=\"hidePURCHASERATE\">`+ RATE + ifValNullGetBlank(DHARA, \"*\") + `</td>\n               <td class=\"hideRATE\">`+ finalRate + `</td>\n               <td class=\"hidePER\">`+ getValueNotDefine(billDet[k].UNIT) + `</td>\n               <td align=\"right\">`+ valuetoFixed(billDet[k].AMT) + `</td>\n"
                },
                {
                    "date": 1658310472867,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -89,10 +89,10 @@\n             CO_MOBILE = getValueNotDefine(firmArray[0].MOBILE)\n             CO_PHONE1 = getValueNotDefine(firmArray[0].PHONE1)\n           } else {\n             var SuppArray = getPartyDetailsBySendName(BLS[i].billDetails[j].ccd);\n-          console.log(SuppArray,BLS[i].billDetails[j].ccd);\n-          if (SuppArray.length > 0) {\n+            console.log(SuppArray, BLS[i].billDetails[j].ccd);\n+            if (SuppArray.length > 0) {\n               CO_ADD1 = getValueNotDefine(SuppArray[0].AD1);\n               CO_ADD2 = getValueNotDefine(SuppArray[0].AD2);\n               CO_ADD3 = getValueNotDefine(SuppArray[0].AD3);\n               CO_ADD4 = getValueNotDefine(SuppArray[0].AD4);\n@@ -261,9 +261,9 @@\n               <td class=\"hideHSN\">`+ getValueNotDefine(billDet[k].hsn) + `</td>\n               <td class=\"hidePCS\" align=\"center\">`+ valuetoFixedNo(billDet[k].PCS) + `</td>\n               <td class=\"hideCUT\">`+ billDet[k].CUT + `</td>\n               <td class=\"hideMTS\">`+ parseFloat(billDet[k].MTS).toFixed(2) + `</td>\n-              <td class=\"hideFOLD\">`+ parseFloat(getValueNotDefine(LESS_FOLD)).toFixed(2) + `</td>\n+              <td class=\"hideFOLD\">`+ parseFloat(getValueNotDefine(LESS_FOLD)) + `%</td>\n               <td class=\"hidePURCHASERATE\">`+ RATE + ifValNullGetBlank(DHARA, \"*\") + `</td>\n               <td class=\"hideRATE\">`+ finalRate + `</td>\n               <td class=\"hidePER\">`+ getValueNotDefine(billDet[k].UNIT) + `</td>\n               <td align=\"right\">`+ valuetoFixed(billDet[k].AMT) + `</td>\n"
                },
                {
                    "date": 1658310551772,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -246,9 +246,9 @@\n               var finalRate = RATE + (DHARA * RATE / 100);\n               subTotalAmt += parseFloat(billDet[k].AMT);\n               var LESS_FOLD = parseFloat(billDet[k].LF);;\n               var NET_MTS = parseFloat(billDet[k].MTS);\n-              if (billDet[k].LF != \"\" && billDet[k].LF != null && billDet[k].LF != undefined) {\n+              if (billDet[k].LF != \"\" && billDet[k].LF != null && billDet[k].LF != undefined && parseInt(billDet[k].LF)!=0) {\n                 var MTS = parseFloat(billDet[k].MTS);\n                 LESS_FOLD = parseFloat(billDet[k].LF);\n                 var lessMts = (MTS * LESS_FOLD) / 100;\n                 NET_MTS = MTS - lessMts;\n@@ -261,8 +261,9 @@\n               <td class=\"hideHSN\">`+ getValueNotDefine(billDet[k].hsn) + `</td>\n               <td class=\"hidePCS\" align=\"center\">`+ valuetoFixedNo(billDet[k].PCS) + `</td>\n               <td class=\"hideCUT\">`+ billDet[k].CUT + `</td>\n               <td class=\"hideMTS\">`+ parseFloat(billDet[k].MTS).toFixed(2) + `</td>\n+              <td class=\"hideMTS\">`+ parseFloat(NET_MTS).toFixed(2) + `</td>\n               <td class=\"hideFOLD\">`+ parseFloat(getValueNotDefine(LESS_FOLD)) + `%</td>\n               <td class=\"hidePURCHASERATE\">`+ RATE + ifValNullGetBlank(DHARA, \"*\") + `</td>\n               <td class=\"hideRATE\">`+ finalRate + `</td>\n               <td class=\"hidePER\">`+ getValueNotDefine(billDet[k].UNIT) + `</td>\n"
                },
                {
                    "date": 1658310575778,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -219,8 +219,9 @@\n           <td class=\"hideHSN\">HSN</td>\n           <td class=\"hidePCS\" align=\"center\">PCS</td>\n           <td class=\"hideCUT\">CUT</td>\n           <td class=\"hideMTS\">MTS</td>\n+          <td class=\"hideNMTS\">N.MTS</td>\n           <td class=\"hideFOLD\">FOLD</td>\n           <td class=\"hidePURCHASERATE\">P.RATE</td>\n           <td class=\"hideRATE\">RATE</td>\n           <td class=\"hidePER\">PER</td>\n@@ -261,9 +262,9 @@\n               <td class=\"hideHSN\">`+ getValueNotDefine(billDet[k].hsn) + `</td>\n               <td class=\"hidePCS\" align=\"center\">`+ valuetoFixedNo(billDet[k].PCS) + `</td>\n               <td class=\"hideCUT\">`+ billDet[k].CUT + `</td>\n               <td class=\"hideMTS\">`+ parseFloat(billDet[k].MTS).toFixed(2) + `</td>\n-              <td class=\"hideMTS\">`+ parseFloat(NET_MTS).toFixed(2) + `</td>\n+              <td class=\"hideNMTS\">`+ parseFloat(NET_MTS).toFixed(2) + `</td>\n               <td class=\"hideFOLD\">`+ parseFloat(getValueNotDefine(LESS_FOLD)) + `%</td>\n               <td class=\"hidePURCHASERATE\">`+ RATE + ifValNullGetBlank(DHARA, \"*\") + `</td>\n               <td class=\"hideRATE\">`+ finalRate + `</td>\n               <td class=\"hidePER\">`+ getValueNotDefine(billDet[k].UNIT) + `</td>\n"
                },
                {
                    "date": 1658310637991,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -219,9 +219,9 @@\n           <td class=\"hideHSN\">HSN</td>\n           <td class=\"hidePCS\" align=\"center\">PCS</td>\n           <td class=\"hideCUT\">CUT</td>\n           <td class=\"hideMTS\">MTS</td>\n-          <td class=\"hideNMTS\">N.MTS</td>\n+          <td class=\"hideNMTS\" style=\"display:none;\">N.MTS</td>\n           <td class=\"hideFOLD\">FOLD</td>\n           <td class=\"hidePURCHASERATE\">P.RATE</td>\n           <td class=\"hideRATE\">RATE</td>\n           <td class=\"hidePER\">PER</td>\n@@ -262,9 +262,9 @@\n               <td class=\"hideHSN\">`+ getValueNotDefine(billDet[k].hsn) + `</td>\n               <td class=\"hidePCS\" align=\"center\">`+ valuetoFixedNo(billDet[k].PCS) + `</td>\n               <td class=\"hideCUT\">`+ billDet[k].CUT + `</td>\n               <td class=\"hideMTS\">`+ parseFloat(billDet[k].MTS).toFixed(2) + `</td>\n-              <td class=\"hideNMTS\">`+ parseFloat(NET_MTS).toFixed(2) + `</td>\n+              <td class=\"hideNMTS\" style=\"display:none;\">`+ parseFloat(NET_MTS).toFixed(2) + `</td>\n               <td class=\"hideFOLD\">`+ parseFloat(getValueNotDefine(LESS_FOLD)) + `%</td>\n               <td class=\"hidePURCHASERATE\">`+ RATE + ifValNullGetBlank(DHARA, \"*\") + `</td>\n               <td class=\"hideRATE\">`+ finalRate + `</td>\n               <td class=\"hidePER\">`+ getValueNotDefine(billDet[k].UNIT) + `</td>\n"
                },
                {
                    "date": 1658562745332,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -428,9 +428,14 @@\n     </table>\n     </div>\n       `;\n           BILL = getValueNotDefine(BLS[i].billDetails[j].BLL);\n+          try {\n+            \n           var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+        } catch (error) {\n+          \n+        }\n           document.title = \"BILL NO \" + BILL;\n         }\n       }\n \n"
                },
                {
                    "date": 1658562751834,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -428,14 +428,13 @@\n     </table>\n     </div>\n       `;\n           BILL = getValueNotDefine(BLS[i].billDetails[j].BLL);\n-          try {\n+          try {            \n+          var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+          } catch (error) {\n             \n-          var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-        } catch (error) {\n-          \n-        }\n+          }\n           document.title = \"BILL NO \" + BILL;\n         }\n       }\n \n"
                },
                {
                    "date": 1658562818460,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -431,9 +431,8 @@\n           BILL = getValueNotDefine(BLS[i].billDetails[j].BLL);\n           try {            \n           var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n           } catch (error) {\n-            \n           }\n           document.title = \"BILL NO \" + BILL;\n         }\n       }\n"
                }
            ],
            "date": 1634546999888,
            "name": "Commit-0",
            "content": "\nvar url = window.location.href;\nvar BLS;\nvar DET;\nvar DETdata;\nvar div = '';\nfunction getProductDetails(CNO, TYPE, VNO) {\n  return DETdata.filter(function (data) {\n    return data.CNO.toUpperCase() == CNO.toUpperCase() &&\n      data.TYPE.toUpperCase() == TYPE.toUpperCase() &&\n      data.VNO.toUpperCase() == VNO.toUpperCase();\n  })\n}\nACTYPE = getUrlParams(url, \"ACTYPE\");\nfunction loadBillPdfCall() {\n\n  try {\n    // console.log(Data);\n\n\n    // console.log(BLS);\n\n\n\n    if (BLS.length > 0) {\n      for (var i = 0; i < BLS.length; i++) {\n        for (var j = 0; j < BLS[i].billDetails.length; j++) {\n          var BillName = 'TAX INVOICE';\n          var SERIESArr = getSeriesDetailsBySendType(BLS[i].billDetails[j].TYPE);\n          if (BLS[i].billDetails[j].DT != \"os\") {\n            BillName = SERIESArr[0].SERIES;\n          }\n          firmArray = getFirmDetailsBySendCode(BLS[i].billDetails[j].CNO);\n          partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n          COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n          COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n          var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n          // console.log(partyArray)\n          partyStateCode = '';\n          var pcode = '';\n          var city = '';\n          var broker = '';\n          var label = '';\n          var MO = '';\n          var ATYPE = '';\n          var AD1 = '';\n          var AD2 = '';\n          var GST = '';\n          var ST = '';\n          var dhara = '';\n          var partyStateCode = '';\n          var lbl = '';\n          if (partyArray.length > 0) {\n            pcode = getValueNotDefine(partyArray[0].partyname);\n            city = getValueNotDefine(partyArray[0].city);\n            broker = getValueNotDefine(partyArray[0].broker);\n            label = getValueNotDefine(partyArray[0].label);\n            MO = getValueNotDefine(partyArray[0].MO);\n            ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n            AD1 = getValueNotDefine(partyArray[0].AD1);\n            AD2 = getValueNotDefine(partyArray[0].AD2);\n            GST = getValueNotDefine(partyArray[0].GST);\n            GST = GST == null || GST == '' ? '' : GST;\n            ST = getValueNotDefine(partyArray[0].ST);\n            dhara = getValueNotDefineNo(partyArray[0].dhara);\n            partyStateCode = (GST).substring(0, 2);\n            lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n          }\n          // console.table(firmArray)\n          var CO_ADD1 = \"\";\n          var CO_ADD2 = \"\";\n          var CO_ADD3 = \"\";\n          var CO_ADD4 = \"\";\n          var CO_CITY = \"\";\n          var CO_COMPANY_GSTIN = \"\";\n          var CO_PANNO = \"\";\n          var MainFirmName = getValueNotDefine(BLS[i].billDetails[j].ccd);\n         \n          if (ACTYPE != \"AGENCY\") {\n            MainFirmName = firmArray[0].FIRM;\n            CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n            CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n            CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n            CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n            CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n            CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n            CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n          }else{\n            var SuppArray = getPartyDetailsBySendCode(BLS[i].billDetails[j].ccd);\n            if (SuppArray.length > 0) {\n              CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n              CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n              CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n              CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n              CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n              CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n              CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n            }\n          }\n          div += `\n        <div class=\"page\" style=\"min-height: auto;\">\n      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n\n      <tr  class=\"upperCase\">\n      <td style=\"text-align:center;\" colspan=\"3\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n      </tr>\n\n      <tr  class=\"upperCase\">\n      <td style=\"text-align:left;\">SUBJECT TO SURAT JURIDICTION ONLY</td>\n      <td style=\"text-align:center;\"></td>\n      <td style=\"text-align:left;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n      </tr>\n    \n      <tr  class=\"upperCase\">\n      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n      </tr>\n      \n      <tr  class=\"upperCase\">\n      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n      </tr>\n  \n      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n      <td style=\"text-align:left;\">GSTIN : `+ CO_COMPANY_GSTIN + `</td>\n      <td style=\"text-align:center;\"></td>\n      <td style=\"text-align:right;\">PAN : `+ CO_PANNO + `</td>\n      </tr>\n\n      <tr class=\"upperCase\">\n      <td style=\"text-align:center;\" colspan=\"3\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n      </tr>\n      \n      <tr  class=\"upperCase\">\n      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n      </tr>\n\n      <tr>\n      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n      </tr>\n      \n      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n      <td style=\"text-align:left;\"colspan=\"2\">M/S `+ pcode + `</td>\n      <td style=\"text-align:left;\"> BILL NO: `+ (BLS[i].billDetails[j].BLL) + `</td>\n      </tr>\n      \n      <tr  class=\"upperCase\">\n      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n      <td style=\"text-align:left;\"> DATE : `+ formatDate(BLS[i].billDetails[j].DTE) + ` </td>\n      </tr>\n\n      <tr  class=\"upperCase\">\n      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` </td>\n      <td style=\"text-align:left;\"> PARTY NO :  `+ getValueNotDefine(BLS[i].billDetails[j].PS) + ` </td>\n      </tr>\n      \n      <tr  class=\"upperCase\">\n      <td style=\"text-align:left;\"colspan=\"2\"> `+ city + ` </td>\n      <td style=\"text-align:left;\"> STATE : `+ getValueNotDefine(BLS[i].billDetails[j].STC) + ` </td>\n      </tr>\n      \n      <tr  class=\"upperCase\">\n      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n      <td style=\"text-align:left;\">HSN/SAC: `+ getValueNotDefine(BLS[i].billDetails[j].HSN) + ` </td>\n      </tr>\n      \n      <tr  class=\"upperCase\">\n      <td style=\"text-align:left;\"colspan=\"2\"> E-WAY BILL NO: `+ getValueNotDefine(BLS[i].billDetails[j].EWB) + ` </td>\n      <td style=\"text-align:left;\">case no: `+ getValueNotDefine(BLS[i].billDetails[j].CSNO) + ` </td>\n      </tr>\n\n      <tr>\n      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n      </tr>\n      \n      <tr  class=\"upperCase\">\n      <td style=\"text-align:left;\"colspan=\"2\">L.R.NO :  `+ getValueNotDefine(BLS[i].billDetails[j].RNO) + ` * ` + getValueNotDefine(BLS[i].billDetails[j].PRL) + `</td>\n      <td style=\"text-align:left;\">L. R. DATE : `+ formatDate(BLS[i].billDetails[j].RDT) + ` </td>\n      </tr>\n\n      <tr  class=\"upperCase\">\n      <td style=\"text-align:left;\"colspan=\"2\">TRANSPORT  `+ getValueNotDefine(BLS[i].billDetails[j].TRN) + `</td>\n      <td style=\"text-align:left;\">STATION `+ getValueNotDefine(BLS[i].billDetails[j].PLC) + ` </td>\n      </tr>\n\n      <tr  class=\"upperCase\">\n      <td style=\"text-align:left;\"colspan=\"2\">WEIGHT : `+ valuetoFixed(getValueNotDefine(BLS[i].billDetails[j].WGT)) + `</td>\n      <td style=\"text-align:left;\">FREIGHT: `+ valuetoFixed(getValueNotDefine(BLS[i].billDetails[j].FRT)) + ` </td>\n      </tr>\n\n      <tr>\n      <td colspan=\"11\"><hr class=\"pdfhr\"></td>\n      </tr>\n      </table>      \n      <div style=\"min-height:33%;\">\n        `;\n\n          DET = getProductDetails(BLS[i].billDetails[j].CNO, BLS[i].billDetails[j].TYPE, BLS[i].billDetails[j].VNO);\n          // DET = DETdata.filter(function (data) {\n          //   return data.CNO.toUpperCase() == .toUpperCase() &&\n          //     data.TYPE.toUpperCase() == BLS[i].billDetails[j].TYPE.toUpperCase() &&\n          //     data.VNO.toUpperCase() == BLS[i].billDetails[j].VNO.toUpperCase();\n          // })\n          // console.log(DET);\n          if (DET.length > 0) {\n            div += `\n          <table  class=\"table-responsive\" style=\"width:100%;font-size:12px;\">\n          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n          <td>SR</td>\n          <td class=\"hideSUPPLIER\">SUPPLIER</td>\n          <td class=\"hideQUALITY\">ITEM</td>\n          <td class=\"hideHSN\">HSN</td>\n          <td class=\"hidePCS\" align=\"center\">PCS</td>\n          <td class=\"hideCUT\">CUT</td>\n          <td class=\"hideMTS\">MTS</td>\n          <td class=\"hideFOLD\">FOLD</td>\n          <td class=\"hidePURCHASERATE\">P.RATE</td>\n          <td class=\"hideRATE\">RATE</td>\n          <td class=\"hidePER\">PER</td>\n          <td align=\"right\">AMOUNT</td>\n          </tr>\n    \n          <tr>\n          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n          </tr>`;\n            var sr = 0;\n            var billDet = DET[0].billDetails;\n            for (var k = 0; k < billDet.length; k++) {\n              ccode = getPartyDetailsBySendCode(billDet[k].SP);\n              var ccdpcode = \"\";\n              if (ccode.length > 0) {\n                ccdpcode = getValueNotDefine(ccode[0].partyname);\n              }\n              var RATE = parseFloat(billDet[k].RATE);\n              var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n              var finalRate = RATE + (DHARA * RATE / 100);\n              sr += 1;\n              div += `<tr class=\"upperCase\">\n              <td>`+ sr + `</td>\n              <td class=\"hideSUPPLIER\">`+ ccdpcode + `</td>\n              <td class=\"hideQUALITY\">`+ billDet[k].qual + `</td>\n              <td class=\"hideHSN\">`+ getValueNotDefine(billDet[k].hsn) + `</td>\n              <td class=\"hidePCS\" align=\"center\">`+ valuetoFixedNo(billDet[k].PCS) + `</td>\n              <td class=\"hideCUT\">`+ billDet[k].CUT + `</td>\n              <td class=\"hideMTS\">`+ valuetoFixed(billDet[k].MTS) + `</td>\n              <td class=\"hideFOLD\">`+ valuetoFixed(getValueNotDefine(billDet[k].LF)) + `</td>\n              <td class=\"hidePURCHASERATE\">`+ RATE + ifValNullGetBlank(DHARA, \"*\") + `</td>\n              <td class=\"hideRATE\">`+ finalRate + `</td>\n              <td class=\"hidePER\">`+ getValueNotDefine(billDet[k].UNIT) + `</td>\n              <td align=\"right\">`+ valuetoFixed(billDet[k].AMT) + `</td>\n              </tr>`;\n            }\n            div += ` </table>\n          `;\n          }\n          div += ` \n        </div>    \n      <table style=\"width:100%;\">\n      \n      <tr style=\"width:100%;\"class=\"upperCase bold\">\n      <td colspan=\"5\">A/C NO : `+ getValueNotDefine(firmArray[0].ADDRESS3) + ` IFSC : ` + getValueNotDefine(firmArray[0].ADDRESS4) + `</td>\n      </tr>      \n      <tr style=\"width:100%;\"class=\"upperCase bold\">        \n        <td colspan=\"5\"><hr class=\"pdfhr\">  </td>\n      </tr>\n\n      <tr style=\"width:100%;\"class=\"upperCase\">\n      <td>DUE DAYS : </td>\n      <td>TOTAL `+ BLS[i].billDetails[j].PCS + `</td>\n      <td>`+ valuetoFixed(BLS[i].billDetails[j].MTS) + `</td>\n      <td></td>\n      <td align=\"right\">`+ valuetoFixed(BLS[i].billDetails[j].GAMT) + `</td>\n      </tr>\n      </table>\n    <hr class=\"pdfhr\">\n    <table style=\"width:100%;font-size:12px;\">   \n     \n`;\n\n          if (getValueNotDefineNo(BLS[i].billDetails[j].aia) != 0) {\n            div += `\n          <tr>\n           <td style=\"text-align:right;width:100%;\"colspan=\"3\">INSURANCE ADD : `+ valuetoFixed(BLS[i].billDetails[j].aia) + `</td>\n          </tr>\n        `;\n          }\n          if (getValueNotDefineNo(BLS[i].billDetails[j].AA1) != 0) {\n            div += `\n          <tr>\n           <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL ADD : `+ valuetoFixed(BLS[i].billDetails[j].AA1) + `</td>\n          </tr>\n        `;\n          }\n\n          if (getValueNotDefineNo(BLS[i].billDetails[j].O_LS) != 0) {\n            div += `\n          <tr>\n        <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL LESS : `+ valuetoFixed(BLS[i].billDetails[j].O_LS) + `</td>\n          </tr>\n        `;\n          }\n          if (getValueNotDefineNo(BLS[i].billDetails[j].LA1RT) != 0) {\n            div += `\n          <tr>\n        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n         `+ getValueNotDefine(BLS[i].billDetails[j].LA1RMK) + ` \n         `+ valuetoFixed(BLS[i].billDetails[j].GAMT) + ` X \n         <strong>`+ BLS[i].billDetails[j].LA1RT + ` % </strong> \n         `+ BLS[i].billDetails[j].LA1AMT + ` \n        </td>\n          </tr>\n        `;\n          }\n          if (getValueNotDefineNo(BLS[i].billDetails[j].LA2RT) != 0) {\n            div += `\n          <tr>\n        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n         `+ getValueNotDefine(BLS[i].billDetails[j].LA2RMK) + ` \n         `+ BLS[i].billDetails[j].LA2qty + ` X \n         <strong>`+ BLS[i].billDetails[j].LA2RT + ` % </strong> \n         `+ BLS[i].billDetails[j].LA2AMT + ` \n        </td>\n          </tr>\n        `;\n          }\n          if (getValueNotDefineNo(BLS[i].billDetails[j].LA3RT) != 0) {\n            div += `\n          <tr>\n        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n         `+ getValueNotDefine(BLS[i].billDetails[j].LA3RMK) + ` \n         `+ BLS[i].billDetails[j].LA3qty + ` X \n         <strong>`+ BLS[i].billDetails[j].LA3RT + ` % </strong> \n         `+ BLS[i].billDetails[j].LA3AMT + ` \n        </td>\n          </tr>\n        `;\n          }\n          if (parseInt(BLS[i].billDetails[j].VTAMT) != 0) {\n            // console.log(partyStateCode, firmStateCode);\n            if (parseInt(partyStateCode) == parseInt(firmStateCode)) {\n              if (BLS[i].billDetails[j].VTRT != null && parseInt(BLS[i].billDetails[j].VTRT) != 0) {\n                div += `<tr>    \n              <td style=\"text-align:right;width:100%;\"colspan=\"3\">CGST @ `+ BLS[i].billDetails[j].VTRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].billDetails[j].GAMT) + ` = ` + valuetoFixed(BLS[i].billDetails[j].VTAMT) + `</td>\n              </tr>\n              `;\n              }\n              if (BLS[i].billDetails[j].ADVTRT != null && parseInt(BLS[i].billDetails[j].ADVTRT) != 0) {\n                div += `<tr>    \n              <td style=\"text-align:right;width:100%;\" colspan=\"3\">SGST @ `+ BLS[i].billDetails[j].ADRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].billDetails[j].GAMT) + ` = ` + valuetoFixed(BLS[i].billDetails[j].ADAMT) + `</td>\n              </tr>\n              `;\n              }\n            } else {\n              if (BLS[i].billDetails[j].VTRT != null && parseInt(BLS[i].billDetails[j].VTRT) != 0) {\n                div += `<tr>    \n              <td style=\"text-align:right;width:100%;\" colspan=\"3\">IGST @ `+ getValueNotDefine(BLS[i].billDetails[j].VTRT) + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].billDetails[j].GAMT) + ` =  ` + valuetoFixed(BLS[i].billDetails[j].VTAMT) + `</td>\n              </tr>\n              `;\n              }\n            }\n          }\n\n          div += `\n      <tr>\n      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n      </tr>\n\n      <tr style=\"font-weight:bold;font-size:15px;\">    \n      <td style=\"text-align:left;\">REMARK:  `+ getValueNotDefine(BLS[i].billDetails[j].RMK) + `</td>\n      <td style=\"text-align:left;\"> </td>\n      <td align=\"right\">NET AMOUNT </td>\n      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i].billDetails[j].BAMT) + `</td>\n      </tr>\n      \n      \n      <tr>\n      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n      </tr>\n\n      <tr style=\"font-weight:bold;\">    \n      <td  colspan=\"2\"></td>\n      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n      </tr>\n\n      \n      <tr class=\"upperCase \">\n      <td colspan=\"4\">TERMS</td>\n      </tr>\n      <tr class=\"upperCase \">\n      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n      </tr>\n      \n      <tr class=\"upperCase\">\n      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n      </tr>\n      \n      <tr class=\"upperCase\">\n      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n      </tr>\n    </table>\n    </div>\n      `;\n          BILL = getValueNotDefine(BLS[i].billDetails[j].BLL);\n          var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n          document.title = \"BILL NO \" + BILL;\n        }\n      }\n\n      div += ``;\n      // document.body.innerHTML = div;\n      $(\"#loader\").removeClass('has-loader');\n      $(\"body\").append(div)\n      hideList();\n    } else {\n      document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n      $(\"#loader\").removeClass('has-loader');\n    }\n  } catch (error) {\n    noteError(error);\n  }\n}\n"
        }
    ]
}