{
    "sourceFile": "js/jsLoadCallBANK.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 2,
            "patches": [
                {
                    "date": 1638351058000,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1638351093472,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,7 @@\n-\n+function getUrlPaymentSlip(CNO,TYPE,VNO,IDE) {\n+  return \"paymentSlipPdf.html?ntab=NTAB&IDE=\" + IDE + \"&CNO=\" + CNO + \"&TYPE=\" + TYPE + \"&VNO=\" + VNO;\n+}\n function loadCall(data) {\n     var Data = data;\n     if (cno != '' && cno!=null) {\n       Data = Data.filter(function(data) {\n"
                },
                {
                    "date": 1638351100227,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n function getUrlPaymentSlip(CNO,TYPE,VNO,IDE) {\n-  return \"paymentSlipPdf.html?ntab=NTAB&IDE=\" + IDE + \"&CNO=\" + CNO + \"&TYPE=\" + TYPE + \"&VNO=\" + VNO;\n+  return \"paymentSlip.html?ntab=NTAB&IDE=\" + IDE + \"&CNO=\" + CNO + \"&TYPE=\" + TYPE + \"&VNO=\" + VNO;\n }\n function loadCall(data) {\n     var Data = data;\n     if (cno != '' && cno!=null) {\n"
                }
            ],
            "date": 1638351058000,
            "name": "Commit-0",
            "content": "\nfunction loadCall(data) {\n    var Data = data;\n    if (cno != '' && cno!=null) {\n      Data = Data.filter(function(data) {\n        return data.CNO == cno;\n      })\n    }\n    if (partycode != ''&& partycode !=null) {\n      Data = Data.filter(function(data) {\n        return data.RFCD == partycode;\n      })\n      console.log(Data); \n    }\n    if (fromdate != '' && fromdate != null) {\n        Data = Data.filter(function(billDetails) {\n          return  new Date(billDetails.DT).setHours(0, 0, 0, 0)  >= new Date(fromdate).setHours(0, 0, 0, 0) ;\n        })\n    }\n    if (todate != '' && todate != null) {\n        Data = Data.filter(function(billDetails) {\n          return  new Date(billDetails.DT).setHours(24, 0, 0, 0)  <= new Date(todate).setHours(24, 0, 0, 0) ;\n        })\n      }\n    Data = Data.sort((a, b) => new Date(b.DT) - new Date(a.DT));\n    var DCNO;\n    var BALANCE;\n    var DEBIT;\n    var CREDIT;\n    var bankHeadTotal;\n    var BLL;\n    var DL=Data.length;\n    if (DL > 0) {\n       BALANCE=0;\n       DEBIT=0;\n         CREDIT = 0;\n         bankHeadTotal = \"\";\n      tr += ` <thead id=\"bankHeadTotal\"> </thead> <thead><tr>\n                        <th>DATE</th>\n                        <th>FIRM</th>\n                        <th>DOCNO</th>\n                        <th>RFCODE</th>\n                        <th class=\"CREDIT\">CRA</th>\n                        <th class=\"DEBIT\">DRAMT</th>\n                        <th>BALANCE</th>\n                        <th>VNO</th>\n                        <th>RMK</th>\n                        </tr>\n                        </thead>\n                        `;\n      for (var i = 0; i < DL; i++) {\n         DEBIT +=parseFloat(Data[i].DRA);\n         CREDIT+=parseFloat(Data[i].CRA);\n         BALANCE +=parseFloat(Data[i].DRA)-parseFloat(Data[i].CRA)\n         DCNO = getValueNotDefine(Data[i].DCNO);\n        var paymentSlipUrl = getUrlPaymentSlip(Data[i].CNO, Data[i].TYPE, Data[i].VNO, Data[i].IDE);\n        if(DCNO==''||DCNO==null){\n          DCNO=getValueNotDefine(Data[i].BILLNO);\n          billbutton = `<a target=\"_blank\" href=\"` + paymentSlipUrl + `\"><button>OPEN</button></a>`;\n        } else {\n          billbutton = `<a target=\"_blank\" href=\"` + paymentSlipUrl + `\"><button>`+DCNO+`</button></a>`;  \n        }\n        RFCD = Data[i].RFCD;\n        var RFCDArr = getPartyDetailsBySendCode(RFCD);\n        if (RFCDArr.length > 0) {\n          RFCD = RFCDArr[0].partyname;\n        }\n                tr += ` <tr>\n                        <td>`+formatDate(Data[i].DT)+`</td>\n                        <td>`+Data[i].FRM+`</td>\n                        <td>`+billbutton+`</td>\n                        <td>`+RFCD+`</td>\n                        <td class=\"CREDIT\">`+valuetoFixed(Data[i].DRA)+`</td>\n                        <td class=\"DEBIT\">`+valuetoFixed(Data[i].CRA)+`</td>\n                        <td>`+(valuetoFixed(BALANCE))+`</td>\n                        <td>`+Data[i].VNO+`</td>\n                        <td> `+getValueNotDefine(Data[i].RMK)+`</td>\n                        </tr>\n                        `;\n      }\n      bankHeadTotal += `     <tr class=\"tfootcard\">\n                        <td colspan=\"4\">GRAND TOTAL</td>\n                        <td class=\"CREDIT\">`+valuetoFixed(DEBIT)+`</td>\n                        <td class=\"DEBIT\">`+valuetoFixed(CREDIT)+`</td>\n                        <td>`+(valuetoFixed(BALANCE))+`</td>\n                        <td colspan=\"2\"></td>\n                        \n                        </tr>\n                        `;\n        $('#result').html(tr);\n        $('#bankHeadTotal').html(bankHeadTotal);\n      $(\"#loader\").removeClass('has-loader');\n      if (CrDrEntryType != \"\") {        \n        $(`.` + CrDrEntryType).css(\"display\", \"none\");\n      }\n      \nAddHeaderTbl();\n    }else{\n      $('#result').html('<h1 align=\"center\">No Data Found</h1>');\n      $(\"#loader\").removeClass('has-loader');  \n    }\n \n\n  }"
        }
    ]
}