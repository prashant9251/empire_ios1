{
    "sourceFile": "js/jsLoadCallBLS.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 9,
            "patches": [
                {
                    "date": 1638354143781,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1638354197091,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -119,9 +119,10 @@\n           FdataUrl = getFullDataLinkByCnoTypeVnoFirm(Data[i].billDetails[j].CNO, Data[i].billDetails[j].TYPE, Data[i].billDetails[j].VNO, getFirmDetailsBySendCode(Data[i].billDetails[j].CNO)[0].FIRM, Data[i].billDetails[j].IDE);\n \n           var supGrpName = Data[i].billDetails[j].SG;\n \n-          tr += `<tr align=\"center\"class=\"hideAbleTr\">\n+          tr += `<tr align=\"center\"class=\"hideAbleTr\"> <th class=\"unhideAbleTr\">\n+                <input type=\"checkbox\" checked id=\"selectField_`+ ID + `\"partycode=\"` + Data[i].COD + `\" ccd=\"` + Data[i].billDetails[j].ccd + `\"/> </th>         \n                         <td><a href=\"`+ FdataUrl + `\" target=\"_blank\"><button class=\"PrintBtnHide\">` + Data[i].billDetails[j].BLL + `</button></a></td>\n                         <td onclick=\"openSubR('`+ Data[i].COD + `')\">` + formatDate(Data[i].billDetails[j].DTE) + `</td>\n                         <td class=\"TRNSPT\"onclick=\"openSubR('`+ Data[i].COD + `','` + Data[i].billDetails[j].ccd + `')\">` + getValueNotDefine(Data[i].billDetails[j].ccd) + `</td>\n                         <td onclick=\"openSubR('`+ Data[i].COD + `')\">` + valuetoFixed(fnlAmt) + `</td>\n"
                },
                {
                    "date": 1638354270940,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -119,10 +119,9 @@\n           FdataUrl = getFullDataLinkByCnoTypeVnoFirm(Data[i].billDetails[j].CNO, Data[i].billDetails[j].TYPE, Data[i].billDetails[j].VNO, getFirmDetailsBySendCode(Data[i].billDetails[j].CNO)[0].FIRM, Data[i].billDetails[j].IDE);\n \n           var supGrpName = Data[i].billDetails[j].SG;\n \n-          tr += `<tr align=\"center\"class=\"hideAbleTr\"> <th class=\"unhideAbleTr\">\n-                <input type=\"checkbox\" checked id=\"selectField_`+ ID + `\"partycode=\"` + Data[i].COD + `\" ccd=\"` + Data[i].billDetails[j].ccd + `\"/> </th>         \n+          tr += `<tr align=\"center\"class=\"hideAbleTr\">\n                         <td><a href=\"`+ FdataUrl + `\" target=\"_blank\"><button class=\"PrintBtnHide\">` + Data[i].billDetails[j].BLL + `</button></a></td>\n                         <td onclick=\"openSubR('`+ Data[i].COD + `')\">` + formatDate(Data[i].billDetails[j].DTE) + `</td>\n                         <td class=\"TRNSPT\"onclick=\"openSubR('`+ Data[i].COD + `','` + Data[i].billDetails[j].ccd + `')\">` + getValueNotDefine(Data[i].billDetails[j].ccd) + `</td>\n                         <td onclick=\"openSubR('`+ Data[i].COD + `')\">` + valuetoFixed(fnlAmt) + `</td>\n"
                },
                {
                    "date": 1638354286743,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -77,8 +77,10 @@\n           if (j != 0 && codex != CodePrev) {\n \n             tr += `  \n             <tr class=\"tfootcard\"style=\"background-color:#3e3b3b26;color:#c107a2;text-align: center;\">\n+            <th class=\"unhideAbleTr\">\n+            <input type=\"checkbox\" checked id=\"selectField_`+ ID + `\"partycode=\"`+ Data[i].COD+`\" ccd=\"` +  Data[i].billDetails[j].ccd + `\"/> </th>            \n             <td class=\"hideAbleTr\"colspan=\"3\">SUBTOTAL</td>\n             <td class=\"unhideAbleTr\" colspan=\"3\"onclick=\"openSubR('`+ Data[i].COD + `','` + Data[i].billDetails[j - 1].ccd + `')\">` + Data[i].billDetails[j - 1].ccd + `</td>\n             <td>` + valuetoFixed(subtotalFinalAmt) + `</td>\n             <td colspan=\"7\"></td>\n@@ -135,8 +137,10 @@\n \n           if (j == BLL - 1) {\n             tr += `  \n             <tr class=\"tfootcard\"style=\"background-color:white;color:#c107a2;text-align: center;\">\n+            <th class=\"unhideAbleTr\">\n+            <input type=\"checkbox\" checked id=\"selectField_`+ ID + `\"partycode=\"`+ Data[i].COD+`\" ccd=\"` +  Data[i].billDetails[j].ccd + `\"/> </th>            \n             <td class=\"hideAbleTr\"colspan=\"3\">SUBTOTAL</td>\n             <td class=\"unhideAbleTr\" colspan=\"3\"onclick=\"openSubR('`+ Data[i].COD + `','` + Data[i].billDetails[j].ccd + `')\">` + Data[i].billDetails[j].ccd + `</td>\n             <td>` + valuetoFixed(subtotalFinalAmt) + `</td>            \n             <td colspan=\"4\"></td>\n"
                },
                {
                    "date": 1638354317801,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -73,8 +73,10 @@\n             <td>GROUP</td>\n             </tr>  `;\n             CodePrev = codex;\n           }\n+          var ID = codex;\n+\n           if (j != 0 && codex != CodePrev) {\n \n             tr += `  \n             <tr class=\"tfootcard\"style=\"background-color:#3e3b3b26;color:#c107a2;text-align: center;\">\n"
                },
                {
                    "date": 1638354339358,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -183,8 +183,9 @@\n     var hideAbleTr = getUrlParams(url, \"hideAbleTr\");\n     if (hideAbleTr == \"true\") {\n       $('.hideAbleTr').css(\"display\", \"none\");\n       $('.unhideAbleTr').css(\"display\", \"\");\n+      $('#footer').css(\"display\", \"\");    \n     } else {\n       $('.unhideAbleTr').css(\"display\", \"none\");\n     }\n     AddHeaderTbl();\n"
                },
                {
                    "date": 1638354404686,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -158,9 +158,10 @@\n       }\n       grandTotalGrossAmt += totalGrossAmt;\n       grandTotalfinalAmt += totalFinalAmt;\n       tr += `<tr class=\"tfootcard\"style=\"background-color:#3e3b3b26;\">\n-      <td colspan=\"3\">TOTAL</td>\n+    <th class=\"unhideAbleTr\"> </th>\n+    <td colspan=\"3\">TOTAL</td>\n       <td >`+ valuetoFixed(totalFinalAmt) + `</td>\n       <td colspan=\"4\"></td>\n       <td class=\"TRNSPT\"colspan=\"3\"></td>\n       </tr>`;\n@@ -168,9 +169,10 @@\n       totalFinalAmt = 0;\n     }\n     tr += `\n                     <tr class=\"tfootcard\"style=\"background-color:#3e3b3b26;color:#080844;\">\n-                    <td colspan=\"3\">GRAND TOTAL</td>\n+                  <th class=\"unhideAbleTr\"> </th>\n+                  <td colspan=\"3\">GRAND TOTAL</td>\n                     <td>`+ valuetoFixed(grandTotalfinalAmt) + `</td>\n                     <td colspan=\"4\"></td>\n                     <td class=\"TRNSPT\"colspan=\"3\"></td>\n                     </tr></tbody>`;\n"
                },
                {
                    "date": 1638354459454,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,8 +3,9 @@\n var my_awesome_script = document.createElement('script');\n my_awesome_script.setAttribute('src', 'js/jsPopUpModelParty.js');\n document.head.appendChild(my_awesome_script);\n \n+var hideAbleTr = getUrlParams(url, \"hideAbleTr\");\n var partynamegrp = getUrlParams(url, \"partynamegrp\");\n var partycodegrp = getUrlParams(url, \"partycodegrp\");\n var ccdgrp = getUrlParams(url, \"ccdgrp\");\n var ccdcodegrp = getUrlParams(url, \"ccdcodegrp\");\n@@ -181,9 +182,8 @@\n     $(\"#loader\").removeClass('has-loader');\n     if ((url).indexOf('ALLSALE_AJXREPORT') < 0) {\n       $(\".TRNSPT\").css(\"display\", \"none\");\n     }\n-    var hideAbleTr = getUrlParams(url, \"hideAbleTr\");\n     if (hideAbleTr == \"true\") {\n       $('.hideAbleTr').css(\"display\", \"none\");\n       $('.unhideAbleTr').css(\"display\", \"\");\n       $('#footer').css(\"display\", \"\");    \n"
                },
                {
                    "date": 1638957269814,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,12 +4,8 @@\n my_awesome_script.setAttribute('src', 'js/jsPopUpModelParty.js');\n document.head.appendChild(my_awesome_script);\n \n var hideAbleTr = getUrlParams(url, \"hideAbleTr\");\n-var partynamegrp = getUrlParams(url, \"partynamegrp\");\n-var partycodegrp = getUrlParams(url, \"partycodegrp\");\n-var ccdgrp = getUrlParams(url, \"ccdgrp\");\n-var ccdcodegrp = getUrlParams(url, \"ccdcodegrp\");\n \n function loadCall(Data) {\n   //---------------\n   console.log(Data);\n"
                },
                {
                    "date": 1644854265883,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -58,9 +58,9 @@\n           if (j == 0 && codex != CodePrev) {\n             tr += ` <tr style=\"font-weight:500;font-weight:bold;\"align=\"center\">                    \n             <th class=\"unhideAbleTr\">SELECT </th>\n             <td>BILL</td>\n-            <td>DATE</td>\n+            <td>BILL&nbsp;DATE</td>\n             <td>PARTY NAME</td>\n             <td>FINAL AMT</td>\n             <td>FIRM</td>\n             <td>TYPE</td>\n"
                }
            ],
            "date": 1638354143781,
            "name": "Commit-0",
            "content": "var GRD;\nvar url = window.location.href;\nvar my_awesome_script = document.createElement('script');\nmy_awesome_script.setAttribute('src', 'js/jsPopUpModelParty.js');\ndocument.head.appendChild(my_awesome_script);\n\nvar partynamegrp = getUrlParams(url, \"partynamegrp\");\nvar partycodegrp = getUrlParams(url, \"partycodegrp\");\nvar ccdgrp = getUrlParams(url, \"ccdgrp\");\nvar ccdcodegrp = getUrlParams(url, \"ccdcodegrp\");\n\nfunction loadCall(Data) {\n  //---------------\n  console.log(Data);\n  var GST;\n  var FdataUrl;\n  var DETAILSDET;\n  var ccode;\n  var pcode;\n  var city;\n  var broker;\n  var label;\n  var grandTotalGrossAmt = 0;\n  var grandTotalfinalAmt = 0;\n  var subtotalGrossAmt = 0;\n  var subtotalFinalAmt = 0;\n  var totalGrossAmt = 0;\n  var totalFinalAmt = 0;\n  var DL = Data.length;\n  var BLL;\n  if (DL > 0) {\n    grandTotalGrossAmt = 0;\n    grandTotalfinalAmt = 0;\n    tr = \"<tbody>\";\n\n    for (i = 0; i < DL; i++) {\n      ccode = getPartyDetailsBySendCode(Data[i].COD);\n      var CST_GRP = \"\";\n      if (ccode.length > 0) {\n        pcode = getValueNotDefine(ccode[0].partyname);\n        city = getValueNotDefine(ccode[0].city);\n        broker = getValueNotDefine(ccode[0].broker);\n        label = getValueNotDefine(ccode[0].label);\n        CST_GRP = getValueNotDefine(ccode[0].GCODE);\n      }\n      tr += `\n                <tr class=\"trPartyHead\"  onclick=\"trOnClick('` + Data[i].COD + `','` + city + `','` + broker + `');\">\n                          <th  class=\"trPartyHead\" colspan=\"13\">` + label + `</th>                                    \n                        </tr>`;\n\n      BLL = Data[i].billDetails.length;\n      if (BLL > 0) {\n\n        subtotalGrossAmt = 0;\n        subtotalfinalAmt = 0;\n        var codex = null;\n        var CodePrev = null;\n        for (j = 0; j < BLL; j++) {\n          var sr = 0\n          codex = Data[i].billDetails[j].ccd;\n          if (j == 0 && codex != CodePrev) {\n            tr += ` <tr style=\"font-weight:500;font-weight:bold;\"align=\"center\">                    \n            <th class=\"unhideAbleTr\">SELECT </th>\n            <td>BILL</td>\n            <td>DATE</td>\n            <td>PARTY NAME</td>\n            <td>FINAL AMT</td>\n            <td>FIRM</td>\n            <td>TYPE</td>\n            <td>PAID</td>\n            <td class=\"TRNSPT\">TRANSPORT</td>\n            <td class=\"TRNSPT\">LR NO</td>\n            <td>GROUP</td>\n            </tr>  `;\n            CodePrev = codex;\n          }\n          if (j != 0 && codex != CodePrev) {\n\n            tr += `  \n            <tr class=\"tfootcard\"style=\"background-color:#3e3b3b26;color:#c107a2;text-align: center;\">\n            <td class=\"hideAbleTr\"colspan=\"3\">SUBTOTAL</td>\n            <td class=\"unhideAbleTr\" colspan=\"3\"onclick=\"openSubR('`+ Data[i].COD + `','` + Data[i].billDetails[j - 1].ccd + `')\">` + Data[i].billDetails[j - 1].ccd + `</td>\n            <td>` + valuetoFixed(subtotalFinalAmt) + `</td>\n            <td colspan=\"7\"></td>\n            </tr>  `;\n            CodePrev = codex;\n            totalGrossAmt += subtotalGrossAmt;\n            totalFinalAmt += subtotalFinalAmt;\n            subtotalGrossAmt = 0;\n            subtotalFinalAmt = 0;\n\n          }\n\n\n\n          var grsAmt = 0;\n          var fnlAmt = 0;\n          if (Data[i].billDetails[j].DT != null && Data[i].billDetails[j].DT != \"\") {\n            if (Data[i].billDetails[j].DT.toUpperCase().indexOf('CN')) {\n              grsAmt = +Math.abs(Data[i].billDetails[j].GAMT);\n              fnlAmt = +Math.abs(Data[i].billDetails[j].FAMT);\n            } else if (Data[i].billDetails[j].DT.toUpperCase().indexOf('DN')) {\n              grsAmt = -Math.abs(Data[i].billDetails[j].GAMT);\n              fnlAmt = -Math.abs(Data[i].billDetails[j].FAMT);\n            } else if (Data[i].billDetails[j].DT.toUpperCase().indexOf('OS')) {\n              grsAmt = -Math.abs(Data[i].billDetails[j].GAMT);\n              fnlAmt = -Math.abs(Data[i].billDetails[j].FAMT);\n            } else {\n              grsAmt = -Math.abs(Data[i].billDetails[j].GAMT);\n              fnlAmt = -Math.abs(Data[i].billDetails[j].FAMT);\n            }\n          } else {\n            grsAmt = -Math.abs(Data[i].billDetails[j].GAMT);\n            fnlAmt = -Math.abs(Data[i].billDetails[j].FAMT);\n          }\n          subtotalGrossAmt += parseInt(grsAmt);\n          subtotalFinalAmt += parseInt(fnlAmt);\n          GST = parseFloat(Data[i].billDetails[j].VTAMT) + parseFloat(Data[i].billDetails[j].ADVTAMT);\n          FdataUrl = getFullDataLinkByCnoTypeVnoFirm(Data[i].billDetails[j].CNO, Data[i].billDetails[j].TYPE, Data[i].billDetails[j].VNO, getFirmDetailsBySendCode(Data[i].billDetails[j].CNO)[0].FIRM, Data[i].billDetails[j].IDE);\n\n          var supGrpName = Data[i].billDetails[j].SG;\n\n          tr += `<tr align=\"center\"class=\"hideAbleTr\">\n                        <td><a href=\"`+ FdataUrl + `\" target=\"_blank\"><button class=\"PrintBtnHide\">` + Data[i].billDetails[j].BLL + `</button></a></td>\n                        <td onclick=\"openSubR('`+ Data[i].COD + `')\">` + formatDate(Data[i].billDetails[j].DTE) + `</td>\n                        <td class=\"TRNSPT\"onclick=\"openSubR('`+ Data[i].COD + `','` + Data[i].billDetails[j].ccd + `')\">` + getValueNotDefine(Data[i].billDetails[j].ccd) + `</td>\n                        <td onclick=\"openSubR('`+ Data[i].COD + `')\">` + valuetoFixed(fnlAmt) + `</td>\n                        <td onclick=\"openSubR('`+ Data[i].COD + `')\">` + Data[i].billDetails[j].FRM + `</td>\n                        <td onclick=\"openSubR('`+ Data[i].COD + `')\">` + Data[i].billDetails[j].SRS + `</td>\n                        <td onclick=\"openSubR('`+ Data[i].COD + `')\">` + Data[i].billDetails[j].PD + `</td>\n                        <td class=\"TRNSPT\"onclick=\"openSubR('`+ Data[i].COD + `')\">` + getValueNotDefine(Data[i].billDetails[j].TRN) + `</td>\n                        <td class=\"TRNSPT\"onclick=\"openSubR('`+ Data[i].COD + `')\">` + getValueNotDefine(Data[i].billDetails[j].RNO) + `</td>\n                        <td onclick=\"openSubR('`+ Data[i].COD + `')\">` + getValueNotDefine(supGrpName) + `</td>\n                        </tr>`;\n\n          if (j == BLL - 1) {\n            tr += `  \n            <tr class=\"tfootcard\"style=\"background-color:white;color:#c107a2;text-align: center;\">\n            <td class=\"hideAbleTr\"colspan=\"3\">SUBTOTAL</td>\n            <td class=\"unhideAbleTr\" colspan=\"3\"onclick=\"openSubR('`+ Data[i].COD + `','` + Data[i].billDetails[j].ccd + `')\">` + Data[i].billDetails[j].ccd + `</td>\n            <td>` + valuetoFixed(subtotalFinalAmt) + `</td>            \n            <td colspan=\"4\"></td>\n            <td class=\"TRNSPT\"colspan=\"3\"></td>\n            </tr>  `;\n            totalGrossAmt += subtotalGrossAmt;\n            totalFinalAmt += subtotalFinalAmt;\n            subtotalGrossAmt = 0;\n            subtotalFinalAmt = 0;\n\n          }\n        }\n      }\n      grandTotalGrossAmt += totalGrossAmt;\n      grandTotalfinalAmt += totalFinalAmt;\n      tr += `<tr class=\"tfootcard\"style=\"background-color:#3e3b3b26;\">\n      <td colspan=\"3\">TOTAL</td>\n      <td >`+ valuetoFixed(totalFinalAmt) + `</td>\n      <td colspan=\"4\"></td>\n      <td class=\"TRNSPT\"colspan=\"3\"></td>\n      </tr>`;\n      totalGrossAmt = 0;\n      totalFinalAmt = 0;\n    }\n    tr += `\n                    <tr class=\"tfootcard\"style=\"background-color:#3e3b3b26;color:#080844;\">\n                    <td colspan=\"3\">GRAND TOTAL</td>\n                    <td>`+ valuetoFixed(grandTotalfinalAmt) + `</td>\n                    <td colspan=\"4\"></td>\n                    <td class=\"TRNSPT\"colspan=\"3\"></td>\n                    </tr></tbody>`;\n\n    $('#result').html(tr);\n    $(\"#loader\").removeClass('has-loader');\n    if ((url).indexOf('ALLSALE_AJXREPORT') < 0) {\n      $(\".TRNSPT\").css(\"display\", \"none\");\n    }\n    var hideAbleTr = getUrlParams(url, \"hideAbleTr\");\n    if (hideAbleTr == \"true\") {\n      $('.hideAbleTr').css(\"display\", \"none\");\n      $('.unhideAbleTr').css(\"display\", \"\");\n    } else {\n      $('.unhideAbleTr').css(\"display\", \"none\");\n    }\n    AddHeaderTbl();\n  } else {\n    $('#result').html('<h1>No Data Found</h1>');\n    $(\"#loader\").removeClass('has-loader');\n\n  }\n  // try { } catch (error) {\n  //   alert(error)\n  // $('#result').html(tr);\n  // $(\"#loader\").removeClass('has-loader');\n\n  // }\n}\n"
        }
    ]
}