{
    "sourceFile": "js/jsLoadCallOUTSTANDING_SUMMERY.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1654957456284,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1654957456284,
            "name": "Commit-0",
            "content": "\n    var hideAbleTr = getUrlParams(url, \"hideAbleTr\");\n\n//-----------function-------\nfunction getUrlPaymentSlip(CNO, TYPE, VNO, IDE) {\n  return \"paymentSlipPdf.html?ntab=NTAB&IDE=\" + IDE + \"&CNO=\" + CNO + \"&TYPE=\" + TYPE + \"&VNO=\" + VNO;\n}\n\nvar GRD;\nfunction loadCall(data) {\n  Data = data;\n  var ccode;\n  var pcode;\n  var city;\n  var broker;\n  var label;\n  var grandtotalNETBILLAMT = 0;\n  var grandtotalGROSSAMT = 0;\n  var grandtotalGOODSRETURN = 0;\n  var grandtotalPAIDAMT = 0;\n  var grandtotalAmount = 0;\n  var totalNETBILLAMT = 0;\n  var totalGROSSAMT = 0;\n  var totalGOODSRETURN = 0;\n  var totalPAIDAMT = 0;\n  var totalAmount = 0;\n  var subtotalNETBILLAMT = 0;\n  var subtotalGROSSAMT = 0;\n  var subtotalGOODSRETURN = 0;\n  var subtotalPAIDAMT = 0;\n  var subtotalAmount = 0;\n  var BLL;\n  var FdataUrl\n  var DL = Data.length;\n  if (DL > 0) {\n    grandtotalNETBILLAMT = 0;\n    grandtotalGROSSAMT = 0;\n    grandtotalGOODSRETURN = 0;\n    grandtotalPAIDAMT = 0;\n    grandtotalAmount = 0;\n    tr = \"<tbody>\";\n\n    for (var i = 0; i < DL; i++) {\n      ccode = getPartyDetailsBySendCode(Data[i].COD);\n      if (ccode.length > 0) {\n        pcode = getValueNotDefine(ccode[0].partyname);\n        city = getValueNotDefine(ccode[0].city);\n        broker = getValueNotDefine(ccode[0].broker);\n        label = getValueNotDefine(ccode[0].label);\n        MO = getValueNotDefine(ccode[0].MO);\n      }\n      tr += `<tr class=\"trPartyHead\"onclick=\"trOnClick('` + Data[i].COD + `','` + city + `','` + broker + `');\">\n                          <th colspan=\"16\" class=\"trPartyHead\">` + label + `<a href=\"tel:` + MO + `\"><button>MO:` + getValueNotDefine(MO) + `</button></a></th>\n                        </tr>\n                        `;\n\n      BLL = Data[i].billDetails.length;\n      if (BLL > 0) {\n        totalNETBILLAMT = 0;\n        totalGROSSAMT = 0;\n        totalGOODSRETURN = 0;\n        totalPAIDAMT = 0;\n        totalAmount = 0;\n        var codex = null;\n        var CodePrev = null;\n        for (j = 0; j < BLL; j++) {\n          var sr = 0\n          codex = Data[i].billDetails[j].ccd;\n          if (j == 0 && codex != CodePrev) {\n            tr += ` <tr style=\"font-weight:bold;\"align=\"center\">                    \n            <th class=\"unhideAbleTr\">SELECT </th>\n            <th >BILL</th>\n            <th >DATE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>\n            <th class=\"hideSUPP\">SUPPLIER</th>\n            <th class=\"hideFRM\"style=\"display:none;\">FIRM</th>\n            <th class=\"hideVNO\">VNO</th>\n            <th class=\"hideGROSSAMT\"style=\"display:none;\">GROSS <br>AMT</th>\n            <th class=\"hideTYPE\"style=\"display:none;\">TYPE</th>\n            <th class=\"hideNETBILLAMT\">NET BILL<br>AMT</th>\n            <th class=\"hideGOODSRET\">GOODS<br>RET.</th>\n            <th class=\"hidePAID\">PAID <BR> AMT</th>\n            <th class=\"hidePEND\">PEND<br>AMT.</th>\n            <th class=\"hideGROUP\">GROUP</th>\n            <th class=\"hideBROKER\"style=\"display:none;\">BROKER</th>\n            <th class=\"hideDAYS\">DAYS</th>\n            <th class=\"hideTRANSPORT\">TRANSPORT</th>\n            <th class=\"hideLR\">LR NO</th>\n            </tr>  `;\n            CodePrev = codex;\n          }\n\n          var ID = codex;\n          if (j != 0 && codex != CodePrev) {\n\n            tr += `  \n            <tr class=\"hideSUBTOTAL tfootcard\"style=\"background-color:#3e3b3b26;color:#c107a2;text-align: center;\">\n            <th class=\"unhideAbleTr\">\n            <input type=\"checkbox\" checked id=\"selectField_`+ ID + `\"partycode=\"`+ Data[i].COD+`\" ccd=\"` +  Data[i].billDetails[j].ccd + `\"/> </th>\n            <td class=\"hideAbleTr\" style=\"text-align:left;\"colspan=\"2\">SUBTOTAL</td>\n            <td  class=\"hideSUPP\"></td>   \n            <td class=\"hideFRM\"style=\"display:none;\" ></td>\n            <td class=\"hideVNO\" ></td>\n            <td class=\"unhideAbleTr\" onclick=\"openSubR('`+ Data[i].COD + `','` + Data[i].billDetails[j].ccd + `')\">` + Data[i].billDetails[j].ccd + `</td>\n            <td class=\"unhideAbleTr\" ></td>\n            <td class=\"hideGROSSAMT\"style=\"display:none;\">` + valuetoFixed(subtotalGROSSAMT) + `</td>\n            <td class=\"hideTYPE\"style=\"display:none;\" ></td>\n            <td class=\"hideNETBILLAMT\">` + valuetoFixed(subtotalNETBILLAMT) + `</td>\n            <td class=\"hideGOODSRET\" >` + valuetoFixed(subtotalGOODSRETURN) + `</td>\n            <td class=\"hidePAID\" >` + valuetoFixed(subtotalPAIDAMT) + `</td>\n            <td class=\"hidePEND\" >` + valuetoFixed(subtotalAmount) + `</td>\n            <td class=\"hideGROUP\" ></td>\n            <th class=\"hideBROKER\"style=\"display:none;\"></th>\n            <td class=\"hideDAYS\"></td>\n            <td class=\"hideTRANSPORT\"></td>\n            <td class=\"hideLR\"></td>\n            </tr>  `;\n\n            totalNETBILLAMT += subtotalNETBILLAMT;\n            totalGROSSAMT += subtotalGROSSAMT;\n            totalGOODSRETURN += subtotalGOODSRETURN;\n            totalPAIDAMT += subtotalPAIDAMT;\n            totalAmount += subtotalAmount;\n            subtotalNETBILLAMT = 0;\n            subtotalGROSSAMT = 0;\n            subtotalGOODSRETURN = 0;\n            subtotalPAIDAMT = 0;\n            subtotalAmount = 0;\n\n            CodePrev = codex;\n\n          }\n\n          var transport = (Data[i].billDetails[j].TR);\n\n          var UrlPaymentSlip = getUrlPaymentSlip(Data[i].billDetails[j].CNO, (Data[i].billDetails[j].TYPE).replace(\"ZS\", \"\"), Data[i].billDetails[j].VNO, (Data[i].billDetails[j].IDE).replace(\"ZS\", \"\"));\n          FdataUrl = getFullDataLinkByCnoTypeVnoFirm(Data[i].billDetails[j].CNO, Data[i].billDetails[j].TYPE, Data[i].billDetails[j].VNO, getFirmDetailsBySendCode(Data[i].billDetails[j].CNO)[0].FIRM, Data[i].billDetails[j].IDE);\n          var urlopen = '';\n          var TYPEforLink = (Data[i].billDetails[j].TYPE).toUpperCase();\n          if (TYPEforLink.indexOf('B') > -1) {\n\n            urlopen = UrlPaymentSlip;\n          } else if (TYPEforLink.indexOf('S') > -1 || TYPEforLink.indexOf('P') > -1) {\n            urlopen = FdataUrl;\n          }\n          var BAMT = 0;\n          var FAMT = 0;\n          var CLM = 0;\n          var RAMT = 0;\n          var PAMT = 0;\n          BAMT = parseInt((Data[i].billDetails[j].BAMT == null) ? 0 : Data[i].billDetails[j].BAMT);\n          FAMT = parseInt((Data[i].billDetails[j].FAMT == null) ? 0 : Data[i].billDetails[j].FAMT);\n          CLM = parseInt((Data[i].billDetails[j].CLM == null) ? 0 : Data[i].billDetails[j].CLM);\n          RAMT = parseInt((Data[i].billDetails[j].RAMT == null) ? 0 : Data[i].billDetails[j].RAMT);\n          PAMT = parseInt((Data[i].billDetails[j].PAMT == null) ? 0 : Data[i].billDetails[j].PAMT);\n          subtotalGROSSAMT += (BAMT);\n          subtotalNETBILLAMT += (FAMT);\n          subtotalGOODSRETURN += (CLM);\n          subtotalPAIDAMT += (RAMT);\n          subtotalAmount += (PAMT);\n          var BCD = \"\";\n          var BrokerArr = getPartyDetailsBySendCode(Data[i].billDetails[j].BCD);\n          if (BrokerArr.length > 0) {\n            BCD = getValueNotDefine(BrokerArr[0].partyname);\n          }\n          tr += ` \n                 <tr class=\"hideAbleTr\"align=\"center\"style=\"\">\n                 <td><a href=\"`+ FdataUrl + `\" target=\"_blank\"><button class=\"PrintBtnHide\">` + Data[i].billDetails[j].BLL + `</button></a></td>\n                 <td onclick=\"openSubR('`+ Data[i].COD + `')\">` + formatDate(Data[i].billDetails[j].DTE) + `</td>\n                 <td  class=\"hideSUPP\"onclick=\"openSubR('`+ Data[i].COD + `','` + Data[i].billDetails[j].ccd + `')\">` + (Data[i].billDetails[j].ccd) + `</td>\n                                <td class=\"hideFRM\"style=\"display:none;\" onclick=\"openSubR('`+ Data[i].COD + `')\">` + (Data[i].billDetails[j].FRM) + `</td>\n                                <td class=\"hideVNO\" onclick=\"openSubR('`+ Data[i].COD + `')\">` + (Data[i].billDetails[j].VNO) + `</td>\n                                    <td class=\"hideGROSSAMT\"style=\"display:none;\" onclick=\"openSubR('`+ Data[i].COD + `')\">` + (BAMT) + `</td>\n                                    <td class=\"hideTYPE\"style=\"display:none;\" onclick=\"openSubR('`+ Data[i].COD + `')\">` + (Data[i].billDetails[j].TYPE) + `</td>\n                                    <td class=\"hideNETBILLAMT\" onclick=\"openSubR('`+ Data[i].COD + `')\">` + (FAMT) + `</td>\n                                    <td class=\"hideGOODSRET\" onclick=\"openSubR('`+ Data[i].COD + `')\">` + (CLM) + `</td>\n                                    <td class=\"hidePAID\" onclick=\"openSubR('`+ Data[i].COD + `')\">` + (RAMT) + `</td>\n                                    <td class=\"hidePEND\"onclick=\"openSubR('`+ Data[i].COD + `')\">` + (PAMT) + `</td>\n                                    <td class=\"hideGROUP\"onclick=\"openSubR('`+ Data[i].COD + `')\">` + getValueNotDefine(Data[i].billDetails[j].SG) + ` </td>                                    \n                                    <th class=\"hideBROKER\"style=\"display:none;\"onclick=\"openSubR('`+ Data[i].COD + `')\">` + getValueNotDefine(BCD) + ` </th>\n                                    <td class=\"hideDAYS\"onclick=\"openSubR('`+ Data[i].COD + `')\">` + getDaysDif(Data[i].billDetails[j].DTE, nowDate) + ` </td>\n                                    <td class=\"hideTRANSPORT\" onclick=\"openSubR('`+ Data[i].COD + `')\">` + getValueNotDefine(transport) + ` </td>\n                                    <td class=\"hideLR\"onclick=\"openSubR('`+ Data[i].COD + `')\">` + getValueNotDefine(Data[i].billDetails[j].LR) + ` </td>\n                                    \n                                </tr>`;\n\n\n          if (j == BLL - 1) {\n            tr += `  \n            <tr class=\"hideSUBTOTAL tfootcard\"style=\"background-color:#3e3b3b26;color:#c107a2;text-align: center;\">\n            <th class=\"unhideAbleTr\">\n            <input type=\"checkbox\" checked id=\"selectField_`+ ID + `\"partycode=\"`+ Data[i].COD+`\" ccd=\"` +  Data[i].billDetails[j].ccd + `\"/> </th>            \n            <td class=\"hideAbleTr\" style=\"text-align:left;\"colspan=\"2\">SUBTOTAL</td>\n            <td  class=\"hideSUPP\"></td>   \n            <td class=\"hideFRM\"style=\"display:none;\"></td>\n            <td class=\"hideVNO\"></td>\n            <td class=\"unhideAbleTr\" onclick=\"openSubR('`+ Data[i].COD + `','` + Data[i].billDetails[j].ccd + `')\">` + Data[i].billDetails[j].ccd + `</td>\n            <td class=\"unhideAbleTr\"></td>\n            <td class=\"hideGROSSAMT\"style=\"display:none;\">` + valuetoFixed(subtotalGROSSAMT) + `</td>\n            <td class=\"hideTYPE\"style=\"display:none;\" ></td>\n            <td class=\"hideNETBILLAMT\">` + valuetoFixed(subtotalNETBILLAMT) + `</td>\n            <td class=\"hideGOODSRET\" >` + valuetoFixed(subtotalGOODSRETURN) + `</td>\n            <td class=\"hidePAID\" >` + valuetoFixed(subtotalPAIDAMT) + `</td>\n            <td class=\"hidePEND\" >` + valuetoFixed(subtotalAmount) + `</td>\n            <td class=\"hideGROUP\" ></td>\n            <th class=\"hideBROKER\"style=\"display:none;\"></th>\n            <td class=\"hideDAYS\"></td>\n            <td class=\"hideTRANSPORT\"></td>\n            <td class=\"hideLR\"></td>\n            </tr>  `;\n\n            totalNETBILLAMT += subtotalNETBILLAMT;\n            totalGROSSAMT += subtotalGROSSAMT;\n            totalGOODSRETURN += subtotalGOODSRETURN;\n            totalPAIDAMT += subtotalPAIDAMT;\n            totalAmount += subtotalAmount;\n            subtotalNETBILLAMT = 0;\n            subtotalGROSSAMT = 0;\n            subtotalGOODSRETURN = 0;\n            subtotalPAIDAMT = 0;\n            subtotalAmount = 0;\n          }\n        }\n        grandtotalGROSSAMT += totalGROSSAMT;\n        grandtotalNETBILLAMT += totalNETBILLAMT;\n        grandtotalGOODSRETURN += totalGOODSRETURN;\n        grandtotalPAIDAMT += totalPAIDAMT;\n        grandtotalAmount += totalAmount;\n        tr += `<tr class=\"tfootcard\"style=\"background-color:#3e3b3b26;\">\n        <tr class=\"tfootcard\"style=\"background-color:#3e3b3b26;text-align: center;\">\n            <th class=\"unhideAbleTr\"></th>\n            <td class=\"\" style=\"text-align:left;\"colspan=\"2\">TOTAL</td>\n            <td  class=\"hideSUPP\"></td>   \n            <td class=\"hideFRM\"style=\"display:none;\" ></td>\n            <td class=\"hideVNO\" ></td>\n            <td class=\"hideGROSSAMT\"style=\"display:none;\">` + valuetoFixed(totalGROSSAMT) + `</td>\n            <td class=\"hideTYPE\"style=\"display:none;\" ></td>\n            <td class=\"hideNETBILLAMT\">` + valuetoFixed(totalNETBILLAMT) + `</td>\n            <td class=\"hideGOODSRET\" >` + valuetoFixed(totalGOODSRETURN) + `</td>\n            <td class=\"hidePAID\" >` + valuetoFixed(totalPAIDAMT) + `</td>\n            <td class=\"hidePEND\" >` + valuetoFixed(totalAmount) + `</td>\n            <td class=\"hideGROUP\" ></td>\n            <th class=\"hideBROKER\"style=\"display:none;\"></th>\n            <td class=\"hideDAYS\"></td>\n            <td class=\"hideTRANSPORT\"></td>\n            <td class=\"hideLR\"></td>\n        </tr>`;\n        totalGROSSAMT = 0;\n        totalNETBILLAMT = 0;\n        totalGOODSRETURN = 0;\n        totalPAIDAMT = 0;\n        totalAmount = 0;\n      }\n\n    }\n    tr += `<tr class=\"tfootcard grandTotel\"style=\"background-color:#3e3b3b26;color:#080844;\">\n    <th class=\"unhideAbleTr\"> </th>\n    <td colspan=\"2\" >GRAND TOTAL</td>\n    <td class=\"hideSUPP\"></td>   \n    <td class=\"hideFRM\"style=\"display:none;\" ></td>\n    <td class=\"hideVNO\" ></td>\n    <td class=\"hideGROSSAMT\"style=\"display:none;\">` + valuetoFixed(grandtotalGROSSAMT) + `</td>\n    <td class=\"hideTYPE\"style=\"display:none;\" ></td>\n    <td class=\"hideNETBILLAMT\">` + valuetoFixed(grandtotalNETBILLAMT) + `</td>\n    <td class=\"hideGOODSRET\" >` + valuetoFixed(grandtotalGOODSRETURN) + `</td>\n    <td class=\"hidePAID\" >` + valuetoFixed(grandtotalPAIDAMT) + `</td>\n    <td class=\"hidePEND\" >` + valuetoFixed(grandtotalAmount) + `</td>\n    <td class=\"hideGROUP\" ></td>\n    <th class=\"hideBROKER\"style=\"display:none;\"></th>\n    <td class=\"hideDAYS\"></td>\n    <td class=\"hideTRANSPORT\"></td>\n    <td class=\"hideLR\"></td>\n    </tr>`;\n\n    $('#result').html(tr);\n    $(\"#loader\").removeClass('has-loader');\n\n    if (hideAbleTr == \"true\") {\n      $('.hideAbleTr').css(\"display\", \"none\");\n      $('.unhideAbleTr').css(\"display\", \"\");\n      $('#footer').css(\"display\", \"\");      \n    } else {\n      $('.unhideAbleTr').css(\"display\", \"none\");\n      $('#footer').css(\"display\",'none');\n    }\n\n    AddHeaderTbl();\n\n  } else {\n    $('#result').html('<h1 style=\"text-align:center;\">No Data Found</h1>');\n    $(\"#loader\").removeClass('has-loader');\n\n  }\n\n  try {\n\n  } catch (e) {\n\n    $('#result').html(tr);\n    $(\"#loader\").removeClass('has-loader');\n  }\n}\nvar my_awesome_script = document.createElement('script');\nmy_awesome_script.setAttribute('src', 'js/jsPopUpModelParty.js');\ndocument.head.appendChild(my_awesome_script);\n\n"
        }
    ]
}