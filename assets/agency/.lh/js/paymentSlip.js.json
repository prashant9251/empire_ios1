{
    "sourceFile": "js/paymentSlip.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 219,
            "patches": [
                {
                    "date": 1637291317251,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1637291333413,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -416,9 +416,10 @@\n     } else {\n       document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n       $(\"#loader\").removeClass('has-loader');\n     }\n-  }  try {\n-    catch (error) {\n+  try {\n+\n+  } catch (error) {\n     noteError(error);\n   }\n }\n"
                },
                {
                    "date": 1637291589738,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,15 +22,15 @@\n \n \n     if (BLS.length > 0) {\n       for (var i = 0; i < BLS.length; i++) {\n-        for (var j = 0; j < BLS[i].billDetails.length; j++) {\n+        for (var j = 0; j < BLS[i].length; j++) {\n           var BillName = 'TAX INVOICE';\n-          var SERIESArr = getSeriesDetailsBySendType(BLS[i].billDetails[j].TYPE);\n-          if (BLS[i].billDetails[j].DT != \"os\") {\n+          var SERIESArr = getSeriesDetailsBySendType(BLS[i][j].TYPE);\n+          if (BLS[i][j].DT != \"os\") {\n             BillName = SERIESArr[0].SERIES;\n           }\n-          firmArray = getFirmDetailsBySendCode(BLS[i].billDetails[j].CNO);\n+          firmArray = getFirmDetailsBySendCode(BLS[i][j].CNO);\n           partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n           COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n           COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n           var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n@@ -72,9 +72,9 @@\n           var CO_ADD4 = \"\";\n           var CO_CITY = \"\";\n           var CO_COMPANY_GSTIN = \"\";\n           var CO_PANNO = \"\";\n-          var MainFirmName = getValueNotDefine(BLS[i].billDetails[j].ccd);\n+          var MainFirmName = getValueNotDefine(BLS[i][j].ccd);\n          \n           if (ACTYPE != \"AGENCY\") {\n             MainFirmName = firmArray[0].FIRM;\n             CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n@@ -84,9 +84,9 @@\n             CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n             CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n             CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n           }else{\n-            var SuppArray = getPartyDetailsBySendCode(BLS[i].billDetails[j].ccd);\n+            var SuppArray = getPartyDetailsBySendCode(BLS[i][j].ccd);\n             if (SuppArray.length > 0) {\n               CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n               CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n               CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n@@ -139,53 +139,53 @@\n       </tr>\n       \n       <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n       <td style=\"text-align:left;\"colspan=\"2\">M/S `+ pcode + `</td>\n-      <td style=\"text-align:left;\"> BILL NO: `+ (BLS[i].billDetails[j].BLL) + `</td>\n+      <td style=\"text-align:left;\"> BILL NO: `+ (BLS[i][j].BLL) + `</td>\n       </tr>\n       \n       <tr  class=\"upperCase\">\n       <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\"> DATE : `+ formatDate(BLS[i].billDetails[j].DTE) + ` </td>\n+      <td style=\"text-align:left;\"> DATE : `+ formatDate(BLS[i][j].DTE) + ` </td>\n       </tr>\n \n       <tr  class=\"upperCase\">\n       <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` </td>\n-      <td style=\"text-align:left;\"> PARTY NO :  `+ getValueNotDefine(BLS[i].billDetails[j].PS) + ` </td>\n+      <td style=\"text-align:left;\"> PARTY NO :  `+ getValueNotDefine(BLS[i][j].PS) + ` </td>\n       </tr>\n       \n       <tr  class=\"upperCase\">\n       <td style=\"text-align:left;\"colspan=\"2\"> `+ city + ` </td>\n-      <td style=\"text-align:left;\"> STATE : `+ getValueNotDefine(BLS[i].billDetails[j].STC) + ` </td>\n+      <td style=\"text-align:left;\"> STATE : `+ getValueNotDefine(BLS[i][j].STC) + ` </td>\n       </tr>\n       \n       <tr  class=\"upperCase\">\n       <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\">HSN/SAC: `+ getValueNotDefine(BLS[i].billDetails[j].HSN) + ` </td>\n+      <td style=\"text-align:left;\">HSN/SAC: `+ getValueNotDefine(BLS[i][j].HSN) + ` </td>\n       </tr>\n       \n       <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> E-WAY BILL NO: `+ getValueNotDefine(BLS[i].billDetails[j].EWB) + ` </td>\n-      <td style=\"text-align:left;\">case no: `+ getValueNotDefine(BLS[i].billDetails[j].CSNO) + ` </td>\n+      <td style=\"text-align:left;\"colspan=\"2\"> E-WAY BILL NO: `+ getValueNotDefine(BLS[i][j].EWB) + ` </td>\n+      <td style=\"text-align:left;\">case no: `+ getValueNotDefine(BLS[i][j].CSNO) + ` </td>\n       </tr>\n \n       <tr>\n       <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n       </tr>\n       \n       <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">L.R.NO :  `+ getValueNotDefine(BLS[i].billDetails[j].RNO) + ` * ` + getValueNotDefine(BLS[i].billDetails[j].PRL) + `</td>\n-      <td style=\"text-align:left;\">L. R. DATE : `+ formatDate(BLS[i].billDetails[j].RDT) + ` </td>\n+      <td style=\"text-align:left;\"colspan=\"2\">L.R.NO :  `+ getValueNotDefine(BLS[i][j].RNO) + ` * ` + getValueNotDefine(BLS[i][j].PRL) + `</td>\n+      <td style=\"text-align:left;\">L. R. DATE : `+ formatDate(BLS[i][j].RDT) + ` </td>\n       </tr>\n \n       <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">TRANSPORT  `+ getValueNotDefine(BLS[i].billDetails[j].TRN) + `</td>\n-      <td style=\"text-align:left;\">STATION `+ getValueNotDefine(BLS[i].billDetails[j].PLC) + ` </td>\n+      <td style=\"text-align:left;\"colspan=\"2\">TRANSPORT  `+ getValueNotDefine(BLS[i][j].TRN) + `</td>\n+      <td style=\"text-align:left;\">STATION `+ getValueNotDefine(BLS[i][j].PLC) + ` </td>\n       </tr>\n \n       <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">WEIGHT : `+ valuetoFixed(getValueNotDefine(BLS[i].billDetails[j].WGT)) + `</td>\n-      <td style=\"text-align:left;\">FREIGHT: `+ valuetoFixed(getValueNotDefine(BLS[i].billDetails[j].FRT)) + ` </td>\n+      <td style=\"text-align:left;\"colspan=\"2\">WEIGHT : `+ valuetoFixed(getValueNotDefine(BLS[i][j].WGT)) + `</td>\n+      <td style=\"text-align:left;\">FREIGHT: `+ valuetoFixed(getValueNotDefine(BLS[i][j].FRT)) + ` </td>\n       </tr>\n \n       <tr>\n       <td colspan=\"11\"><hr class=\"pdfhr\"></td>\n@@ -193,13 +193,13 @@\n       </table>      \n       <div style=\"min-height:33%;\">\n         `;\n \n-          DET = getProductDetails(BLS[i].billDetails[j].CNO, BLS[i].billDetails[j].TYPE, BLS[i].billDetails[j].VNO);\n+          DET = getProductDetails(BLS[i][j].CNO, BLS[i][j].TYPE, BLS[i][j].VNO);\n           // DET = DETdata.filter(function (data) {\n           //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-          //     data.TYPE.toUpperCase() == BLS[i].billDetails[j].TYPE.toUpperCase() &&\n-          //     data.VNO.toUpperCase() == BLS[i].billDetails[j].VNO.toUpperCase();\n+          //     data.TYPE.toUpperCase() == BLS[i][j].TYPE.toUpperCase() &&\n+          //     data.VNO.toUpperCase() == BLS[i][j].VNO.toUpperCase();\n           // })\n           // console.log(DET);\n           if (DET.length > 0) {\n             div += `\n@@ -267,96 +267,96 @@\n       </tr>\n \n       <tr style=\"width:100%;\"class=\"upperCase\">\n       <td>DUE DAYS : </td>\n-      <td>TOTAL `+ BLS[i].billDetails[j].PCS + `</td>\n-      <td>`+ valuetoFixed(BLS[i].billDetails[j].MTS) + `</td>\n+      <td>TOTAL `+ BLS[i][j].PCS + `</td>\n+      <td>`+ valuetoFixed(BLS[i][j].MTS) + `</td>\n       <td></td>\n-      <td align=\"right\">`+ valuetoFixed(BLS[i].billDetails[j].GAMT) + `</td>\n+      <td align=\"right\">`+ valuetoFixed(BLS[i][j].GAMT) + `</td>\n       </tr>\n       </table>\n     <hr class=\"pdfhr\">\n     <table style=\"width:100%;font-size:12px;\">   \n      \n `;\n \n-          if (getValueNotDefineNo(BLS[i].billDetails[j].aia) != 0) {\n+          if (getValueNotDefineNo(BLS[i][j].aia) != 0) {\n             div += `\n           <tr>\n-           <td style=\"text-align:right;width:100%;\"colspan=\"3\">INSURANCE ADD : `+ valuetoFixed(BLS[i].billDetails[j].aia) + `</td>\n+           <td style=\"text-align:right;width:100%;\"colspan=\"3\">INSURANCE ADD : `+ valuetoFixed(BLS[i][j].aia) + `</td>\n           </tr>\n         `;\n           }\n-          if (getValueNotDefineNo(BLS[i].billDetails[j].AA1) != 0) {\n+          if (getValueNotDefineNo(BLS[i][j].AA1) != 0) {\n             div += `\n           <tr>\n-           <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL ADD : `+ valuetoFixed(BLS[i].billDetails[j].AA1) + `</td>\n+           <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL ADD : `+ valuetoFixed(BLS[i][j].AA1) + `</td>\n           </tr>\n         `;\n           }\n \n-          if (getValueNotDefineNo(BLS[i].billDetails[j].O_LS) != 0) {\n+          if (getValueNotDefineNo(BLS[i][j].O_LS) != 0) {\n             div += `\n           <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL LESS : `+ valuetoFixed(BLS[i].billDetails[j].O_LS) + `</td>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL LESS : `+ valuetoFixed(BLS[i][j].O_LS) + `</td>\n           </tr>\n         `;\n           }\n-          if (getValueNotDefineNo(BLS[i].billDetails[j].LA1RT) != 0) {\n+          if (getValueNotDefineNo(BLS[i][j].LA1RT) != 0) {\n             div += `\n           <tr>\n         <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].billDetails[j].LA1RMK) + ` \n-         `+ valuetoFixed(BLS[i].billDetails[j].GAMT) + ` X \n-         <strong>`+ BLS[i].billDetails[j].LA1RT + ` % </strong> \n-         `+ BLS[i].billDetails[j].LA1AMT + ` \n+         `+ getValueNotDefine(BLS[i][j].LA1RMK) + ` \n+         `+ valuetoFixed(BLS[i][j].GAMT) + ` X \n+         <strong>`+ BLS[i][j].LA1RT + ` % </strong> \n+         `+ BLS[i][j].LA1AMT + ` \n         </td>\n           </tr>\n         `;\n           }\n-          if (getValueNotDefineNo(BLS[i].billDetails[j].LA2RT) != 0) {\n+          if (getValueNotDefineNo(BLS[i][j].LA2RT) != 0) {\n             div += `\n           <tr>\n         <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].billDetails[j].LA2RMK) + ` \n-         `+ BLS[i].billDetails[j].LA2qty + ` X \n-         <strong>`+ BLS[i].billDetails[j].LA2RT + ` % </strong> \n-         `+ BLS[i].billDetails[j].LA2AMT + ` \n+         `+ getValueNotDefine(BLS[i][j].LA2RMK) + ` \n+         `+ BLS[i][j].LA2qty + ` X \n+         <strong>`+ BLS[i][j].LA2RT + ` % </strong> \n+         `+ BLS[i][j].LA2AMT + ` \n         </td>\n           </tr>\n         `;\n           }\n-          if (getValueNotDefineNo(BLS[i].billDetails[j].LA3RT) != 0) {\n+          if (getValueNotDefineNo(BLS[i][j].LA3RT) != 0) {\n             div += `\n           <tr>\n         <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].billDetails[j].LA3RMK) + ` \n-         `+ BLS[i].billDetails[j].LA3qty + ` X \n-         <strong>`+ BLS[i].billDetails[j].LA3RT + ` % </strong> \n-         `+ BLS[i].billDetails[j].LA3AMT + ` \n+         `+ getValueNotDefine(BLS[i][j].LA3RMK) + ` \n+         `+ BLS[i][j].LA3qty + ` X \n+         <strong>`+ BLS[i][j].LA3RT + ` % </strong> \n+         `+ BLS[i][j].LA3AMT + ` \n         </td>\n           </tr>\n         `;\n           }\n-          if (parseInt(BLS[i].billDetails[j].VTAMT) != 0) {\n+          if (parseInt(BLS[i][j].VTAMT) != 0) {\n             // console.log(partyStateCode, firmStateCode);\n             if (parseInt(partyStateCode) == parseInt(firmStateCode)) {\n-              if (BLS[i].billDetails[j].VTRT != null && parseInt(BLS[i].billDetails[j].VTRT) != 0) {\n+              if (BLS[i][j].VTRT != null && parseInt(BLS[i][j].VTRT) != 0) {\n                 div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\"colspan=\"3\">CGST @ `+ BLS[i].billDetails[j].VTRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].billDetails[j].GAMT) + ` = ` + valuetoFixed(BLS[i].billDetails[j].VTAMT) + `</td>\n+              <td style=\"text-align:right;width:100%;\"colspan=\"3\">CGST @ `+ BLS[i][j].VTRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i][j].GAMT) + ` = ` + valuetoFixed(BLS[i][j].VTAMT) + `</td>\n               </tr>\n               `;\n               }\n-              if (BLS[i].billDetails[j].ADVTRT != null && parseInt(BLS[i].billDetails[j].ADVTRT) != 0) {\n+              if (BLS[i][j].ADVTRT != null && parseInt(BLS[i][j].ADVTRT) != 0) {\n                 div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\" colspan=\"3\">SGST @ `+ BLS[i].billDetails[j].ADRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].billDetails[j].GAMT) + ` = ` + valuetoFixed(BLS[i].billDetails[j].ADAMT) + `</td>\n+              <td style=\"text-align:right;width:100%;\" colspan=\"3\">SGST @ `+ BLS[i][j].ADRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i][j].GAMT) + ` = ` + valuetoFixed(BLS[i][j].ADAMT) + `</td>\n               </tr>\n               `;\n               }\n             } else {\n-              if (BLS[i].billDetails[j].VTRT != null && parseInt(BLS[i].billDetails[j].VTRT) != 0) {\n+              if (BLS[i][j].VTRT != null && parseInt(BLS[i][j].VTRT) != 0) {\n                 div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\" colspan=\"3\">IGST @ `+ getValueNotDefine(BLS[i].billDetails[j].VTRT) + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].billDetails[j].GAMT) + ` =  ` + valuetoFixed(BLS[i].billDetails[j].VTAMT) + `</td>\n+              <td style=\"text-align:right;width:100%;\" colspan=\"3\">IGST @ `+ getValueNotDefine(BLS[i][j].VTRT) + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i][j].GAMT) + ` =  ` + valuetoFixed(BLS[i][j].VTAMT) + `</td>\n               </tr>\n               `;\n               }\n             }\n@@ -367,12 +367,12 @@\n       <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n       </tr>\n \n       <tr style=\"font-weight:bold;font-size:15px;\">    \n-      <td style=\"text-align:left;\">REMARK:  `+ getValueNotDefine(BLS[i].billDetails[j].RMK) + `</td>\n+      <td style=\"text-align:left;\">REMARK:  `+ getValueNotDefine(BLS[i][j].RMK) + `</td>\n       <td style=\"text-align:left;\"> </td>\n       <td align=\"right\">NET AMOUNT </td>\n-      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i].billDetails[j].BAMT) + `</td>\n+      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i][j].BAMT) + `</td>\n       </tr>\n       \n       \n       <tr>\n@@ -401,9 +401,9 @@\n       </tr>\n     </table>\n     </div>\n       `;\n-          BILL = getValueNotDefine(BLS[i].billDetails[j].BLL);\n+          BILL = getValueNotDefine(BLS[i][j].BLL);\n           var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n           document.title = \"BILL NO \" + BILL;\n         }\n       }\n"
                },
                {
                    "date": 1637291612132,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -33,9 +33,9 @@\n           partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n           COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n           COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n           var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-          // console.log(partyArray)\n+          console.log(partyArray)\n           partyStateCode = '';\n           var pcode = '';\n           var city = '';\n           var broker = '';\n"
                },
                {
                    "date": 1637291621398,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -33,9 +33,9 @@\n           partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n           COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n           COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n           var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-          console.log(partyArray)\n+          // console.log(partyArray)\n           partyStateCode = '';\n           var pcode = '';\n           var city = '';\n           var broker = '';\n"
                },
                {
                    "date": 1637291631747,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -13,91 +13,91 @@\n }\n ACTYPE = getUrlParams(url, \"ACTYPE\");\n function loadBillPdfCall() {\n \n-    // console.log(Data);\n+  // console.log(Data);\n \n \n-    // console.log(BLS);\n+  console.log(BLS);\n \n \n \n-    if (BLS.length > 0) {\n-      for (var i = 0; i < BLS.length; i++) {\n-        for (var j = 0; j < BLS[i].length; j++) {\n-          var BillName = 'TAX INVOICE';\n-          var SERIESArr = getSeriesDetailsBySendType(BLS[i][j].TYPE);\n-          if (BLS[i][j].DT != \"os\") {\n-            BillName = SERIESArr[0].SERIES;\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      for (var j = 0; j < BLS[i].length; j++) {\n+        var BillName = 'TAX INVOICE';\n+        var SERIESArr = getSeriesDetailsBySendType(BLS[i][j].TYPE);\n+        if (BLS[i][j].DT != \"os\") {\n+          BillName = SERIESArr[0].SERIES;\n+        }\n+        firmArray = getFirmDetailsBySendCode(BLS[i][j].CNO);\n+        partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+        COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+        COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+        var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+        // console.log(partyArray)\n+        partyStateCode = '';\n+        var pcode = '';\n+        var city = '';\n+        var broker = '';\n+        var label = '';\n+        var MO = '';\n+        var ATYPE = '';\n+        var AD1 = '';\n+        var AD2 = '';\n+        var GST = '';\n+        var ST = '';\n+        var dhara = '';\n+        var partyStateCode = '';\n+        var lbl = '';\n+        if (partyArray.length > 0) {\n+          pcode = getValueNotDefine(partyArray[0].partyname);\n+          city = getValueNotDefine(partyArray[0].city);\n+          broker = getValueNotDefine(partyArray[0].broker);\n+          label = getValueNotDefine(partyArray[0].label);\n+          MO = getValueNotDefine(partyArray[0].MO);\n+          ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+          AD1 = getValueNotDefine(partyArray[0].AD1);\n+          AD2 = getValueNotDefine(partyArray[0].AD2);\n+          GST = getValueNotDefine(partyArray[0].GST);\n+          GST = GST == null || GST == '' ? '' : GST;\n+          ST = getValueNotDefine(partyArray[0].ST);\n+          dhara = getValueNotDefineNo(partyArray[0].dhara);\n+          partyStateCode = (GST).substring(0, 2);\n+          lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+        }\n+        // console.table(firmArray)\n+        var CO_ADD1 = \"\";\n+        var CO_ADD2 = \"\";\n+        var CO_ADD3 = \"\";\n+        var CO_ADD4 = \"\";\n+        var CO_CITY = \"\";\n+        var CO_COMPANY_GSTIN = \"\";\n+        var CO_PANNO = \"\";\n+        var MainFirmName = getValueNotDefine(BLS[i][j].ccd);\n+\n+        if (ACTYPE != \"AGENCY\") {\n+          MainFirmName = firmArray[0].FIRM;\n+          CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+          CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+          CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+          CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+          CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+          CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+          CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+        } else {\n+          var SuppArray = getPartyDetailsBySendCode(BLS[i][j].ccd);\n+          if (SuppArray.length > 0) {\n+            CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+            CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+            CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+            CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+            CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n+            CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+            CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n           }\n-          firmArray = getFirmDetailsBySendCode(BLS[i][j].CNO);\n-          partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-          COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-          COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-          var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-          // console.log(partyArray)\n-          partyStateCode = '';\n-          var pcode = '';\n-          var city = '';\n-          var broker = '';\n-          var label = '';\n-          var MO = '';\n-          var ATYPE = '';\n-          var AD1 = '';\n-          var AD2 = '';\n-          var GST = '';\n-          var ST = '';\n-          var dhara = '';\n-          var partyStateCode = '';\n-          var lbl = '';\n-          if (partyArray.length > 0) {\n-            pcode = getValueNotDefine(partyArray[0].partyname);\n-            city = getValueNotDefine(partyArray[0].city);\n-            broker = getValueNotDefine(partyArray[0].broker);\n-            label = getValueNotDefine(partyArray[0].label);\n-            MO = getValueNotDefine(partyArray[0].MO);\n-            ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-            AD1 = getValueNotDefine(partyArray[0].AD1);\n-            AD2 = getValueNotDefine(partyArray[0].AD2);\n-            GST = getValueNotDefine(partyArray[0].GST);\n-            GST = GST == null || GST == '' ? '' : GST;\n-            ST = getValueNotDefine(partyArray[0].ST);\n-            dhara = getValueNotDefineNo(partyArray[0].dhara);\n-            partyStateCode = (GST).substring(0, 2);\n-            lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-          }\n-          // console.table(firmArray)\n-          var CO_ADD1 = \"\";\n-          var CO_ADD2 = \"\";\n-          var CO_ADD3 = \"\";\n-          var CO_ADD4 = \"\";\n-          var CO_CITY = \"\";\n-          var CO_COMPANY_GSTIN = \"\";\n-          var CO_PANNO = \"\";\n-          var MainFirmName = getValueNotDefine(BLS[i][j].ccd);\n-         \n-          if (ACTYPE != \"AGENCY\") {\n-            MainFirmName = firmArray[0].FIRM;\n-            CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-            CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-            CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-            CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-            CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-            CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-            CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-          }else{\n-            var SuppArray = getPartyDetailsBySendCode(BLS[i][j].ccd);\n-            if (SuppArray.length > 0) {\n-              CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-              CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-              CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-              CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-              CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n-              CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-              CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n-            }\n-          }\n-          div += `\n+        }\n+        div += `\n         <div class=\"page\" style=\"min-height: auto;\">\n       <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n \n       <tr  class=\"upperCase\">\n@@ -193,17 +193,17 @@\n       </table>      \n       <div style=\"min-height:33%;\">\n         `;\n \n-          DET = getProductDetails(BLS[i][j].CNO, BLS[i][j].TYPE, BLS[i][j].VNO);\n-          // DET = DETdata.filter(function (data) {\n-          //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-          //     data.TYPE.toUpperCase() == BLS[i][j].TYPE.toUpperCase() &&\n-          //     data.VNO.toUpperCase() == BLS[i][j].VNO.toUpperCase();\n-          // })\n-          // console.log(DET);\n-          if (DET.length > 0) {\n-            div += `\n+        DET = getProductDetails(BLS[i][j].CNO, BLS[i][j].TYPE, BLS[i][j].VNO);\n+        // DET = DETdata.filter(function (data) {\n+        //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+        //     data.TYPE.toUpperCase() == BLS[i][j].TYPE.toUpperCase() &&\n+        //     data.VNO.toUpperCase() == BLS[i][j].VNO.toUpperCase();\n+        // })\n+        // console.log(DET);\n+        if (DET.length > 0) {\n+          div += `\n           <table  class=\"table-responsive\" style=\"width:100%;font-size:12px;\">\n           <tr style=\"font-weight:bold;\" class=\"upperCase\">\n           <td>SR</td>\n           <td class=\"hideSUPPLIER\">SUPPLIER</td>\n@@ -221,24 +221,24 @@\n     \n           <tr>\n           <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n           </tr>`;\n-            var sr = 0;\n-            var billDet = DET[0].billDetails;\n-            billDet = billDet.sort(function (a, b) {\n-              return parseInt(a.SR) - parseInt(b.SR);\n-            })\n-            for (var k = 0; k < billDet.length; k++) {\n-              ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-              var ccdpcode = \"\";\n-              if (ccode.length > 0) {\n-                ccdpcode = getValueNotDefine(ccode[0].partyname);\n-              }\n-              var RATE = parseFloat(billDet[k].RATE);\n-              var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-              var finalRate = RATE + (DHARA * RATE / 100);\n-              sr += 1;\n-              div += `<tr class=\"upperCase\">\n+          var sr = 0;\n+          var billDet = DET[0].billDetails;\n+          billDet = billDet.sort(function (a, b) {\n+            return parseInt(a.SR) - parseInt(b.SR);\n+          })\n+          for (var k = 0; k < billDet.length; k++) {\n+            ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+            var ccdpcode = \"\";\n+            if (ccode.length > 0) {\n+              ccdpcode = getValueNotDefine(ccode[0].partyname);\n+            }\n+            var RATE = parseFloat(billDet[k].RATE);\n+            var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+            var finalRate = RATE + (DHARA * RATE / 100);\n+            sr += 1;\n+            div += `<tr class=\"upperCase\">\n               <td>`+ sr + `</td>\n               <td class=\"hideSUPPLIER\">`+ ccdpcode + `</td>\n               <td class=\"hideQUALITY\">`+ billDet[k].qual + `</td>\n               <td class=\"hideHSN\">`+ getValueNotDefine(billDet[k].hsn) + `</td>\n@@ -250,13 +250,13 @@\n               <td class=\"hideRATE\">`+ finalRate + `</td>\n               <td class=\"hidePER\">`+ getValueNotDefine(billDet[k].UNIT) + `</td>\n               <td align=\"right\">`+ valuetoFixed(billDet[k].AMT) + `</td>\n               </tr>`;\n-            }\n-            div += ` </table>\n+          }\n+          div += ` </table>\n           `;\n-          }\n-          div += ` \n+        }\n+        div += ` \n         </div>    \n       <table style=\"width:100%;\">\n       \n       <tr style=\"width:100%;\"class=\"upperCase bold\">\n@@ -278,32 +278,32 @@\n     <table style=\"width:100%;font-size:12px;\">   \n      \n `;\n \n-          if (getValueNotDefineNo(BLS[i][j].aia) != 0) {\n-            div += `\n+        if (getValueNotDefineNo(BLS[i][j].aia) != 0) {\n+          div += `\n           <tr>\n            <td style=\"text-align:right;width:100%;\"colspan=\"3\">INSURANCE ADD : `+ valuetoFixed(BLS[i][j].aia) + `</td>\n           </tr>\n         `;\n-          }\n-          if (getValueNotDefineNo(BLS[i][j].AA1) != 0) {\n-            div += `\n+        }\n+        if (getValueNotDefineNo(BLS[i][j].AA1) != 0) {\n+          div += `\n           <tr>\n            <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL ADD : `+ valuetoFixed(BLS[i][j].AA1) + `</td>\n           </tr>\n         `;\n-          }\n+        }\n \n-          if (getValueNotDefineNo(BLS[i][j].O_LS) != 0) {\n-            div += `\n+        if (getValueNotDefineNo(BLS[i][j].O_LS) != 0) {\n+          div += `\n           <tr>\n         <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL LESS : `+ valuetoFixed(BLS[i][j].O_LS) + `</td>\n           </tr>\n         `;\n-          }\n-          if (getValueNotDefineNo(BLS[i][j].LA1RT) != 0) {\n-            div += `\n+        }\n+        if (getValueNotDefineNo(BLS[i][j].LA1RT) != 0) {\n+          div += `\n           <tr>\n         <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n          `+ getValueNotDefine(BLS[i][j].LA1RMK) + ` \n          `+ valuetoFixed(BLS[i][j].GAMT) + ` X \n@@ -311,11 +311,11 @@\n          `+ BLS[i][j].LA1AMT + ` \n         </td>\n           </tr>\n         `;\n-          }\n-          if (getValueNotDefineNo(BLS[i][j].LA2RT) != 0) {\n-            div += `\n+        }\n+        if (getValueNotDefineNo(BLS[i][j].LA2RT) != 0) {\n+          div += `\n           <tr>\n         <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n          `+ getValueNotDefine(BLS[i][j].LA2RMK) + ` \n          `+ BLS[i][j].LA2qty + ` X \n@@ -323,11 +323,11 @@\n          `+ BLS[i][j].LA2AMT + ` \n         </td>\n           </tr>\n         `;\n-          }\n-          if (getValueNotDefineNo(BLS[i][j].LA3RT) != 0) {\n-            div += `\n+        }\n+        if (getValueNotDefineNo(BLS[i][j].LA3RT) != 0) {\n+          div += `\n           <tr>\n         <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n          `+ getValueNotDefine(BLS[i][j].LA3RMK) + ` \n          `+ BLS[i][j].LA3qty + ` X \n@@ -335,35 +335,35 @@\n          `+ BLS[i][j].LA3AMT + ` \n         </td>\n           </tr>\n         `;\n-          }\n-          if (parseInt(BLS[i][j].VTAMT) != 0) {\n-            // console.log(partyStateCode, firmStateCode);\n-            if (parseInt(partyStateCode) == parseInt(firmStateCode)) {\n-              if (BLS[i][j].VTRT != null && parseInt(BLS[i][j].VTRT) != 0) {\n-                div += `<tr>    \n+        }\n+        if (parseInt(BLS[i][j].VTAMT) != 0) {\n+          // console.log(partyStateCode, firmStateCode);\n+          if (parseInt(partyStateCode) == parseInt(firmStateCode)) {\n+            if (BLS[i][j].VTRT != null && parseInt(BLS[i][j].VTRT) != 0) {\n+              div += `<tr>    \n               <td style=\"text-align:right;width:100%;\"colspan=\"3\">CGST @ `+ BLS[i][j].VTRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i][j].GAMT) + ` = ` + valuetoFixed(BLS[i][j].VTAMT) + `</td>\n               </tr>\n               `;\n-              }\n-              if (BLS[i][j].ADVTRT != null && parseInt(BLS[i][j].ADVTRT) != 0) {\n-                div += `<tr>    \n+            }\n+            if (BLS[i][j].ADVTRT != null && parseInt(BLS[i][j].ADVTRT) != 0) {\n+              div += `<tr>    \n               <td style=\"text-align:right;width:100%;\" colspan=\"3\">SGST @ `+ BLS[i][j].ADRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i][j].GAMT) + ` = ` + valuetoFixed(BLS[i][j].ADAMT) + `</td>\n               </tr>\n               `;\n-              }\n-            } else {\n-              if (BLS[i][j].VTRT != null && parseInt(BLS[i][j].VTRT) != 0) {\n-                div += `<tr>    \n+            }\n+          } else {\n+            if (BLS[i][j].VTRT != null && parseInt(BLS[i][j].VTRT) != 0) {\n+              div += `<tr>    \n               <td style=\"text-align:right;width:100%;\" colspan=\"3\">IGST @ `+ getValueNotDefine(BLS[i][j].VTRT) + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i][j].GAMT) + ` =  ` + valuetoFixed(BLS[i][j].VTAMT) + `</td>\n               </tr>\n               `;\n-              }\n             }\n           }\n+        }\n \n-          div += `\n+        div += `\n       <tr>\n       <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n       </tr>\n \n@@ -401,23 +401,23 @@\n       </tr>\n     </table>\n     </div>\n       `;\n-          BILL = getValueNotDefine(BLS[i][j].BLL);\n-          var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-          document.title = \"BILL NO \" + BILL;\n-        }\n+        BILL = getValueNotDefine(BLS[i][j].BLL);\n+        var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+        document.title = \"BILL NO \" + BILL;\n       }\n+    }\n \n-      div += ``;\n-      // document.body.innerHTML = div;\n-      $(\"#loader\").removeClass('has-loader');\n-      $(\"body\").append(div)\n-      hideList();\n-    } else {\n-      document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-      $(\"#loader\").removeClass('has-loader');\n-    }\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n   try {\n \n   } catch (error) {\n     noteError(error);\n"
                },
                {
                    "date": 1637291719088,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -411,9 +411,9 @@\n     div += ``;\n     // document.body.innerHTML = div;\n     $(\"#loader\").removeClass('has-loader');\n     $(\"body\").append(div)\n-    hideList();\n+    // hideList();\n   } else {\n     document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n     $(\"#loader\").removeClass('has-loader');\n   }\n"
                },
                {
                    "date": 1637291766069,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,9 +22,9 @@\n \n \n   if (BLS.length > 0) {\n     for (var i = 0; i < BLS.length; i++) {\n-      for (var j = 0; j < BLS[i].length; j++) {\n+      for (var j = 0; j < BLS.length; j++) {\n         var BillName = 'TAX INVOICE';\n         var SERIESArr = getSeriesDetailsBySendType(BLS[i][j].TYPE);\n         if (BLS[i][j].DT != \"os\") {\n           BillName = SERIESArr[0].SERIES;\n@@ -193,13 +193,13 @@\n       </table>      \n       <div style=\"min-height:33%;\">\n         `;\n \n-        DET = getProductDetails(BLS[i][j].CNO, BLS[i][j].TYPE, BLS[i][j].VNO);\n+        DET = getProductDetails(BLS[i][j].CNO, BLS[j].TYPE, BLS[j].VNO);\n         // DET = DETdata.filter(function (data) {\n         //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-        //     data.TYPE.toUpperCase() == BLS[i][j].TYPE.toUpperCase() &&\n-        //     data.VNO.toUpperCase() == BLS[i][j].VNO.toUpperCase();\n+        //     data.TYPE.toUpperCase() == BLS[j].TYPE.toUpperCase() &&\n+        //     data.VNO.toUpperCase() == BLS[j].VNO.toUpperCase();\n         // })\n         // console.log(DET);\n         if (DET.length > 0) {\n           div += `\n@@ -267,9 +267,9 @@\n       </tr>\n \n       <tr style=\"width:100%;\"class=\"upperCase\">\n       <td>DUE DAYS : </td>\n-      <td>TOTAL `+ BLS[i][j].PCS + `</td>\n+      <td>TOTAL `+ BLS[j].PCS + `</td>\n       <td>`+ valuetoFixed(BLS[i][j].MTS) + `</td>\n       <td></td>\n       <td align=\"right\">`+ valuetoFixed(BLS[i][j].GAMT) + `</td>\n       </tr>\n@@ -306,10 +306,10 @@\n           <tr>\n         <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n          `+ getValueNotDefine(BLS[i][j].LA1RMK) + ` \n          `+ valuetoFixed(BLS[i][j].GAMT) + ` X \n-         <strong>`+ BLS[i][j].LA1RT + ` % </strong> \n-         `+ BLS[i][j].LA1AMT + ` \n+         <strong>`+ BLS[j].LA1RT + ` % </strong> \n+         `+ BLS[j].LA1AMT + ` \n         </td>\n           </tr>\n         `;\n         }\n@@ -317,11 +317,11 @@\n           div += `\n           <tr>\n         <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n          `+ getValueNotDefine(BLS[i][j].LA2RMK) + ` \n-         `+ BLS[i][j].LA2qty + ` X \n-         <strong>`+ BLS[i][j].LA2RT + ` % </strong> \n-         `+ BLS[i][j].LA2AMT + ` \n+         `+ BLS[j].LA2qty + ` X \n+         <strong>`+ BLS[j].LA2RT + ` % </strong> \n+         `+ BLS[j].LA2AMT + ` \n         </td>\n           </tr>\n         `;\n         }\n@@ -329,11 +329,11 @@\n           div += `\n           <tr>\n         <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n          `+ getValueNotDefine(BLS[i][j].LA3RMK) + ` \n-         `+ BLS[i][j].LA3qty + ` X \n-         <strong>`+ BLS[i][j].LA3RT + ` % </strong> \n-         `+ BLS[i][j].LA3AMT + ` \n+         `+ BLS[j].LA3qty + ` X \n+         <strong>`+ BLS[j].LA3RT + ` % </strong> \n+         `+ BLS[j].LA3AMT + ` \n         </td>\n           </tr>\n         `;\n         }\n@@ -341,15 +341,15 @@\n           // console.log(partyStateCode, firmStateCode);\n           if (parseInt(partyStateCode) == parseInt(firmStateCode)) {\n             if (BLS[i][j].VTRT != null && parseInt(BLS[i][j].VTRT) != 0) {\n               div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\"colspan=\"3\">CGST @ `+ BLS[i][j].VTRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i][j].GAMT) + ` = ` + valuetoFixed(BLS[i][j].VTAMT) + `</td>\n+              <td style=\"text-align:right;width:100%;\"colspan=\"3\">CGST @ `+ BLS[j].VTRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i][j].GAMT) + ` = ` + valuetoFixed(BLS[i][j].VTAMT) + `</td>\n               </tr>\n               `;\n             }\n             if (BLS[i][j].ADVTRT != null && parseInt(BLS[i][j].ADVTRT) != 0) {\n               div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\" colspan=\"3\">SGST @ `+ BLS[i][j].ADRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i][j].GAMT) + ` = ` + valuetoFixed(BLS[i][j].ADAMT) + `</td>\n+              <td style=\"text-align:right;width:100%;\" colspan=\"3\">SGST @ `+ BLS[j].ADRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i][j].GAMT) + ` = ` + valuetoFixed(BLS[i][j].ADAMT) + `</td>\n               </tr>\n               `;\n             }\n           } else {\n"
                },
                {
                    "date": 1637291817773,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,15 +22,15 @@\n \n \n   if (BLS.length > 0) {\n     for (var i = 0; i < BLS.length; i++) {\n-      for (var j = 0; j < BLS.length; j++) {\n+      for (var j = 0; j < BLS[i].length; j++) {\n         var BillName = 'TAX INVOICE';\n-        var SERIESArr = getSeriesDetailsBySendType(BLS[i][j].TYPE);\n-        if (BLS[i][j].DT != \"os\") {\n+        var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+        if (BLS[i].DT != \"os\") {\n           BillName = SERIESArr[0].SERIES;\n         }\n-        firmArray = getFirmDetailsBySendCode(BLS[i][j].CNO);\n+        firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n         partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n         COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n         COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n         var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n@@ -72,9 +72,9 @@\n         var CO_ADD4 = \"\";\n         var CO_CITY = \"\";\n         var CO_COMPANY_GSTIN = \"\";\n         var CO_PANNO = \"\";\n-        var MainFirmName = getValueNotDefine(BLS[i][j].ccd);\n+        var MainFirmName = getValueNotDefine(BLS[i].ccd);\n \n         if (ACTYPE != \"AGENCY\") {\n           MainFirmName = firmArray[0].FIRM;\n           CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n@@ -84,9 +84,9 @@\n           CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n           CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n           CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n         } else {\n-          var SuppArray = getPartyDetailsBySendCode(BLS[i][j].ccd);\n+          var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n           if (SuppArray.length > 0) {\n             CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n             CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n             CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n@@ -139,53 +139,53 @@\n       </tr>\n       \n       <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n       <td style=\"text-align:left;\"colspan=\"2\">M/S `+ pcode + `</td>\n-      <td style=\"text-align:left;\"> BILL NO: `+ (BLS[i][j].BLL) + `</td>\n+      <td style=\"text-align:left;\"> BILL NO: `+ (BLS[i].BLL) + `</td>\n       </tr>\n       \n       <tr  class=\"upperCase\">\n       <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\"> DATE : `+ formatDate(BLS[i][j].DTE) + ` </td>\n+      <td style=\"text-align:left;\"> DATE : `+ formatDate(BLS[i].DTE) + ` </td>\n       </tr>\n \n       <tr  class=\"upperCase\">\n       <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` </td>\n-      <td style=\"text-align:left;\"> PARTY NO :  `+ getValueNotDefine(BLS[i][j].PS) + ` </td>\n+      <td style=\"text-align:left;\"> PARTY NO :  `+ getValueNotDefine(BLS[i].PS) + ` </td>\n       </tr>\n       \n       <tr  class=\"upperCase\">\n       <td style=\"text-align:left;\"colspan=\"2\"> `+ city + ` </td>\n-      <td style=\"text-align:left;\"> STATE : `+ getValueNotDefine(BLS[i][j].STC) + ` </td>\n+      <td style=\"text-align:left;\"> STATE : `+ getValueNotDefine(BLS[i].STC) + ` </td>\n       </tr>\n       \n       <tr  class=\"upperCase\">\n       <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\">HSN/SAC: `+ getValueNotDefine(BLS[i][j].HSN) + ` </td>\n+      <td style=\"text-align:left;\">HSN/SAC: `+ getValueNotDefine(BLS[i].HSN) + ` </td>\n       </tr>\n       \n       <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> E-WAY BILL NO: `+ getValueNotDefine(BLS[i][j].EWB) + ` </td>\n-      <td style=\"text-align:left;\">case no: `+ getValueNotDefine(BLS[i][j].CSNO) + ` </td>\n+      <td style=\"text-align:left;\"colspan=\"2\"> E-WAY BILL NO: `+ getValueNotDefine(BLS[i].EWB) + ` </td>\n+      <td style=\"text-align:left;\">case no: `+ getValueNotDefine(BLS[i].CSNO) + ` </td>\n       </tr>\n \n       <tr>\n       <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n       </tr>\n       \n       <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">L.R.NO :  `+ getValueNotDefine(BLS[i][j].RNO) + ` * ` + getValueNotDefine(BLS[i][j].PRL) + `</td>\n-      <td style=\"text-align:left;\">L. R. DATE : `+ formatDate(BLS[i][j].RDT) + ` </td>\n+      <td style=\"text-align:left;\"colspan=\"2\">L.R.NO :  `+ getValueNotDefine(BLS[i].RNO) + ` * ` + getValueNotDefine(BLS[i].PRL) + `</td>\n+      <td style=\"text-align:left;\">L. R. DATE : `+ formatDate(BLS[i].RDT) + ` </td>\n       </tr>\n \n       <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">TRANSPORT  `+ getValueNotDefine(BLS[i][j].TRN) + `</td>\n-      <td style=\"text-align:left;\">STATION `+ getValueNotDefine(BLS[i][j].PLC) + ` </td>\n+      <td style=\"text-align:left;\"colspan=\"2\">TRANSPORT  `+ getValueNotDefine(BLS[i].TRN) + `</td>\n+      <td style=\"text-align:left;\">STATION `+ getValueNotDefine(BLS[i].PLC) + ` </td>\n       </tr>\n \n       <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">WEIGHT : `+ valuetoFixed(getValueNotDefine(BLS[i][j].WGT)) + `</td>\n-      <td style=\"text-align:left;\">FREIGHT: `+ valuetoFixed(getValueNotDefine(BLS[i][j].FRT)) + ` </td>\n+      <td style=\"text-align:left;\"colspan=\"2\">WEIGHT : `+ valuetoFixed(getValueNotDefine(BLS[i].WGT)) + `</td>\n+      <td style=\"text-align:left;\">FREIGHT: `+ valuetoFixed(getValueNotDefine(BLS[i].FRT)) + ` </td>\n       </tr>\n \n       <tr>\n       <td colspan=\"11\"><hr class=\"pdfhr\"></td>\n@@ -193,13 +193,13 @@\n       </table>      \n       <div style=\"min-height:33%;\">\n         `;\n \n-        DET = getProductDetails(BLS[i][j].CNO, BLS[j].TYPE, BLS[j].VNO);\n+        DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n         // DET = DETdata.filter(function (data) {\n         //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-        //     data.TYPE.toUpperCase() == BLS[j].TYPE.toUpperCase() &&\n-        //     data.VNO.toUpperCase() == BLS[j].VNO.toUpperCase();\n+        //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+        //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n         // })\n         // console.log(DET);\n         if (DET.length > 0) {\n           div += `\n@@ -267,96 +267,96 @@\n       </tr>\n \n       <tr style=\"width:100%;\"class=\"upperCase\">\n       <td>DUE DAYS : </td>\n-      <td>TOTAL `+ BLS[j].PCS + `</td>\n-      <td>`+ valuetoFixed(BLS[i][j].MTS) + `</td>\n+      <td>TOTAL `+ BLS[i].PCS + `</td>\n+      <td>`+ valuetoFixed(BLS[i].MTS) + `</td>\n       <td></td>\n-      <td align=\"right\">`+ valuetoFixed(BLS[i][j].GAMT) + `</td>\n+      <td align=\"right\">`+ valuetoFixed(BLS[i].GAMT) + `</td>\n       </tr>\n       </table>\n     <hr class=\"pdfhr\">\n     <table style=\"width:100%;font-size:12px;\">   \n      \n `;\n \n-        if (getValueNotDefineNo(BLS[i][j].aia) != 0) {\n+        if (getValueNotDefineNo(BLS[i].aia) != 0) {\n           div += `\n           <tr>\n-           <td style=\"text-align:right;width:100%;\"colspan=\"3\">INSURANCE ADD : `+ valuetoFixed(BLS[i][j].aia) + `</td>\n+           <td style=\"text-align:right;width:100%;\"colspan=\"3\">INSURANCE ADD : `+ valuetoFixed(BLS[i].aia) + `</td>\n           </tr>\n         `;\n         }\n-        if (getValueNotDefineNo(BLS[i][j].AA1) != 0) {\n+        if (getValueNotDefineNo(BLS[i].AA1) != 0) {\n           div += `\n           <tr>\n-           <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL ADD : `+ valuetoFixed(BLS[i][j].AA1) + `</td>\n+           <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL ADD : `+ valuetoFixed(BLS[i].AA1) + `</td>\n           </tr>\n         `;\n         }\n \n-        if (getValueNotDefineNo(BLS[i][j].O_LS) != 0) {\n+        if (getValueNotDefineNo(BLS[i].O_LS) != 0) {\n           div += `\n           <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL LESS : `+ valuetoFixed(BLS[i][j].O_LS) + `</td>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL LESS : `+ valuetoFixed(BLS[i].O_LS) + `</td>\n           </tr>\n         `;\n         }\n-        if (getValueNotDefineNo(BLS[i][j].LA1RT) != 0) {\n+        if (getValueNotDefineNo(BLS[i].LA1RT) != 0) {\n           div += `\n           <tr>\n         <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i][j].LA1RMK) + ` \n-         `+ valuetoFixed(BLS[i][j].GAMT) + ` X \n-         <strong>`+ BLS[j].LA1RT + ` % </strong> \n-         `+ BLS[j].LA1AMT + ` \n+         `+ getValueNotDefine(BLS[i].LA1RMK) + ` \n+         `+ valuetoFixed(BLS[i].GAMT) + ` X \n+         <strong>`+ BLS[i].LA1RT + ` % </strong> \n+         `+ BLS[i].LA1AMT + ` \n         </td>\n           </tr>\n         `;\n         }\n-        if (getValueNotDefineNo(BLS[i][j].LA2RT) != 0) {\n+        if (getValueNotDefineNo(BLS[i].LA2RT) != 0) {\n           div += `\n           <tr>\n         <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i][j].LA2RMK) + ` \n-         `+ BLS[j].LA2qty + ` X \n-         <strong>`+ BLS[j].LA2RT + ` % </strong> \n-         `+ BLS[j].LA2AMT + ` \n+         `+ getValueNotDefine(BLS[i].LA2RMK) + ` \n+         `+ BLS[i].LA2qty + ` X \n+         <strong>`+ BLS[i].LA2RT + ` % </strong> \n+         `+ BLS[i].LA2AMT + ` \n         </td>\n           </tr>\n         `;\n         }\n-        if (getValueNotDefineNo(BLS[i][j].LA3RT) != 0) {\n+        if (getValueNotDefineNo(BLS[i].LA3RT) != 0) {\n           div += `\n           <tr>\n         <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i][j].LA3RMK) + ` \n-         `+ BLS[j].LA3qty + ` X \n-         <strong>`+ BLS[j].LA3RT + ` % </strong> \n-         `+ BLS[j].LA3AMT + ` \n+         `+ getValueNotDefine(BLS[i].LA3RMK) + ` \n+         `+ BLS[i].LA3qty + ` X \n+         <strong>`+ BLS[i].LA3RT + ` % </strong> \n+         `+ BLS[i].LA3AMT + ` \n         </td>\n           </tr>\n         `;\n         }\n-        if (parseInt(BLS[i][j].VTAMT) != 0) {\n+        if (parseInt(BLS[i].VTAMT) != 0) {\n           // console.log(partyStateCode, firmStateCode);\n           if (parseInt(partyStateCode) == parseInt(firmStateCode)) {\n-            if (BLS[i][j].VTRT != null && parseInt(BLS[i][j].VTRT) != 0) {\n+            if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n               div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\"colspan=\"3\">CGST @ `+ BLS[j].VTRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i][j].GAMT) + ` = ` + valuetoFixed(BLS[i][j].VTAMT) + `</td>\n+              <td style=\"text-align:right;width:100%;\"colspan=\"3\">CGST @ `+ BLS[i].VTRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n               </tr>\n               `;\n             }\n-            if (BLS[i][j].ADVTRT != null && parseInt(BLS[i][j].ADVTRT) != 0) {\n+            if (BLS[i].ADVTRT != null && parseInt(BLS[i].ADVTRT) != 0) {\n               div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\" colspan=\"3\">SGST @ `+ BLS[j].ADRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i][j].GAMT) + ` = ` + valuetoFixed(BLS[i][j].ADAMT) + `</td>\n+              <td style=\"text-align:right;width:100%;\" colspan=\"3\">SGST @ `+ BLS[i].ADRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].ADAMT) + `</td>\n               </tr>\n               `;\n             }\n           } else {\n-            if (BLS[i][j].VTRT != null && parseInt(BLS[i][j].VTRT) != 0) {\n+            if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n               div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\" colspan=\"3\">IGST @ `+ getValueNotDefine(BLS[i][j].VTRT) + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i][j].GAMT) + ` =  ` + valuetoFixed(BLS[i][j].VTAMT) + `</td>\n+              <td style=\"text-align:right;width:100%;\" colspan=\"3\">IGST @ `+ getValueNotDefine(BLS[i].VTRT) + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` =  ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n               </tr>\n               `;\n             }\n           }\n@@ -367,12 +367,12 @@\n       <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n       </tr>\n \n       <tr style=\"font-weight:bold;font-size:15px;\">    \n-      <td style=\"text-align:left;\">REMARK:  `+ getValueNotDefine(BLS[i][j].RMK) + `</td>\n+      <td style=\"text-align:left;\">REMARK:  `+ getValueNotDefine(BLS[i].RMK) + `</td>\n       <td style=\"text-align:left;\"> </td>\n       <td align=\"right\">NET AMOUNT </td>\n-      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i][j].BAMT) + `</td>\n+      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i].BAMT) + `</td>\n       </tr>\n       \n       \n       <tr>\n@@ -401,9 +401,9 @@\n       </tr>\n     </table>\n     </div>\n       `;\n-        BILL = getValueNotDefine(BLS[i][j].BLL);\n+        BILL = getValueNotDefine(BLS[i].BLL);\n         var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n         document.title = \"BILL NO \" + BILL;\n       }\n     }\n"
                },
                {
                    "date": 1637291829433,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,9 +22,8 @@\n \n \n   if (BLS.length > 0) {\n     for (var i = 0; i < BLS.length; i++) {\n-      for (var j = 0; j < BLS[i].length; j++) {\n         var BillName = 'TAX INVOICE';\n         var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n         if (BLS[i].DT != \"os\") {\n           BillName = SERIESArr[0].SERIES;\n@@ -404,9 +403,9 @@\n       `;\n         BILL = getValueNotDefine(BLS[i].BLL);\n         var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n         document.title = \"BILL NO \" + BILL;\n-      }\n+      \n     }\n \n     div += ``;\n     // document.body.innerHTML = div;\n"
                },
                {
                    "date": 1637291864164,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -192,9 +192,9 @@\n       </table>      \n       <div style=\"min-height:33%;\">\n         `;\n \n-        DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+        DET = [];//getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n         // DET = DETdata.filter(function (data) {\n         //   return data.CNO.toUpperCase() == .toUpperCase() &&\n         //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n         //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n"
                },
                {
                    "date": 1637291944672,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -103,9 +103,9 @@\n       <td style=\"text-align:center;\" colspan=\"3\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n       </tr>\n \n       <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">SUBJECT TO SURAT JURIDICTION ONLY</td>\n+      <td style=\"text-align:left;\"></td>\n       <td style=\"text-align:center;\"></td>\n       <td style=\"text-align:left;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n       </tr>\n     \n"
                },
                {
                    "date": 1637291981903,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -99,15 +99,12 @@\n         <div class=\"page\" style=\"min-height: auto;\">\n       <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n \n       <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;\" colspan=\"3\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n       <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n       <td style=\"text-align:left;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n       </tr>\n     \n       <tr  class=\"upperCase\">\n       <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n"
                },
                {
                    "date": 1637291989027,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -101,9 +101,9 @@\n \n       <tr  class=\"upperCase\">\n       <td style=\"text-align:left;\"></td>\n       <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:left;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n     \n       </tr>\n     \n       <tr  class=\"upperCase\">\n"
                },
                {
                    "date": 1637292024796,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -116,9 +116,9 @@\n       <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n       </tr>\n   \n       <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\">GSTIN : `+ CO_COMPANY_GSTIN + `</td>\n+      <td style=\"text-align:left;display:none;\" class=\"hideCoGST\">GSTIN : `+ CO_COMPANY_GSTIN + `</td>\n       <td style=\"text-align:center;\"></td>\n       <td style=\"text-align:right;\">PAN : `+ CO_PANNO + `</td>\n       </tr>\n \n"
                },
                {
                    "date": 1637292135543,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -116,9 +116,9 @@\n       <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n       </tr>\n   \n       <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;display:none;\" class=\"hideCoGST\">GSTIN : `+ CO_COMPANY_GSTIN + `</td>\n+      <td style=\"text-align:left;\"><p>GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n       <td style=\"text-align:center;\"></td>\n       <td style=\"text-align:right;\">PAN : `+ CO_PANNO + `</td>\n       </tr>\n \n"
                },
                {
                    "date": 1637292151366,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -116,9 +116,9 @@\n       <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n       </tr>\n   \n       <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p>GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n       <td style=\"text-align:center;\"></td>\n       <td style=\"text-align:right;\">PAN : `+ CO_PANNO + `</td>\n       </tr>\n \n"
                },
                {
                    "date": 1637292196197,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -117,15 +117,11 @@\n       </tr>\n   \n       <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n       <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\"></td>\n-      <td style=\"text-align:right;\">PAN : `+ CO_PANNO + `</td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n       </tr>\n-\n-      <tr class=\"upperCase\">\n-      <td style=\"text-align:center;\" colspan=\"3\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      </tr>\n       \n       <tr  class=\"upperCase\">\n       <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n       </tr>\n"
                },
                {
                    "date": 1637292237769,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,8 +27,9 @@\n         var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n         if (BLS[i].DT != \"os\") {\n           BillName = SERIESArr[0].SERIES;\n         }\n+        BillName=\"\";\n         firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n         partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n         COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n         COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n"
                },
                {
                    "date": 1637292264266,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -131,9 +131,9 @@\n       <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n       </tr>\n       \n       <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">M/S `+ pcode + `</td>\n+      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n       <td style=\"text-align:left;\"> BILL NO: `+ (BLS[i].BLL) + `</td>\n       </tr>\n       \n       <tr  class=\"upperCase\">\n"
                },
                {
                    "date": 1637292297912,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -137,9 +137,9 @@\n       </tr>\n       \n       <tr  class=\"upperCase\">\n       <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\"> DATE : `+ formatDate(BLS[i].DTE) + ` </td>\n+      <td style=\"text-align:left;\"> DATE : `+ formatDate(BLS[i].DATE) + ` </td>\n       </tr>\n \n       <tr  class=\"upperCase\">\n       <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` </td>\n"
                },
                {
                    "date": 1637292316418,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -95,8 +95,9 @@\n             CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n             CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n           }\n         }\n+        console.log(BLS[i].DATE)\n         div += `\n         <div class=\"page\" style=\"min-height: auto;\">\n       <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n \n"
                },
                {
                    "date": 1637292330121,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -95,9 +95,9 @@\n             CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n             CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n           }\n         }\n-        console.log(BLS[i].DATE)\n+        console.log(BLS[i].DT)\n         div += `\n         <div class=\"page\" style=\"min-height: auto;\">\n       <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n \n"
                },
                {
                    "date": 1637292342165,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -138,9 +138,9 @@\n       </tr>\n       \n       <tr  class=\"upperCase\">\n       <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\"> DATE : `+ formatDate(BLS[i].DATE) + ` </td>\n+      <td style=\"text-align:left;\"> DATE : `+ formatDate(BLS[i].DT) + ` </td>\n       </tr>\n \n       <tr  class=\"upperCase\">\n       <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` </td>\n"
                },
                {
                    "date": 1637292356636,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -133,14 +133,14 @@\n       </tr>\n       \n       <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n       <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n-      <td style=\"text-align:left;\"> BILL NO: `+ (BLS[i].BLL) + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  BILL NO: `+ (BLS[i].BLL) + `</td>\n       </tr>\n       \n       <tr  class=\"upperCase\">\n       <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\"> DATE : `+ formatDate(BLS[i].DT) + ` </td>\n+      <td style=\"text-align:left;\"></td>\n       </tr>\n \n       <tr  class=\"upperCase\">\n       <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` </td>\n"
                },
                {
                    "date": 1637292376491,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -133,14 +133,14 @@\n       </tr>\n       \n       <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n       <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  BILL NO: `+ (BLS[i].BLL) + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n       </tr>\n       \n       <tr  class=\"upperCase\">\n       <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n       </tr>\n \n       <tr  class=\"upperCase\">\n       <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` </td>\n"
                },
                {
                    "date": 1637292452347,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -143,24 +143,24 @@\n       </tr>\n \n       <tr  class=\"upperCase\">\n       <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` </td>\n-      <td style=\"text-align:left;\"> PARTY NO :  `+ getValueNotDefine(BLS[i].PS) + ` </td>\n+      <td style=\"text-align:left;\"></td>\n       </tr>\n       \n       <tr  class=\"upperCase\">\n       <td style=\"text-align:left;\"colspan=\"2\"> `+ city + ` </td>\n-      <td style=\"text-align:left;\"> STATE : `+ getValueNotDefine(BLS[i].STC) + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n       </tr>\n       \n       <tr  class=\"upperCase\">\n       <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\">HSN/SAC: `+ getValueNotDefine(BLS[i].HSN) + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n       </tr>\n       \n       <tr  class=\"upperCase\">\n       <td style=\"text-align:left;\"colspan=\"2\"> E-WAY BILL NO: `+ getValueNotDefine(BLS[i].EWB) + ` </td>\n-      <td style=\"text-align:left;\">case no: `+ getValueNotDefine(BLS[i].CSNO) + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n       </tr>\n \n       <tr>\n       <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n"
                },
                {
                    "date": 1637292461004,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -156,12 +156,8 @@\n       <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n       <td style=\"text-align:left;\"> </td>\n       </tr>\n       \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> E-WAY BILL NO: `+ getValueNotDefine(BLS[i].EWB) + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n \n       <tr>\n       <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n       </tr>\n"
                },
                {
                    "date": 1637292479977,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -142,14 +142,14 @@\n       <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n       </tr>\n \n       <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` </td>\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , `+ city + `  </td>\n       <td style=\"text-align:left;\"></td>\n       </tr>\n       \n       <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ city + ` </td>\n+      <td style=\"text-align:left;\"colspan=\"2\"> </td>\n       <td style=\"text-align:left;\"> </td>\n       </tr>\n       \n       <tr  class=\"upperCase\">\n"
                },
                {
                    "date": 1637292485888,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -147,13 +147,8 @@\n       <td style=\"text-align:left;\"></td>\n       </tr>\n       \n       <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n       <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n       <td style=\"text-align:left;\"> </td>\n       </tr>\n       \n"
                },
                {
                    "date": 1637292507730,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -156,23 +156,8 @@\n       <tr>\n       <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n       </tr>\n       \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">L.R.NO :  `+ getValueNotDefine(BLS[i].RNO) + ` * ` + getValueNotDefine(BLS[i].PRL) + `</td>\n-      <td style=\"text-align:left;\">L. R. DATE : `+ formatDate(BLS[i].RDT) + ` </td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">TRANSPORT  `+ getValueNotDefine(BLS[i].TRN) + `</td>\n-      <td style=\"text-align:left;\">STATION `+ getValueNotDefine(BLS[i].PLC) + ` </td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">WEIGHT : `+ valuetoFixed(getValueNotDefine(BLS[i].WGT)) + `</td>\n-      <td style=\"text-align:left;\">FREIGHT: `+ valuetoFixed(getValueNotDefine(BLS[i].FRT)) + ` </td>\n-      </tr>\n-\n       <tr>\n       <td colspan=\"11\"><hr class=\"pdfhr\"></td>\n       </tr>\n       </table>      \n"
                },
                {
                    "date": 1637292525136,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -156,11 +156,8 @@\n       <tr>\n       <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n       </tr>\n       \n-      <tr>\n-      <td colspan=\"11\"><hr class=\"pdfhr\"></td>\n-      </tr>\n       </table>      \n       <div style=\"min-height:33%;\">\n         `;\n \n"
                },
                {
                    "date": 1637292555633,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,8 +4,9 @@\n var DET;\n var DETdata;\n var div = '';\n function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n   return DETdata.filter(function (data) {\n     return data.CNO.toUpperCase() == CNO.toUpperCase() &&\n       data.TYPE.toUpperCase() == TYPE.toUpperCase() &&\n       data.VNO.toUpperCase() == VNO.toUpperCase();\n@@ -160,9 +161,9 @@\n       </table>      \n       <div style=\"min-height:33%;\">\n         `;\n \n-        DET = [];//getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+        DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n         // DET = DETdata.filter(function (data) {\n         //   return data.CNO.toUpperCase() == .toUpperCase() &&\n         //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n         //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n"
                },
                {
                    "date": 1637292598639,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,11 +6,9 @@\n var div = '';\n function getProductDetails(CNO, TYPE, VNO) {\n   console.log(DETdata)\n   return DETdata.filter(function (data) {\n-    return data.CNO.toUpperCase() == CNO.toUpperCase() &&\n-      data.TYPE.toUpperCase() == TYPE.toUpperCase() &&\n-      data.VNO.toUpperCase() == VNO.toUpperCase();\n+    return data.IDE.toUpperCase() == IDE.toUpperCase() ;\n   })\n }\n ACTYPE = getUrlParams(url, \"ACTYPE\");\n function loadBillPdfCall() {\n"
                },
                {
                    "date": 1637292622251,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,9 +4,9 @@\n var DET;\n var DETdata;\n var div = '';\n function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n+  // console.log(DETdata)\n   return DETdata.filter(function (data) {\n     return data.IDE.toUpperCase() == IDE.toUpperCase() ;\n   })\n }\n@@ -160,8 +160,9 @@\n       <div style=\"min-height:33%;\">\n         `;\n \n         DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+        console.log(DET)\n         // DET = DETdata.filter(function (data) {\n         //   return data.CNO.toUpperCase() == .toUpperCase() &&\n         //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n         //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n"
                },
                {
                    "date": 1637292636188,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,9 +4,9 @@\n var DET;\n var DETdata;\n var div = '';\n function getProductDetails(CNO, TYPE, VNO) {\n-  // console.log(DETdata)\n+  console.log(DETdata)\n   return DETdata.filter(function (data) {\n     return data.IDE.toUpperCase() == IDE.toUpperCase() ;\n   })\n }\n"
                },
                {
                    "date": 1637292678781,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,9 +6,9 @@\n var div = '';\n function getProductDetails(CNO, TYPE, VNO) {\n   console.log(DETdata)\n   return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase() ;\n+    return data.IDE.toUpperCase() == IDE ;\n   })\n }\n ACTYPE = getUrlParams(url, \"ACTYPE\");\n function loadBillPdfCall() {\n"
                },
                {
                    "date": 1637292958250,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,9 +6,11 @@\n var div = '';\n function getProductDetails(CNO, TYPE, VNO) {\n   console.log(DETdata)\n   return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE ;\n+    return data.CNO.toUpperCase() == CNO.toUpperCase() &&\n+      data.TYPE.toUpperCase() == TYPE.toUpperCase() &&\n+      data.VNO.toUpperCase() == VNO.toUpperCase();\n   })\n }\n ACTYPE = getUrlParams(url, \"ACTYPE\");\n function loadBillPdfCall() {\n@@ -160,9 +162,8 @@\n       <div style=\"min-height:33%;\">\n         `;\n \n         DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-        console.log(DET)\n         // DET = DETdata.filter(function (data) {\n         //   return data.CNO.toUpperCase() == .toUpperCase() &&\n         //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n         //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n"
                },
                {
                    "date": 1637293002240,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -167,9 +167,9 @@\n         //   return data.CNO.toUpperCase() == .toUpperCase() &&\n         //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n         //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n         // })\n-        // console.log(DET);\n+        console.log(DET);\n         if (DET.length > 0) {\n           div += `\n           <table  class=\"table-responsive\" style=\"width:100%;font-size:12px;\">\n           <tr style=\"font-weight:bold;\" class=\"upperCase\">\n"
                },
                {
                    "date": 1637293234489,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,11 +6,9 @@\n var div = '';\n function getProductDetails(CNO, TYPE, VNO) {\n   console.log(DETdata)\n   return DETdata.filter(function (data) {\n-    return data.CNO.toUpperCase() == CNO.toUpperCase() &&\n-      data.TYPE.toUpperCase() == TYPE.toUpperCase() &&\n-      data.VNO.toUpperCase() == VNO.toUpperCase();\n+    return data.IDE.toUpperCase() == IDE.toUpperCase() \n   })\n }\n ACTYPE = getUrlParams(url, \"ACTYPE\");\n function loadBillPdfCall() {\n"
                },
                {
                    "date": 1637293418688,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -171,21 +171,10 @@\n           div += `\n           <table  class=\"table-responsive\" style=\"width:100%;font-size:12px;\">\n           <tr style=\"font-weight:bold;\" class=\"upperCase\">\n           <td>SR</td>\n-          <td class=\"hideSUPPLIER\">SUPPLIER</td>\n-          <td class=\"hideQUALITY\">ITEM</td>\n-          <td class=\"hideHSN\">HSN</td>\n-          <td class=\"hidePCS\" align=\"center\">PCS</td>\n-          <td class=\"hideCUT\">CUT</td>\n-          <td class=\"hideMTS\">MTS</td>\n-          <td class=\"hideFOLD\">FOLD</td>\n-          <td class=\"hidePURCHASERATE\">P.RATE</td>\n-          <td class=\"hideRATE\">RATE</td>\n-          <td class=\"hidePER\">PER</td>\n-          <td align=\"right\">AMOUNT</td>\n-          </tr>\n-    \n+          <td>NET AMT</td>\n+          <td>ADJUSTED</td>    \n           <tr>\n           <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n           </tr>`;\n           var sr = 0;\n@@ -204,19 +193,10 @@\n             var finalRate = RATE + (DHARA * RATE / 100);\n             sr += 1;\n             div += `<tr class=\"upperCase\">\n               <td>`+ sr + `</td>\n-              <td class=\"hideSUPPLIER\">`+ ccdpcode + `</td>\n-              <td class=\"hideQUALITY\">`+ billDet[k].qual + `</td>\n-              <td class=\"hideHSN\">`+ getValueNotDefine(billDet[k].hsn) + `</td>\n-              <td class=\"hidePCS\" align=\"center\">`+ valuetoFixedNo(billDet[k].PCS) + `</td>\n-              <td class=\"hideCUT\">`+ billDet[k].CUT + `</td>\n-              <td class=\"hideMTS\">`+ valuetoFixed(billDet[k].MTS) + `</td>\n-              <td class=\"hideFOLD\">`+ valuetoFixed(getValueNotDefine(billDet[k].LF)) + `</td>\n-              <td class=\"hidePURCHASERATE\">`+ RATE + ifValNullGetBlank(DHARA, \"*\") + `</td>\n-              <td class=\"hideRATE\">`+ finalRate + `</td>\n-              <td class=\"hidePER\">`+ getValueNotDefine(billDet[k].UNIT) + `</td>\n-              <td align=\"right\">`+ valuetoFixed(billDet[k].AMT) + `</td>\n+              <td>`+ getValueNotDefine(billDet[k].hsn) + `</td>\n+              <td>`+ getValueNotDefine(billDet[k].hsn) + `</td>\n               </tr>`;\n           }\n           div += ` </table>\n           `;\n"
                },
                {
                    "date": 1637293430923,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -193,10 +193,10 @@\n             var finalRate = RATE + (DHARA * RATE / 100);\n             sr += 1;\n             div += `<tr class=\"upperCase\">\n               <td>`+ sr + `</td>\n-              <td>`+ getValueNotDefine(billDet[k].hsn) + `</td>\n-              <td>`+ getValueNotDefine(billDet[k].hsn) + `</td>\n+              <td>`+ getValueNotDefine(billDet[k].BA) + `</td>\n+              <td>`+ getValueNotDefine(billDet[k].AD) + `</td>\n               </tr>`;\n           }\n           div += ` </table>\n           `;\n"
                },
                {
                    "date": 1637293447104,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -168,9 +168,9 @@\n         // })\n         console.log(DET);\n         if (DET.length > 0) {\n           div += `\n-          <table  class=\"table-responsive\" style=\"width:100%;font-size:12px;\">\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n           <tr style=\"font-weight:bold;\" class=\"upperCase\">\n           <td>SR</td>\n           <td>NET AMT</td>\n           <td>ADJUSTED</td>    \n"
                },
                {
                    "date": 1637293461893,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -168,9 +168,9 @@\n         // })\n         console.log(DET);\n         if (DET.length > 0) {\n           div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <table  class=\"\" style=\"font-size:12px;\">\n           <tr style=\"font-weight:bold;\" class=\"upperCase\">\n           <td>SR</td>\n           <td>NET AMT</td>\n           <td>ADJUSTED</td>    \n"
                },
                {
                    "date": 1637293482976,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -170,9 +170,9 @@\n         if (DET.length > 0) {\n           div += `\n           <table  class=\"\" style=\"font-size:12px;\">\n           <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>SR</td>\n+          <td>BILL NO</td>\n           <td>NET AMT</td>\n           <td>ADJUSTED</td>    \n           <tr>\n           <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n"
                },
                {
                    "date": 1637293494834,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -192,10 +192,10 @@\n             var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n             var finalRate = RATE + (DHARA * RATE / 100);\n             sr += 1;\n             div += `<tr class=\"upperCase\">\n-              <td>`+ sr + `</td>\n               <td>`+ getValueNotDefine(billDet[k].BA) + `</td>\n+              <td>`+ getValueNotDefine(billDet[k].BA) + `</td>\n               <td>`+ getValueNotDefine(billDet[k].AD) + `</td>\n               </tr>`;\n           }\n           div += ` </table>\n"
                },
                {
                    "date": 1637293514135,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -192,10 +192,10 @@\n             var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n             var finalRate = RATE + (DHARA * RATE / 100);\n             sr += 1;\n             div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BV) + `</td>\n               <td>`+ getValueNotDefine(billDet[k].BA) + `</td>\n-              <td>`+ getValueNotDefine(billDet[k].BA) + `</td>\n               <td>`+ getValueNotDefine(billDet[k].AD) + `</td>\n               </tr>`;\n           }\n           div += ` </table>\n"
                },
                {
                    "date": 1637297795158,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -192,9 +192,9 @@\n             var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n             var finalRate = RATE + (DHARA * RATE / 100);\n             sr += 1;\n             div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BV) + `</td>\n+              <td>`+ getValueNotDefine(billDet[k].Bl) + `</td>\n               <td>`+ getValueNotDefine(billDet[k].BA) + `</td>\n               <td>`+ getValueNotDefine(billDet[k].AD) + `</td>\n               </tr>`;\n           }\n"
                },
                {
                    "date": 1637302644484,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,365 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase() \n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+        var BillName = 'TAX INVOICE';\n+        var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+        if (BLS[i].DT != \"os\") {\n+          BillName = SERIESArr[0].SERIES;\n+        }\n+        BillName=\"\";\n+        firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+        partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+        COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+        COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+        var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+        // console.log(partyArray)\n+        partyStateCode = '';\n+        var pcode = '';\n+        var city = '';\n+        var broker = '';\n+        var label = '';\n+        var MO = '';\n+        var ATYPE = '';\n+        var AD1 = '';\n+        var AD2 = '';\n+        var GST = '';\n+        var ST = '';\n+        var dhara = '';\n+        var partyStateCode = '';\n+        var lbl = '';\n+        if (partyArray.length > 0) {\n+          pcode = getValueNotDefine(partyArray[0].partyname);\n+          city = getValueNotDefine(partyArray[0].city);\n+          broker = getValueNotDefine(partyArray[0].broker);\n+          label = getValueNotDefine(partyArray[0].label);\n+          MO = getValueNotDefine(partyArray[0].MO);\n+          ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+          AD1 = getValueNotDefine(partyArray[0].AD1);\n+          AD2 = getValueNotDefine(partyArray[0].AD2);\n+          GST = getValueNotDefine(partyArray[0].GST);\n+          GST = GST == null || GST == '' ? '' : GST;\n+          ST = getValueNotDefine(partyArray[0].ST);\n+          dhara = getValueNotDefineNo(partyArray[0].dhara);\n+          partyStateCode = (GST).substring(0, 2);\n+          lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+        }\n+        // console.table(firmArray)\n+        var CO_ADD1 = \"\";\n+        var CO_ADD2 = \"\";\n+        var CO_ADD3 = \"\";\n+        var CO_ADD4 = \"\";\n+        var CO_CITY = \"\";\n+        var CO_COMPANY_GSTIN = \"\";\n+        var CO_PANNO = \"\";\n+        var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+        if (ACTYPE != \"AGENCY\") {\n+          MainFirmName = firmArray[0].FIRM;\n+          CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+          CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+          CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+          CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+          CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+          CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+          CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+        } else {\n+          var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+          if (SuppArray.length > 0) {\n+            CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+            CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+            CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+            CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+            CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n+            CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+            CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n+          }\n+        }\n+        console.log(BLS[i].DT)\n+        div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , `+ city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:33%;\">\n+        `;\n+\n+        DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+        // DET = DETdata.filter(function (data) {\n+        //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+        //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+        //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+        // })\n+        console.log(DET);\n+        if (DET.length > 0) {\n+          div += `\n+          <table  class=\"\" style=\"font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td>NET AMT</td>\n+          <td>ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+          var sr = 0;\n+          var billDet = DET[0].billDetails;\n+          billDet = billDet.sort(function (a, b) {\n+            return parseInt(a.SR) - parseInt(b.SR);\n+          })\n+          for (var k = 0; k < billDet.length; k++) {\n+            ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+            var ccdpcode = \"\";\n+            if (ccode.length > 0) {\n+              ccdpcode = getValueNotDefine(ccode[0].partyname);\n+            }\n+            var RATE = parseFloat(billDet[k].RATE);\n+            var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+            var finalRate = RATE + (DHARA * RATE / 100);\n+            sr += 1;\n+            div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td>`+ getValueNotDefine(billDet[k].BA) + `</td>\n+              <td>`+ getValueNotDefine(billDet[k].AD) + `</td>\n+              </tr>`;\n+          }\n+          div += ` </table>\n+          `;\n+        }\n+        div += ` \n+        </div>    \n+      <table style=\"width:100%;\">\n+      \n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+      <td>DUE DAYS : </td>\n+      <td>TOTAL `+ BLS[i].PCS + `</td>\n+      <td>`+ valuetoFixed(BLS[i].MTS) + `</td>\n+      <td></td>\n+      <td align=\"right\">`+ valuetoFixed(BLS[i].GAMT) + `</td>\n+      </tr>\n+      </table>\n+    <hr class=\"pdfhr\">\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+        if (getValueNotDefineNo(BLS[i].aia) != 0) {\n+          div += `\n+          <tr>\n+           <td style=\"text-align:right;width:100%;\"colspan=\"3\">INSURANCE ADD : `+ valuetoFixed(BLS[i].aia) + `</td>\n+          </tr>\n+        `;\n+        }\n+        if (getValueNotDefineNo(BLS[i].AA1) != 0) {\n+          div += `\n+          <tr>\n+           <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL ADD : `+ valuetoFixed(BLS[i].AA1) + `</td>\n+          </tr>\n+        `;\n+        }\n+\n+        if (getValueNotDefineNo(BLS[i].O_LS) != 0) {\n+          div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL LESS : `+ valuetoFixed(BLS[i].O_LS) + `</td>\n+          </tr>\n+        `;\n+        }\n+        if (getValueNotDefineNo(BLS[i].LA1RT) != 0) {\n+          div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n+         `+ getValueNotDefine(BLS[i].LA1RMK) + ` \n+         `+ valuetoFixed(BLS[i].GAMT) + ` X \n+         <strong>`+ BLS[i].LA1RT + ` % </strong> \n+         `+ BLS[i].LA1AMT + ` \n+        </td>\n+          </tr>\n+        `;\n+        }\n+        if (getValueNotDefineNo(BLS[i].LA2RT) != 0) {\n+          div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n+         `+ getValueNotDefine(BLS[i].LA2RMK) + ` \n+         `+ BLS[i].LA2qty + ` X \n+         <strong>`+ BLS[i].LA2RT + ` % </strong> \n+         `+ BLS[i].LA2AMT + ` \n+        </td>\n+          </tr>\n+        `;\n+        }\n+        if (getValueNotDefineNo(BLS[i].LA3RT) != 0) {\n+          div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n+         `+ getValueNotDefine(BLS[i].LA3RMK) + ` \n+         `+ BLS[i].LA3qty + ` X \n+         <strong>`+ BLS[i].LA3RT + ` % </strong> \n+         `+ BLS[i].LA3AMT + ` \n+        </td>\n+          </tr>\n+        `;\n+        }\n+        if (parseInt(BLS[i].VTAMT) != 0) {\n+          // console.log(partyStateCode, firmStateCode);\n+          if (parseInt(partyStateCode) == parseInt(firmStateCode)) {\n+            if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n+              div += `<tr>    \n+              <td style=\"text-align:right;width:100%;\"colspan=\"3\">CGST @ `+ BLS[i].VTRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n+              </tr>\n+              `;\n+            }\n+            if (BLS[i].ADVTRT != null && parseInt(BLS[i].ADVTRT) != 0) {\n+              div += `<tr>    \n+              <td style=\"text-align:right;width:100%;\" colspan=\"3\">SGST @ `+ BLS[i].ADRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].ADAMT) + `</td>\n+              </tr>\n+              `;\n+            }\n+          } else {\n+            if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n+              div += `<tr>    \n+              <td style=\"text-align:right;width:100%;\" colspan=\"3\">IGST @ `+ getValueNotDefine(BLS[i].VTRT) + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` =  ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n+              </tr>\n+              `;\n+            }\n+          }\n+        }\n+\n+        div += `\n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"font-weight:bold;font-size:15px;\">    \n+      <td style=\"text-align:left;\">REMARK:  `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      <td style=\"text-align:left;\"> </td>\n+      <td align=\"right\">NET AMOUNT </td>\n+      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      \n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"2\"></td>\n+      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+      \n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\">TERMS</td>\n+      </tr>\n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n+      </tr>\n+    </table>\n+    </div>\n+      `;\n+        BILL = getValueNotDefine(BLS[i].BLL);\n+        var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+        document.title = \"BILL NO \" + BILL;\n+      \n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637302787024,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,376 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase() \n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+        var BillName = 'TAX INVOICE';\n+        var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+        if (BLS[i].DT != \"os\") {\n+          BillName = SERIESArr[0].SERIES;\n+        }\n+        BillName=\"\";\n+        firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+        partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+        COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+        COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+        var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+        // console.log(partyArray)\n+        partyStateCode = '';\n+        var pcode = '';\n+        var city = '';\n+        var broker = '';\n+        var label = '';\n+        var MO = '';\n+        var ATYPE = '';\n+        var AD1 = '';\n+        var AD2 = '';\n+        var GST = '';\n+        var ST = '';\n+        var dhara = '';\n+        var partyStateCode = '';\n+        var lbl = '';\n+        if (partyArray.length > 0) {\n+          pcode = getValueNotDefine(partyArray[0].partyname);\n+          city = getValueNotDefine(partyArray[0].city);\n+          broker = getValueNotDefine(partyArray[0].broker);\n+          label = getValueNotDefine(partyArray[0].label);\n+          MO = getValueNotDefine(partyArray[0].MO);\n+          ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+          AD1 = getValueNotDefine(partyArray[0].AD1);\n+          AD2 = getValueNotDefine(partyArray[0].AD2);\n+          GST = getValueNotDefine(partyArray[0].GST);\n+          GST = GST == null || GST == '' ? '' : GST;\n+          ST = getValueNotDefine(partyArray[0].ST);\n+          dhara = getValueNotDefineNo(partyArray[0].dhara);\n+          partyStateCode = (GST).substring(0, 2);\n+          lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+        }\n+        // console.table(firmArray)\n+        var CO_ADD1 = \"\";\n+        var CO_ADD2 = \"\";\n+        var CO_ADD3 = \"\";\n+        var CO_ADD4 = \"\";\n+        var CO_CITY = \"\";\n+        var CO_COMPANY_GSTIN = \"\";\n+        var CO_PANNO = \"\";\n+        var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+        if (ACTYPE != \"AGENCY\") {\n+          MainFirmName = firmArray[0].FIRM;\n+          CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+          CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+          CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+          CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+          CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+          CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+          CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+        } else {\n+          var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+          if (SuppArray.length > 0) {\n+            CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+            CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+            CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+            CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+            CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n+            CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+            CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n+          }\n+        }\n+        console.log(BLS[i].DT)\n+        div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , `+ city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:33%;\">\n+        `;\n+\n+        DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+        // DET = DETdata.filter(function (data) {\n+        //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+        //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+        //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+        // })\n+        console.log(DET);\n+        if (DET.length > 0) {\n+          div += `\n+          <table  class=\"\" style=\"font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td>NET AMT</td>\n+          <td>ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+          var sr = 0;\n+          var billDet = DET[0].billDetails;\n+          billDet = billDet.sort(function (a, b) {\n+            return parseInt(a.SR) - parseInt(b.SR);\n+          })\n+          for (var k = 0; k < billDet.length; k++) {\n+            ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+            var ccdpcode = \"\";\n+            if (ccode.length > 0) {\n+              ccdpcode = getValueNotDefine(ccode[0].partyname);\n+            }\n+            var RATE = parseFloat(billDet[k].RATE);\n+            var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+            var finalRate = RATE + (DHARA * RATE / 100);\n+            sr += 1;\n+            div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td>`+ getValueNotDefine(billDet[k].BA) + `</td>\n+              <td>`+ getValueNotDefine(billDet[k].AD) + `</td>\n+              </tr>`;\n+          }\n+          div += ` </table>\n+          `;\n+        }\n+        div += ` \n+        </div>    \n+      <table style=\"width:100%;\">\n+      \n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table>\n+          <tr>\n+            <td></td>\n+            <td></td>\n+            <td></td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      <td>DUE DAYS : </td>\n+      <td>TOTAL `+ BLS[i].PCS + `</td>\n+      <td>`+ valuetoFixed(BLS[i].MTS) + `</td>\n+      <td></td>\n+      <td align=\"right\">`+ valuetoFixed(BLS[i].GAMT) + `</td>\n+      </tr>\n+      </table>\n+    <hr class=\"pdfhr\">\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+        if (getValueNotDefineNo(BLS[i].aia) != 0) {\n+          div += `\n+          <tr>\n+           <td style=\"text-align:right;width:100%;\"colspan=\"3\">INSURANCE ADD : `+ valuetoFixed(BLS[i].aia) + `</td>\n+          </tr>\n+        `;\n+        }\n+        if (getValueNotDefineNo(BLS[i].AA1) != 0) {\n+          div += `\n+          <tr>\n+           <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL ADD : `+ valuetoFixed(BLS[i].AA1) + `</td>\n+          </tr>\n+        `;\n+        }\n+\n+        if (getValueNotDefineNo(BLS[i].O_LS) != 0) {\n+          div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL LESS : `+ valuetoFixed(BLS[i].O_LS) + `</td>\n+          </tr>\n+        `;\n+        }\n+        if (getValueNotDefineNo(BLS[i].LA1RT) != 0) {\n+          div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n+         `+ getValueNotDefine(BLS[i].LA1RMK) + ` \n+         `+ valuetoFixed(BLS[i].GAMT) + ` X \n+         <strong>`+ BLS[i].LA1RT + ` % </strong> \n+         `+ BLS[i].LA1AMT + ` \n+        </td>\n+          </tr>\n+        `;\n+        }\n+        if (getValueNotDefineNo(BLS[i].LA2RT) != 0) {\n+          div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n+         `+ getValueNotDefine(BLS[i].LA2RMK) + ` \n+         `+ BLS[i].LA2qty + ` X \n+         <strong>`+ BLS[i].LA2RT + ` % </strong> \n+         `+ BLS[i].LA2AMT + ` \n+        </td>\n+          </tr>\n+        `;\n+        }\n+        if (getValueNotDefineNo(BLS[i].LA3RT) != 0) {\n+          div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n+         `+ getValueNotDefine(BLS[i].LA3RMK) + ` \n+         `+ BLS[i].LA3qty + ` X \n+         <strong>`+ BLS[i].LA3RT + ` % </strong> \n+         `+ BLS[i].LA3AMT + ` \n+        </td>\n+          </tr>\n+        `;\n+        }\n+        if (parseInt(BLS[i].VTAMT) != 0) {\n+          // console.log(partyStateCode, firmStateCode);\n+          if (parseInt(partyStateCode) == parseInt(firmStateCode)) {\n+            if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n+              div += `<tr>    \n+              <td style=\"text-align:right;width:100%;\"colspan=\"3\">CGST @ `+ BLS[i].VTRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n+              </tr>\n+              `;\n+            }\n+            if (BLS[i].ADVTRT != null && parseInt(BLS[i].ADVTRT) != 0) {\n+              div += `<tr>    \n+              <td style=\"text-align:right;width:100%;\" colspan=\"3\">SGST @ `+ BLS[i].ADRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].ADAMT) + `</td>\n+              </tr>\n+              `;\n+            }\n+          } else {\n+            if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n+              div += `<tr>    \n+              <td style=\"text-align:right;width:100%;\" colspan=\"3\">IGST @ `+ getValueNotDefine(BLS[i].VTRT) + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` =  ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n+              </tr>\n+              `;\n+            }\n+          }\n+        }\n+\n+        div += `\n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"font-weight:bold;font-size:15px;\">    \n+      <td style=\"text-align:left;\">REMARK:  `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      <td style=\"text-align:left;\"> </td>\n+      <td align=\"right\">NET AMOUNT </td>\n+      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      \n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"2\"></td>\n+      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+      \n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\">TERMS</td>\n+      </tr>\n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n+      </tr>\n+    </table>\n+    </div>\n+      `;\n+        BILL = getValueNotDefine(BLS[i].BLL);\n+        var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+        document.title = \"BILL NO \" + BILL;\n+      \n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637302810716,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,379 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase() \n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+        var BillName = 'TAX INVOICE';\n+        var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+        if (BLS[i].DT != \"os\") {\n+          BillName = SERIESArr[0].SERIES;\n+        }\n+        BillName=\"\";\n+        firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+        partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+        COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+        COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+        var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+        // console.log(partyArray)\n+        partyStateCode = '';\n+        var pcode = '';\n+        var city = '';\n+        var broker = '';\n+        var label = '';\n+        var MO = '';\n+        var ATYPE = '';\n+        var AD1 = '';\n+        var AD2 = '';\n+        var GST = '';\n+        var ST = '';\n+        var dhara = '';\n+        var partyStateCode = '';\n+        var lbl = '';\n+        if (partyArray.length > 0) {\n+          pcode = getValueNotDefine(partyArray[0].partyname);\n+          city = getValueNotDefine(partyArray[0].city);\n+          broker = getValueNotDefine(partyArray[0].broker);\n+          label = getValueNotDefine(partyArray[0].label);\n+          MO = getValueNotDefine(partyArray[0].MO);\n+          ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+          AD1 = getValueNotDefine(partyArray[0].AD1);\n+          AD2 = getValueNotDefine(partyArray[0].AD2);\n+          GST = getValueNotDefine(partyArray[0].GST);\n+          GST = GST == null || GST == '' ? '' : GST;\n+          ST = getValueNotDefine(partyArray[0].ST);\n+          dhara = getValueNotDefineNo(partyArray[0].dhara);\n+          partyStateCode = (GST).substring(0, 2);\n+          lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+        }\n+        // console.table(firmArray)\n+        var CO_ADD1 = \"\";\n+        var CO_ADD2 = \"\";\n+        var CO_ADD3 = \"\";\n+        var CO_ADD4 = \"\";\n+        var CO_CITY = \"\";\n+        var CO_COMPANY_GSTIN = \"\";\n+        var CO_PANNO = \"\";\n+        var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+        if (ACTYPE != \"AGENCY\") {\n+          MainFirmName = firmArray[0].FIRM;\n+          CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+          CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+          CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+          CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+          CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+          CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+          CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+        } else {\n+          var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+          if (SuppArray.length > 0) {\n+            CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+            CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+            CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+            CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+            CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n+            CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+            CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n+          }\n+        }\n+        console.log(BLS[i].DT)\n+        div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , `+ city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:33%;\">\n+        `;\n+\n+        DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+        // DET = DETdata.filter(function (data) {\n+        //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+        //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+        //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+        // })\n+        console.log(DET);\n+        if (DET.length > 0) {\n+          div += `\n+          <table  class=\"\" style=\"font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td>NET AMT</td>\n+          <td>ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+          var sr = 0;\n+          var billDet = DET[0].billDetails;\n+          billDet = billDet.sort(function (a, b) {\n+            return parseInt(a.SR) - parseInt(b.SR);\n+          })\n+          for (var k = 0; k < billDet.length; k++) {\n+            ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+            var ccdpcode = \"\";\n+            if (ccode.length > 0) {\n+              ccdpcode = getValueNotDefine(ccode[0].partyname);\n+            }\n+            var RATE = parseFloat(billDet[k].RATE);\n+            var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+            var finalRate = RATE + (DHARA * RATE / 100);\n+            sr += 1;\n+            div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td>`+ getValueNotDefine(billDet[k].BA) + `</td>\n+              <td>`+ getValueNotDefine(billDet[k].AD) + `</td>\n+              </tr>`;\n+          }\n+          div += ` </table>\n+          `;\n+        }\n+        div += ` \n+        </div>    \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table>\n+          <tr>\n+            <td></td>\n+            <td></td>\n+            <td></td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      <td>DUE DAYS : </td>\n+      <td>TOTAL `+ BLS[i].PCS + `</td>\n+      <td>`+ valuetoFixed(BLS[i].MTS) + `</td>\n+      <td></td>\n+      <td align=\"right\">`+ valuetoFixed(BLS[i].GAMT) + `</td>\n+      </tr>\n+      </table>\n+    <hr class=\"pdfhr\">\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+        if (getValueNotDefineNo(BLS[i].aia) != 0) {\n+          div += `\n+          <tr>\n+           <td style=\"text-align:right;width:100%;\"colspan=\"3\">INSURANCE ADD : `+ valuetoFixed(BLS[i].aia) + `</td>\n+          </tr>\n+        `;\n+        }\n+        if (getValueNotDefineNo(BLS[i].AA1) != 0) {\n+          div += `\n+          <tr>\n+           <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL ADD : `+ valuetoFixed(BLS[i].AA1) + `</td>\n+          </tr>\n+        `;\n+        }\n+\n+        if (getValueNotDefineNo(BLS[i].O_LS) != 0) {\n+          div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL LESS : `+ valuetoFixed(BLS[i].O_LS) + `</td>\n+          </tr>\n+        `;\n+        }\n+        if (getValueNotDefineNo(BLS[i].LA1RT) != 0) {\n+          div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n+         `+ getValueNotDefine(BLS[i].LA1RMK) + ` \n+         `+ valuetoFixed(BLS[i].GAMT) + ` X \n+         <strong>`+ BLS[i].LA1RT + ` % </strong> \n+         `+ BLS[i].LA1AMT + ` \n+        </td>\n+          </tr>\n+        `;\n+        }\n+        if (getValueNotDefineNo(BLS[i].LA2RT) != 0) {\n+          div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n+         `+ getValueNotDefine(BLS[i].LA2RMK) + ` \n+         `+ BLS[i].LA2qty + ` X \n+         <strong>`+ BLS[i].LA2RT + ` % </strong> \n+         `+ BLS[i].LA2AMT + ` \n+        </td>\n+          </tr>\n+        `;\n+        }\n+        if (getValueNotDefineNo(BLS[i].LA3RT) != 0) {\n+          div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n+         `+ getValueNotDefine(BLS[i].LA3RMK) + ` \n+         `+ BLS[i].LA3qty + ` X \n+         <strong>`+ BLS[i].LA3RT + ` % </strong> \n+         `+ BLS[i].LA3AMT + ` \n+        </td>\n+          </tr>\n+        `;\n+        }\n+        if (parseInt(BLS[i].VTAMT) != 0) {\n+          // console.log(partyStateCode, firmStateCode);\n+          if (parseInt(partyStateCode) == parseInt(firmStateCode)) {\n+            if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n+              div += `<tr>    \n+              <td style=\"text-align:right;width:100%;\"colspan=\"3\">CGST @ `+ BLS[i].VTRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n+              </tr>\n+              `;\n+            }\n+            if (BLS[i].ADVTRT != null && parseInt(BLS[i].ADVTRT) != 0) {\n+              div += `<tr>    \n+              <td style=\"text-align:right;width:100%;\" colspan=\"3\">SGST @ `+ BLS[i].ADRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].ADAMT) + `</td>\n+              </tr>\n+              `;\n+            }\n+          } else {\n+            if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n+              div += `<tr>    \n+              <td style=\"text-align:right;width:100%;\" colspan=\"3\">IGST @ `+ getValueNotDefine(BLS[i].VTRT) + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` =  ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n+              </tr>\n+              `;\n+            }\n+          }\n+        }\n+\n+        div += `\n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"font-weight:bold;font-size:15px;\">    \n+      <td style=\"text-align:left;\">REMARK:  `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      <td style=\"text-align:left;\"> </td>\n+      <td align=\"right\">NET AMOUNT </td>\n+      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      \n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"2\"></td>\n+      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+      \n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\">TERMS</td>\n+      </tr>\n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n+      </tr>\n+    </table>\n+    </div>\n+      `;\n+        BILL = getValueNotDefine(BLS[i].BLL);\n+        var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+        document.title = \"BILL NO \" + BILL;\n+      \n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637302820178,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,379 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase() \n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+        var BillName = 'TAX INVOICE';\n+        var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+        if (BLS[i].DT != \"os\") {\n+          BillName = SERIESArr[0].SERIES;\n+        }\n+        BillName=\"\";\n+        firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+        partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+        COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+        COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+        var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+        // console.log(partyArray)\n+        partyStateCode = '';\n+        var pcode = '';\n+        var city = '';\n+        var broker = '';\n+        var label = '';\n+        var MO = '';\n+        var ATYPE = '';\n+        var AD1 = '';\n+        var AD2 = '';\n+        var GST = '';\n+        var ST = '';\n+        var dhara = '';\n+        var partyStateCode = '';\n+        var lbl = '';\n+        if (partyArray.length > 0) {\n+          pcode = getValueNotDefine(partyArray[0].partyname);\n+          city = getValueNotDefine(partyArray[0].city);\n+          broker = getValueNotDefine(partyArray[0].broker);\n+          label = getValueNotDefine(partyArray[0].label);\n+          MO = getValueNotDefine(partyArray[0].MO);\n+          ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+          AD1 = getValueNotDefine(partyArray[0].AD1);\n+          AD2 = getValueNotDefine(partyArray[0].AD2);\n+          GST = getValueNotDefine(partyArray[0].GST);\n+          GST = GST == null || GST == '' ? '' : GST;\n+          ST = getValueNotDefine(partyArray[0].ST);\n+          dhara = getValueNotDefineNo(partyArray[0].dhara);\n+          partyStateCode = (GST).substring(0, 2);\n+          lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+        }\n+        // console.table(firmArray)\n+        var CO_ADD1 = \"\";\n+        var CO_ADD2 = \"\";\n+        var CO_ADD3 = \"\";\n+        var CO_ADD4 = \"\";\n+        var CO_CITY = \"\";\n+        var CO_COMPANY_GSTIN = \"\";\n+        var CO_PANNO = \"\";\n+        var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+        if (ACTYPE != \"AGENCY\") {\n+          MainFirmName = firmArray[0].FIRM;\n+          CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+          CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+          CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+          CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+          CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+          CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+          CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+        } else {\n+          var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+          if (SuppArray.length > 0) {\n+            CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+            CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+            CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+            CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+            CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n+            CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+            CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n+          }\n+        }\n+        console.log(BLS[i].DT)\n+        div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , `+ city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:33%;\">\n+        `;\n+\n+        DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+        // DET = DETdata.filter(function (data) {\n+        //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+        //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+        //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+        // })\n+        console.log(DET);\n+        if (DET.length > 0) {\n+          div += `\n+          <table  class=\"\" style=\"font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td>NET AMT</td>\n+          <td>ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+          var sr = 0;\n+          var billDet = DET[0].billDetails;\n+          billDet = billDet.sort(function (a, b) {\n+            return parseInt(a.SR) - parseInt(b.SR);\n+          })\n+          for (var k = 0; k < billDet.length; k++) {\n+            ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+            var ccdpcode = \"\";\n+            if (ccode.length > 0) {\n+              ccdpcode = getValueNotDefine(ccode[0].partyname);\n+            }\n+            var RATE = parseFloat(billDet[k].RATE);\n+            var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+            var finalRate = RATE + (DHARA * RATE / 100);\n+            sr += 1;\n+            div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td>`+ getValueNotDefine(billDet[k].BA) + `</td>\n+              <td>`+ getValueNotDefine(billDet[k].AD) + `</td>\n+              </tr>`;\n+          }\n+          div += ` </table>\n+          `;\n+        }\n+        div += ` \n+        </div>    \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table>\n+          <tr>\n+            <td>Total</td>\n+            <td></td>\n+            <td></td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      <td>DUE DAYS : </td>\n+      <td>TOTAL `+ BLS[i].PCS + `</td>\n+      <td>`+ valuetoFixed(BLS[i].MTS) + `</td>\n+      <td></td>\n+      <td align=\"right\">`+ valuetoFixed(BLS[i].GAMT) + `</td>\n+      </tr>\n+      </table>\n+    <hr class=\"pdfhr\">\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+        if (getValueNotDefineNo(BLS[i].aia) != 0) {\n+          div += `\n+          <tr>\n+           <td style=\"text-align:right;width:100%;\"colspan=\"3\">INSURANCE ADD : `+ valuetoFixed(BLS[i].aia) + `</td>\n+          </tr>\n+        `;\n+        }\n+        if (getValueNotDefineNo(BLS[i].AA1) != 0) {\n+          div += `\n+          <tr>\n+           <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL ADD : `+ valuetoFixed(BLS[i].AA1) + `</td>\n+          </tr>\n+        `;\n+        }\n+\n+        if (getValueNotDefineNo(BLS[i].O_LS) != 0) {\n+          div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL LESS : `+ valuetoFixed(BLS[i].O_LS) + `</td>\n+          </tr>\n+        `;\n+        }\n+        if (getValueNotDefineNo(BLS[i].LA1RT) != 0) {\n+          div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n+         `+ getValueNotDefine(BLS[i].LA1RMK) + ` \n+         `+ valuetoFixed(BLS[i].GAMT) + ` X \n+         <strong>`+ BLS[i].LA1RT + ` % </strong> \n+         `+ BLS[i].LA1AMT + ` \n+        </td>\n+          </tr>\n+        `;\n+        }\n+        if (getValueNotDefineNo(BLS[i].LA2RT) != 0) {\n+          div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n+         `+ getValueNotDefine(BLS[i].LA2RMK) + ` \n+         `+ BLS[i].LA2qty + ` X \n+         <strong>`+ BLS[i].LA2RT + ` % </strong> \n+         `+ BLS[i].LA2AMT + ` \n+        </td>\n+          </tr>\n+        `;\n+        }\n+        if (getValueNotDefineNo(BLS[i].LA3RT) != 0) {\n+          div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n+         `+ getValueNotDefine(BLS[i].LA3RMK) + ` \n+         `+ BLS[i].LA3qty + ` X \n+         <strong>`+ BLS[i].LA3RT + ` % </strong> \n+         `+ BLS[i].LA3AMT + ` \n+        </td>\n+          </tr>\n+        `;\n+        }\n+        if (parseInt(BLS[i].VTAMT) != 0) {\n+          // console.log(partyStateCode, firmStateCode);\n+          if (parseInt(partyStateCode) == parseInt(firmStateCode)) {\n+            if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n+              div += `<tr>    \n+              <td style=\"text-align:right;width:100%;\"colspan=\"3\">CGST @ `+ BLS[i].VTRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n+              </tr>\n+              `;\n+            }\n+            if (BLS[i].ADVTRT != null && parseInt(BLS[i].ADVTRT) != 0) {\n+              div += `<tr>    \n+              <td style=\"text-align:right;width:100%;\" colspan=\"3\">SGST @ `+ BLS[i].ADRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].ADAMT) + `</td>\n+              </tr>\n+              `;\n+            }\n+          } else {\n+            if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n+              div += `<tr>    \n+              <td style=\"text-align:right;width:100%;\" colspan=\"3\">IGST @ `+ getValueNotDefine(BLS[i].VTRT) + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` =  ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n+              </tr>\n+              `;\n+            }\n+          }\n+        }\n+\n+        div += `\n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"font-weight:bold;font-size:15px;\">    \n+      <td style=\"text-align:left;\">REMARK:  `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      <td style=\"text-align:left;\"> </td>\n+      <td align=\"right\">NET AMOUNT </td>\n+      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      \n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"2\"></td>\n+      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+      \n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\">TERMS</td>\n+      </tr>\n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n+      </tr>\n+    </table>\n+    </div>\n+      `;\n+        BILL = getValueNotDefine(BLS[i].BLL);\n+        var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+        document.title = \"BILL NO \" + BILL;\n+      \n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637302846090,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,379 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase() \n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+        var BillName = 'TAX INVOICE';\n+        var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+        if (BLS[i].DT != \"os\") {\n+          BillName = SERIESArr[0].SERIES;\n+        }\n+        BillName=\"\";\n+        firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+        partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+        COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+        COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+        var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+        // console.log(partyArray)\n+        partyStateCode = '';\n+        var pcode = '';\n+        var city = '';\n+        var broker = '';\n+        var label = '';\n+        var MO = '';\n+        var ATYPE = '';\n+        var AD1 = '';\n+        var AD2 = '';\n+        var GST = '';\n+        var ST = '';\n+        var dhara = '';\n+        var partyStateCode = '';\n+        var lbl = '';\n+        if (partyArray.length > 0) {\n+          pcode = getValueNotDefine(partyArray[0].partyname);\n+          city = getValueNotDefine(partyArray[0].city);\n+          broker = getValueNotDefine(partyArray[0].broker);\n+          label = getValueNotDefine(partyArray[0].label);\n+          MO = getValueNotDefine(partyArray[0].MO);\n+          ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+          AD1 = getValueNotDefine(partyArray[0].AD1);\n+          AD2 = getValueNotDefine(partyArray[0].AD2);\n+          GST = getValueNotDefine(partyArray[0].GST);\n+          GST = GST == null || GST == '' ? '' : GST;\n+          ST = getValueNotDefine(partyArray[0].ST);\n+          dhara = getValueNotDefineNo(partyArray[0].dhara);\n+          partyStateCode = (GST).substring(0, 2);\n+          lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+        }\n+        // console.table(firmArray)\n+        var CO_ADD1 = \"\";\n+        var CO_ADD2 = \"\";\n+        var CO_ADD3 = \"\";\n+        var CO_ADD4 = \"\";\n+        var CO_CITY = \"\";\n+        var CO_COMPANY_GSTIN = \"\";\n+        var CO_PANNO = \"\";\n+        var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+        if (ACTYPE != \"AGENCY\") {\n+          MainFirmName = firmArray[0].FIRM;\n+          CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+          CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+          CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+          CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+          CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+          CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+          CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+        } else {\n+          var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+          if (SuppArray.length > 0) {\n+            CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+            CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+            CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+            CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+            CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n+            CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+            CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n+          }\n+        }\n+        console.log(BLS[i].DT)\n+        div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , `+ city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:33%;\">\n+        `;\n+\n+        DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+        // DET = DETdata.filter(function (data) {\n+        //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+        //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+        //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+        // })\n+        console.log(DET);\n+        if (DET.length > 0) {\n+          div += `\n+          <table  class=\"\" style=\"font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td>NET AMT</td>\n+          <td>ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+          var sr = 0;\n+          var billDet = DET[0].billDetails;\n+          billDet = billDet.sort(function (a, b) {\n+            return parseInt(a.SR) - parseInt(b.SR);\n+          })\n+          for (var k = 0; k < billDet.length; k++) {\n+            ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+            var ccdpcode = \"\";\n+            if (ccode.length > 0) {\n+              ccdpcode = getValueNotDefine(ccode[0].partyname);\n+            }\n+            var RATE = parseFloat(billDet[k].RATE);\n+            var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+            var finalRate = RATE + (DHARA * RATE / 100);\n+            sr += 1;\n+            div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td>`+ getValueNotDefine(billDet[k].BA) + `</td>\n+              <td>`+ getValueNotDefine(billDet[k].AD) + `</td>\n+              </tr>`;\n+          }\n+          div += ` </table>\n+          `;\n+        }\n+        div += ` \n+        </div>    \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table>\n+          <tr>\n+            <td>Total</td>\n+            <td>1234567</td>\n+            <td>1234567</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      <td>DUE DAYS : </td>\n+      <td>TOTAL `+ BLS[i].PCS + `</td>\n+      <td>`+ valuetoFixed(BLS[i].MTS) + `</td>\n+      <td></td>\n+      <td align=\"right\">`+ valuetoFixed(BLS[i].GAMT) + `</td>\n+      </tr>\n+      </table>\n+    <hr class=\"pdfhr\">\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+        if (getValueNotDefineNo(BLS[i].aia) != 0) {\n+          div += `\n+          <tr>\n+           <td style=\"text-align:right;width:100%;\"colspan=\"3\">INSURANCE ADD : `+ valuetoFixed(BLS[i].aia) + `</td>\n+          </tr>\n+        `;\n+        }\n+        if (getValueNotDefineNo(BLS[i].AA1) != 0) {\n+          div += `\n+          <tr>\n+           <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL ADD : `+ valuetoFixed(BLS[i].AA1) + `</td>\n+          </tr>\n+        `;\n+        }\n+\n+        if (getValueNotDefineNo(BLS[i].O_LS) != 0) {\n+          div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL LESS : `+ valuetoFixed(BLS[i].O_LS) + `</td>\n+          </tr>\n+        `;\n+        }\n+        if (getValueNotDefineNo(BLS[i].LA1RT) != 0) {\n+          div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n+         `+ getValueNotDefine(BLS[i].LA1RMK) + ` \n+         `+ valuetoFixed(BLS[i].GAMT) + ` X \n+         <strong>`+ BLS[i].LA1RT + ` % </strong> \n+         `+ BLS[i].LA1AMT + ` \n+        </td>\n+          </tr>\n+        `;\n+        }\n+        if (getValueNotDefineNo(BLS[i].LA2RT) != 0) {\n+          div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n+         `+ getValueNotDefine(BLS[i].LA2RMK) + ` \n+         `+ BLS[i].LA2qty + ` X \n+         <strong>`+ BLS[i].LA2RT + ` % </strong> \n+         `+ BLS[i].LA2AMT + ` \n+        </td>\n+          </tr>\n+        `;\n+        }\n+        if (getValueNotDefineNo(BLS[i].LA3RT) != 0) {\n+          div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n+         `+ getValueNotDefine(BLS[i].LA3RMK) + ` \n+         `+ BLS[i].LA3qty + ` X \n+         <strong>`+ BLS[i].LA3RT + ` % </strong> \n+         `+ BLS[i].LA3AMT + ` \n+        </td>\n+          </tr>\n+        `;\n+        }\n+        if (parseInt(BLS[i].VTAMT) != 0) {\n+          // console.log(partyStateCode, firmStateCode);\n+          if (parseInt(partyStateCode) == parseInt(firmStateCode)) {\n+            if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n+              div += `<tr>    \n+              <td style=\"text-align:right;width:100%;\"colspan=\"3\">CGST @ `+ BLS[i].VTRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n+              </tr>\n+              `;\n+            }\n+            if (BLS[i].ADVTRT != null && parseInt(BLS[i].ADVTRT) != 0) {\n+              div += `<tr>    \n+              <td style=\"text-align:right;width:100%;\" colspan=\"3\">SGST @ `+ BLS[i].ADRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].ADAMT) + `</td>\n+              </tr>\n+              `;\n+            }\n+          } else {\n+            if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n+              div += `<tr>    \n+              <td style=\"text-align:right;width:100%;\" colspan=\"3\">IGST @ `+ getValueNotDefine(BLS[i].VTRT) + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` =  ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n+              </tr>\n+              `;\n+            }\n+          }\n+        }\n+\n+        div += `\n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"font-weight:bold;font-size:15px;\">    \n+      <td style=\"text-align:left;\">REMARK:  `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      <td style=\"text-align:left;\"> </td>\n+      <td align=\"right\">NET AMOUNT </td>\n+      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      \n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"2\"></td>\n+      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+      \n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\">TERMS</td>\n+      </tr>\n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n+      </tr>\n+    </table>\n+    </div>\n+      `;\n+        BILL = getValueNotDefine(BLS[i].BLL);\n+        var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+        document.title = \"BILL NO \" + BILL;\n+      \n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637302858046,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,373 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase() \n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+        var BillName = 'TAX INVOICE';\n+        var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+        if (BLS[i].DT != \"os\") {\n+          BillName = SERIESArr[0].SERIES;\n+        }\n+        BillName=\"\";\n+        firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+        partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+        COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+        COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+        var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+        // console.log(partyArray)\n+        partyStateCode = '';\n+        var pcode = '';\n+        var city = '';\n+        var broker = '';\n+        var label = '';\n+        var MO = '';\n+        var ATYPE = '';\n+        var AD1 = '';\n+        var AD2 = '';\n+        var GST = '';\n+        var ST = '';\n+        var dhara = '';\n+        var partyStateCode = '';\n+        var lbl = '';\n+        if (partyArray.length > 0) {\n+          pcode = getValueNotDefine(partyArray[0].partyname);\n+          city = getValueNotDefine(partyArray[0].city);\n+          broker = getValueNotDefine(partyArray[0].broker);\n+          label = getValueNotDefine(partyArray[0].label);\n+          MO = getValueNotDefine(partyArray[0].MO);\n+          ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+          AD1 = getValueNotDefine(partyArray[0].AD1);\n+          AD2 = getValueNotDefine(partyArray[0].AD2);\n+          GST = getValueNotDefine(partyArray[0].GST);\n+          GST = GST == null || GST == '' ? '' : GST;\n+          ST = getValueNotDefine(partyArray[0].ST);\n+          dhara = getValueNotDefineNo(partyArray[0].dhara);\n+          partyStateCode = (GST).substring(0, 2);\n+          lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+        }\n+        // console.table(firmArray)\n+        var CO_ADD1 = \"\";\n+        var CO_ADD2 = \"\";\n+        var CO_ADD3 = \"\";\n+        var CO_ADD4 = \"\";\n+        var CO_CITY = \"\";\n+        var CO_COMPANY_GSTIN = \"\";\n+        var CO_PANNO = \"\";\n+        var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+        if (ACTYPE != \"AGENCY\") {\n+          MainFirmName = firmArray[0].FIRM;\n+          CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+          CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+          CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+          CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+          CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+          CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+          CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+        } else {\n+          var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+          if (SuppArray.length > 0) {\n+            CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+            CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+            CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+            CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+            CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n+            CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+            CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n+          }\n+        }\n+        console.log(BLS[i].DT)\n+        div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , `+ city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:33%;\">\n+        `;\n+\n+        DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+        // DET = DETdata.filter(function (data) {\n+        //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+        //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+        //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+        // })\n+        console.log(DET);\n+        if (DET.length > 0) {\n+          div += `\n+          <table  class=\"\" style=\"font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td>NET AMT</td>\n+          <td>ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+          var sr = 0;\n+          var billDet = DET[0].billDetails;\n+          billDet = billDet.sort(function (a, b) {\n+            return parseInt(a.SR) - parseInt(b.SR);\n+          })\n+          for (var k = 0; k < billDet.length; k++) {\n+            ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+            var ccdpcode = \"\";\n+            if (ccode.length > 0) {\n+              ccdpcode = getValueNotDefine(ccode[0].partyname);\n+            }\n+            var RATE = parseFloat(billDet[k].RATE);\n+            var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+            var finalRate = RATE + (DHARA * RATE / 100);\n+            sr += 1;\n+            div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td>`+ getValueNotDefine(billDet[k].BA) + `</td>\n+              <td>`+ getValueNotDefine(billDet[k].AD) + `</td>\n+              </tr>`;\n+          }\n+          div += ` </table>\n+          `;\n+        }\n+        div += ` \n+        </div>    \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table>\n+          <tr>\n+            <td>Total</td>\n+            <td>1234567</td>\n+            <td>1234567</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <hr class=\"pdfhr\">\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+        if (getValueNotDefineNo(BLS[i].aia) != 0) {\n+          div += `\n+          <tr>\n+           <td style=\"text-align:right;width:100%;\"colspan=\"3\">INSURANCE ADD : `+ valuetoFixed(BLS[i].aia) + `</td>\n+          </tr>\n+        `;\n+        }\n+        if (getValueNotDefineNo(BLS[i].AA1) != 0) {\n+          div += `\n+          <tr>\n+           <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL ADD : `+ valuetoFixed(BLS[i].AA1) + `</td>\n+          </tr>\n+        `;\n+        }\n+\n+        if (getValueNotDefineNo(BLS[i].O_LS) != 0) {\n+          div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL LESS : `+ valuetoFixed(BLS[i].O_LS) + `</td>\n+          </tr>\n+        `;\n+        }\n+        if (getValueNotDefineNo(BLS[i].LA1RT) != 0) {\n+          div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n+         `+ getValueNotDefine(BLS[i].LA1RMK) + ` \n+         `+ valuetoFixed(BLS[i].GAMT) + ` X \n+         <strong>`+ BLS[i].LA1RT + ` % </strong> \n+         `+ BLS[i].LA1AMT + ` \n+        </td>\n+          </tr>\n+        `;\n+        }\n+        if (getValueNotDefineNo(BLS[i].LA2RT) != 0) {\n+          div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n+         `+ getValueNotDefine(BLS[i].LA2RMK) + ` \n+         `+ BLS[i].LA2qty + ` X \n+         <strong>`+ BLS[i].LA2RT + ` % </strong> \n+         `+ BLS[i].LA2AMT + ` \n+        </td>\n+          </tr>\n+        `;\n+        }\n+        if (getValueNotDefineNo(BLS[i].LA3RT) != 0) {\n+          div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n+         `+ getValueNotDefine(BLS[i].LA3RMK) + ` \n+         `+ BLS[i].LA3qty + ` X \n+         <strong>`+ BLS[i].LA3RT + ` % </strong> \n+         `+ BLS[i].LA3AMT + ` \n+        </td>\n+          </tr>\n+        `;\n+        }\n+        if (parseInt(BLS[i].VTAMT) != 0) {\n+          // console.log(partyStateCode, firmStateCode);\n+          if (parseInt(partyStateCode) == parseInt(firmStateCode)) {\n+            if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n+              div += `<tr>    \n+              <td style=\"text-align:right;width:100%;\"colspan=\"3\">CGST @ `+ BLS[i].VTRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n+              </tr>\n+              `;\n+            }\n+            if (BLS[i].ADVTRT != null && parseInt(BLS[i].ADVTRT) != 0) {\n+              div += `<tr>    \n+              <td style=\"text-align:right;width:100%;\" colspan=\"3\">SGST @ `+ BLS[i].ADRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].ADAMT) + `</td>\n+              </tr>\n+              `;\n+            }\n+          } else {\n+            if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n+              div += `<tr>    \n+              <td style=\"text-align:right;width:100%;\" colspan=\"3\">IGST @ `+ getValueNotDefine(BLS[i].VTRT) + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` =  ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n+              </tr>\n+              `;\n+            }\n+          }\n+        }\n+\n+        div += `\n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"font-weight:bold;font-size:15px;\">    \n+      <td style=\"text-align:left;\">REMARK:  `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      <td style=\"text-align:left;\"> </td>\n+      <td align=\"right\">NET AMOUNT </td>\n+      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      \n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"2\"></td>\n+      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+      \n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\">TERMS</td>\n+      </tr>\n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n+      </tr>\n+    </table>\n+    </div>\n+      `;\n+        BILL = getValueNotDefine(BLS[i].BLL);\n+        var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+        document.title = \"BILL NO \" + BILL;\n+      \n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637302910894,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,373 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase() \n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+        var BillName = 'TAX INVOICE';\n+        var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+        if (BLS[i].DT != \"os\") {\n+          BillName = SERIESArr[0].SERIES;\n+        }\n+        BillName=\"\";\n+        firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+        partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+        COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+        COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+        var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+        // console.log(partyArray)\n+        partyStateCode = '';\n+        var pcode = '';\n+        var city = '';\n+        var broker = '';\n+        var label = '';\n+        var MO = '';\n+        var ATYPE = '';\n+        var AD1 = '';\n+        var AD2 = '';\n+        var GST = '';\n+        var ST = '';\n+        var dhara = '';\n+        var partyStateCode = '';\n+        var lbl = '';\n+        if (partyArray.length > 0) {\n+          pcode = getValueNotDefine(partyArray[0].partyname);\n+          city = getValueNotDefine(partyArray[0].city);\n+          broker = getValueNotDefine(partyArray[0].broker);\n+          label = getValueNotDefine(partyArray[0].label);\n+          MO = getValueNotDefine(partyArray[0].MO);\n+          ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+          AD1 = getValueNotDefine(partyArray[0].AD1);\n+          AD2 = getValueNotDefine(partyArray[0].AD2);\n+          GST = getValueNotDefine(partyArray[0].GST);\n+          GST = GST == null || GST == '' ? '' : GST;\n+          ST = getValueNotDefine(partyArray[0].ST);\n+          dhara = getValueNotDefineNo(partyArray[0].dhara);\n+          partyStateCode = (GST).substring(0, 2);\n+          lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+        }\n+        // console.table(firmArray)\n+        var CO_ADD1 = \"\";\n+        var CO_ADD2 = \"\";\n+        var CO_ADD3 = \"\";\n+        var CO_ADD4 = \"\";\n+        var CO_CITY = \"\";\n+        var CO_COMPANY_GSTIN = \"\";\n+        var CO_PANNO = \"\";\n+        var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+        if (ACTYPE != \"AGENCY\") {\n+          MainFirmName = firmArray[0].FIRM;\n+          CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+          CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+          CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+          CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+          CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+          CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+          CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+        } else {\n+          var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+          if (SuppArray.length > 0) {\n+            CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+            CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+            CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+            CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+            CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n+            CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+            CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n+          }\n+        }\n+        console.log(BLS[i].DT)\n+        div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , `+ city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:33%;\">\n+        `;\n+\n+        DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+        // DET = DETdata.filter(function (data) {\n+        //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+        //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+        //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+        // })\n+        console.log(DET);\n+        if (DET.length > 0) {\n+          div += `\n+          <table  class=\"\" style=\"font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td>NET AMT</td>\n+          <td>ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+          var sr = 0;\n+          var billDet = DET[0].billDetails;\n+          billDet = billDet.sort(function (a, b) {\n+            return parseInt(a.SR) - parseInt(b.SR);\n+          })\n+          for (var k = 0; k < billDet.length; k++) {\n+            ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+            var ccdpcode = \"\";\n+            if (ccode.length > 0) {\n+              ccdpcode = getValueNotDefine(ccode[0].partyname);\n+            }\n+            var RATE = parseFloat(billDet[k].RATE);\n+            var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+            var finalRate = RATE + (DHARA * RATE / 100);\n+            sr += 1;\n+            div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td>`+ getValueNotDefine(billDet[k].BA) + `</td>\n+              <td>`+ getValueNotDefine(billDet[k].AD) + `</td>\n+              </tr>`;\n+          }\n+          div += ` </table>\n+          `;\n+        }\n+        div += ` \n+        </div>    \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;font-size:12px;\"class=\"upperCase\">\n+        <TD>\n+        <table>\n+          <tr>\n+            <td>Total</td>\n+            <td>1234567</td>\n+            <td>1234567</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <hr class=\"pdfhr\">\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+        if (getValueNotDefineNo(BLS[i].aia) != 0) {\n+          div += `\n+          <tr>\n+           <td style=\"text-align:right;width:100%;\"colspan=\"3\">INSURANCE ADD : `+ valuetoFixed(BLS[i].aia) + `</td>\n+          </tr>\n+        `;\n+        }\n+        if (getValueNotDefineNo(BLS[i].AA1) != 0) {\n+          div += `\n+          <tr>\n+           <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL ADD : `+ valuetoFixed(BLS[i].AA1) + `</td>\n+          </tr>\n+        `;\n+        }\n+\n+        if (getValueNotDefineNo(BLS[i].O_LS) != 0) {\n+          div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL LESS : `+ valuetoFixed(BLS[i].O_LS) + `</td>\n+          </tr>\n+        `;\n+        }\n+        if (getValueNotDefineNo(BLS[i].LA1RT) != 0) {\n+          div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n+         `+ getValueNotDefine(BLS[i].LA1RMK) + ` \n+         `+ valuetoFixed(BLS[i].GAMT) + ` X \n+         <strong>`+ BLS[i].LA1RT + ` % </strong> \n+         `+ BLS[i].LA1AMT + ` \n+        </td>\n+          </tr>\n+        `;\n+        }\n+        if (getValueNotDefineNo(BLS[i].LA2RT) != 0) {\n+          div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n+         `+ getValueNotDefine(BLS[i].LA2RMK) + ` \n+         `+ BLS[i].LA2qty + ` X \n+         <strong>`+ BLS[i].LA2RT + ` % </strong> \n+         `+ BLS[i].LA2AMT + ` \n+        </td>\n+          </tr>\n+        `;\n+        }\n+        if (getValueNotDefineNo(BLS[i].LA3RT) != 0) {\n+          div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n+         `+ getValueNotDefine(BLS[i].LA3RMK) + ` \n+         `+ BLS[i].LA3qty + ` X \n+         <strong>`+ BLS[i].LA3RT + ` % </strong> \n+         `+ BLS[i].LA3AMT + ` \n+        </td>\n+          </tr>\n+        `;\n+        }\n+        if (parseInt(BLS[i].VTAMT) != 0) {\n+          // console.log(partyStateCode, firmStateCode);\n+          if (parseInt(partyStateCode) == parseInt(firmStateCode)) {\n+            if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n+              div += `<tr>    \n+              <td style=\"text-align:right;width:100%;\"colspan=\"3\">CGST @ `+ BLS[i].VTRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n+              </tr>\n+              `;\n+            }\n+            if (BLS[i].ADVTRT != null && parseInt(BLS[i].ADVTRT) != 0) {\n+              div += `<tr>    \n+              <td style=\"text-align:right;width:100%;\" colspan=\"3\">SGST @ `+ BLS[i].ADRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].ADAMT) + `</td>\n+              </tr>\n+              `;\n+            }\n+          } else {\n+            if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n+              div += `<tr>    \n+              <td style=\"text-align:right;width:100%;\" colspan=\"3\">IGST @ `+ getValueNotDefine(BLS[i].VTRT) + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` =  ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n+              </tr>\n+              `;\n+            }\n+          }\n+        }\n+\n+        div += `\n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"font-weight:bold;font-size:15px;\">    \n+      <td style=\"text-align:left;\">REMARK:  `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      <td style=\"text-align:left;\"> </td>\n+      <td align=\"right\">NET AMOUNT </td>\n+      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      \n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"2\"></td>\n+      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+      \n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\">TERMS</td>\n+      </tr>\n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n+      </tr>\n+    </table>\n+    </div>\n+      `;\n+        BILL = getValueNotDefine(BLS[i].BLL);\n+        var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+        document.title = \"BILL NO \" + BILL;\n+      \n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637302923851,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,373 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase() \n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+        var BillName = 'TAX INVOICE';\n+        var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+        if (BLS[i].DT != \"os\") {\n+          BillName = SERIESArr[0].SERIES;\n+        }\n+        BillName=\"\";\n+        firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+        partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+        COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+        COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+        var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+        // console.log(partyArray)\n+        partyStateCode = '';\n+        var pcode = '';\n+        var city = '';\n+        var broker = '';\n+        var label = '';\n+        var MO = '';\n+        var ATYPE = '';\n+        var AD1 = '';\n+        var AD2 = '';\n+        var GST = '';\n+        var ST = '';\n+        var dhara = '';\n+        var partyStateCode = '';\n+        var lbl = '';\n+        if (partyArray.length > 0) {\n+          pcode = getValueNotDefine(partyArray[0].partyname);\n+          city = getValueNotDefine(partyArray[0].city);\n+          broker = getValueNotDefine(partyArray[0].broker);\n+          label = getValueNotDefine(partyArray[0].label);\n+          MO = getValueNotDefine(partyArray[0].MO);\n+          ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+          AD1 = getValueNotDefine(partyArray[0].AD1);\n+          AD2 = getValueNotDefine(partyArray[0].AD2);\n+          GST = getValueNotDefine(partyArray[0].GST);\n+          GST = GST == null || GST == '' ? '' : GST;\n+          ST = getValueNotDefine(partyArray[0].ST);\n+          dhara = getValueNotDefineNo(partyArray[0].dhara);\n+          partyStateCode = (GST).substring(0, 2);\n+          lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+        }\n+        // console.table(firmArray)\n+        var CO_ADD1 = \"\";\n+        var CO_ADD2 = \"\";\n+        var CO_ADD3 = \"\";\n+        var CO_ADD4 = \"\";\n+        var CO_CITY = \"\";\n+        var CO_COMPANY_GSTIN = \"\";\n+        var CO_PANNO = \"\";\n+        var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+        if (ACTYPE != \"AGENCY\") {\n+          MainFirmName = firmArray[0].FIRM;\n+          CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+          CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+          CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+          CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+          CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+          CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+          CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+        } else {\n+          var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+          if (SuppArray.length > 0) {\n+            CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+            CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+            CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+            CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+            CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n+            CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+            CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n+          }\n+        }\n+        console.log(BLS[i].DT)\n+        div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , `+ city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:33%;\">\n+        `;\n+\n+        DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+        // DET = DETdata.filter(function (data) {\n+        //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+        //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+        //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+        // })\n+        console.log(DET);\n+        if (DET.length > 0) {\n+          div += `\n+          <table  class=\"\" style=\"font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td>NET AMT</td>\n+          <td>ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+          var sr = 0;\n+          var billDet = DET[0].billDetails;\n+          billDet = billDet.sort(function (a, b) {\n+            return parseInt(a.SR) - parseInt(b.SR);\n+          })\n+          for (var k = 0; k < billDet.length; k++) {\n+            ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+            var ccdpcode = \"\";\n+            if (ccode.length > 0) {\n+              ccdpcode = getValueNotDefine(ccode[0].partyname);\n+            }\n+            var RATE = parseFloat(billDet[k].RATE);\n+            var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+            var finalRate = RATE + (DHARA * RATE / 100);\n+            sr += 1;\n+            div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td>`+ getValueNotDefine(billDet[k].BA) + `</td>\n+              <td>`+ getValueNotDefine(billDet[k].AD) + `</td>\n+              </tr>`;\n+          }\n+          div += ` </table>\n+          `;\n+        }\n+        div += ` \n+        </div>    \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;font-size:12px;font-weight:bold;\"class=\"upperCase\">\n+        <TD>\n+        <table>\n+          <tr>\n+            <td>Total</td>\n+            <td>1234567</td>\n+            <td>1234567</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <hr class=\"pdfhr\">\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+        if (getValueNotDefineNo(BLS[i].aia) != 0) {\n+          div += `\n+          <tr>\n+           <td style=\"text-align:right;width:100%;\"colspan=\"3\">INSURANCE ADD : `+ valuetoFixed(BLS[i].aia) + `</td>\n+          </tr>\n+        `;\n+        }\n+        if (getValueNotDefineNo(BLS[i].AA1) != 0) {\n+          div += `\n+          <tr>\n+           <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL ADD : `+ valuetoFixed(BLS[i].AA1) + `</td>\n+          </tr>\n+        `;\n+        }\n+\n+        if (getValueNotDefineNo(BLS[i].O_LS) != 0) {\n+          div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL LESS : `+ valuetoFixed(BLS[i].O_LS) + `</td>\n+          </tr>\n+        `;\n+        }\n+        if (getValueNotDefineNo(BLS[i].LA1RT) != 0) {\n+          div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n+         `+ getValueNotDefine(BLS[i].LA1RMK) + ` \n+         `+ valuetoFixed(BLS[i].GAMT) + ` X \n+         <strong>`+ BLS[i].LA1RT + ` % </strong> \n+         `+ BLS[i].LA1AMT + ` \n+        </td>\n+          </tr>\n+        `;\n+        }\n+        if (getValueNotDefineNo(BLS[i].LA2RT) != 0) {\n+          div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n+         `+ getValueNotDefine(BLS[i].LA2RMK) + ` \n+         `+ BLS[i].LA2qty + ` X \n+         <strong>`+ BLS[i].LA2RT + ` % </strong> \n+         `+ BLS[i].LA2AMT + ` \n+        </td>\n+          </tr>\n+        `;\n+        }\n+        if (getValueNotDefineNo(BLS[i].LA3RT) != 0) {\n+          div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n+         `+ getValueNotDefine(BLS[i].LA3RMK) + ` \n+         `+ BLS[i].LA3qty + ` X \n+         <strong>`+ BLS[i].LA3RT + ` % </strong> \n+         `+ BLS[i].LA3AMT + ` \n+        </td>\n+          </tr>\n+        `;\n+        }\n+        if (parseInt(BLS[i].VTAMT) != 0) {\n+          // console.log(partyStateCode, firmStateCode);\n+          if (parseInt(partyStateCode) == parseInt(firmStateCode)) {\n+            if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n+              div += `<tr>    \n+              <td style=\"text-align:right;width:100%;\"colspan=\"3\">CGST @ `+ BLS[i].VTRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n+              </tr>\n+              `;\n+            }\n+            if (BLS[i].ADVTRT != null && parseInt(BLS[i].ADVTRT) != 0) {\n+              div += `<tr>    \n+              <td style=\"text-align:right;width:100%;\" colspan=\"3\">SGST @ `+ BLS[i].ADRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].ADAMT) + `</td>\n+              </tr>\n+              `;\n+            }\n+          } else {\n+            if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n+              div += `<tr>    \n+              <td style=\"text-align:right;width:100%;\" colspan=\"3\">IGST @ `+ getValueNotDefine(BLS[i].VTRT) + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` =  ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n+              </tr>\n+              `;\n+            }\n+          }\n+        }\n+\n+        div += `\n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"font-weight:bold;font-size:15px;\">    \n+      <td style=\"text-align:left;\">REMARK:  `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      <td style=\"text-align:left;\"> </td>\n+      <td align=\"right\">NET AMOUNT </td>\n+      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      \n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"2\"></td>\n+      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+      \n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\">TERMS</td>\n+      </tr>\n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n+      </tr>\n+    </table>\n+    </div>\n+      `;\n+        BILL = getValueNotDefine(BLS[i].BLL);\n+        var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+        document.title = \"BILL NO \" + BILL;\n+      \n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637302938302,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,373 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase() \n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+        var BillName = 'TAX INVOICE';\n+        var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+        if (BLS[i].DT != \"os\") {\n+          BillName = SERIESArr[0].SERIES;\n+        }\n+        BillName=\"\";\n+        firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+        partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+        COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+        COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+        var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+        // console.log(partyArray)\n+        partyStateCode = '';\n+        var pcode = '';\n+        var city = '';\n+        var broker = '';\n+        var label = '';\n+        var MO = '';\n+        var ATYPE = '';\n+        var AD1 = '';\n+        var AD2 = '';\n+        var GST = '';\n+        var ST = '';\n+        var dhara = '';\n+        var partyStateCode = '';\n+        var lbl = '';\n+        if (partyArray.length > 0) {\n+          pcode = getValueNotDefine(partyArray[0].partyname);\n+          city = getValueNotDefine(partyArray[0].city);\n+          broker = getValueNotDefine(partyArray[0].broker);\n+          label = getValueNotDefine(partyArray[0].label);\n+          MO = getValueNotDefine(partyArray[0].MO);\n+          ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+          AD1 = getValueNotDefine(partyArray[0].AD1);\n+          AD2 = getValueNotDefine(partyArray[0].AD2);\n+          GST = getValueNotDefine(partyArray[0].GST);\n+          GST = GST == null || GST == '' ? '' : GST;\n+          ST = getValueNotDefine(partyArray[0].ST);\n+          dhara = getValueNotDefineNo(partyArray[0].dhara);\n+          partyStateCode = (GST).substring(0, 2);\n+          lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+        }\n+        // console.table(firmArray)\n+        var CO_ADD1 = \"\";\n+        var CO_ADD2 = \"\";\n+        var CO_ADD3 = \"\";\n+        var CO_ADD4 = \"\";\n+        var CO_CITY = \"\";\n+        var CO_COMPANY_GSTIN = \"\";\n+        var CO_PANNO = \"\";\n+        var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+        if (ACTYPE != \"AGENCY\") {\n+          MainFirmName = firmArray[0].FIRM;\n+          CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+          CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+          CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+          CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+          CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+          CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+          CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+        } else {\n+          var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+          if (SuppArray.length > 0) {\n+            CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+            CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+            CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+            CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+            CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n+            CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+            CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n+          }\n+        }\n+        console.log(BLS[i].DT)\n+        div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , `+ city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:33%;\">\n+        `;\n+\n+        DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+        // DET = DETdata.filter(function (data) {\n+        //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+        //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+        //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+        // })\n+        console.log(DET);\n+        if (DET.length > 0) {\n+          div += `\n+          <table  class=\"\" style=\"font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td>NET AMT</td>\n+          <td>ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+          var sr = 0;\n+          var billDet = DET[0].billDetails;\n+          billDet = billDet.sort(function (a, b) {\n+            return parseInt(a.SR) - parseInt(b.SR);\n+          })\n+          for (var k = 0; k < billDet.length; k++) {\n+            ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+            var ccdpcode = \"\";\n+            if (ccode.length > 0) {\n+              ccdpcode = getValueNotDefine(ccode[0].partyname);\n+            }\n+            var RATE = parseFloat(billDet[k].RATE);\n+            var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+            var finalRate = RATE + (DHARA * RATE / 100);\n+            sr += 1;\n+            div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td>`+ getValueNotDefine(billDet[k].BA) + `</td>\n+              <td>`+ getValueNotDefine(billDet[k].AD) + `</td>\n+              </tr>`;\n+          }\n+          div += ` </table>\n+          `;\n+        }\n+        div += ` \n+        </div>    \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td>1234567</td>\n+            <td>1234567</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <hr class=\"pdfhr\">\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+        if (getValueNotDefineNo(BLS[i].aia) != 0) {\n+          div += `\n+          <tr>\n+           <td style=\"text-align:right;width:100%;\"colspan=\"3\">INSURANCE ADD : `+ valuetoFixed(BLS[i].aia) + `</td>\n+          </tr>\n+        `;\n+        }\n+        if (getValueNotDefineNo(BLS[i].AA1) != 0) {\n+          div += `\n+          <tr>\n+           <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL ADD : `+ valuetoFixed(BLS[i].AA1) + `</td>\n+          </tr>\n+        `;\n+        }\n+\n+        if (getValueNotDefineNo(BLS[i].O_LS) != 0) {\n+          div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL LESS : `+ valuetoFixed(BLS[i].O_LS) + `</td>\n+          </tr>\n+        `;\n+        }\n+        if (getValueNotDefineNo(BLS[i].LA1RT) != 0) {\n+          div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n+         `+ getValueNotDefine(BLS[i].LA1RMK) + ` \n+         `+ valuetoFixed(BLS[i].GAMT) + ` X \n+         <strong>`+ BLS[i].LA1RT + ` % </strong> \n+         `+ BLS[i].LA1AMT + ` \n+        </td>\n+          </tr>\n+        `;\n+        }\n+        if (getValueNotDefineNo(BLS[i].LA2RT) != 0) {\n+          div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n+         `+ getValueNotDefine(BLS[i].LA2RMK) + ` \n+         `+ BLS[i].LA2qty + ` X \n+         <strong>`+ BLS[i].LA2RT + ` % </strong> \n+         `+ BLS[i].LA2AMT + ` \n+        </td>\n+          </tr>\n+        `;\n+        }\n+        if (getValueNotDefineNo(BLS[i].LA3RT) != 0) {\n+          div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n+         `+ getValueNotDefine(BLS[i].LA3RMK) + ` \n+         `+ BLS[i].LA3qty + ` X \n+         <strong>`+ BLS[i].LA3RT + ` % </strong> \n+         `+ BLS[i].LA3AMT + ` \n+        </td>\n+          </tr>\n+        `;\n+        }\n+        if (parseInt(BLS[i].VTAMT) != 0) {\n+          // console.log(partyStateCode, firmStateCode);\n+          if (parseInt(partyStateCode) == parseInt(firmStateCode)) {\n+            if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n+              div += `<tr>    \n+              <td style=\"text-align:right;width:100%;\"colspan=\"3\">CGST @ `+ BLS[i].VTRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n+              </tr>\n+              `;\n+            }\n+            if (BLS[i].ADVTRT != null && parseInt(BLS[i].ADVTRT) != 0) {\n+              div += `<tr>    \n+              <td style=\"text-align:right;width:100%;\" colspan=\"3\">SGST @ `+ BLS[i].ADRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].ADAMT) + `</td>\n+              </tr>\n+              `;\n+            }\n+          } else {\n+            if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n+              div += `<tr>    \n+              <td style=\"text-align:right;width:100%;\" colspan=\"3\">IGST @ `+ getValueNotDefine(BLS[i].VTRT) + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` =  ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n+              </tr>\n+              `;\n+            }\n+          }\n+        }\n+\n+        div += `\n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"font-weight:bold;font-size:15px;\">    \n+      <td style=\"text-align:left;\">REMARK:  `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      <td style=\"text-align:left;\"> </td>\n+      <td align=\"right\">NET AMOUNT </td>\n+      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      \n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"2\"></td>\n+      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+      \n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\">TERMS</td>\n+      </tr>\n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n+      </tr>\n+    </table>\n+    </div>\n+      `;\n+        BILL = getValueNotDefine(BLS[i].BLL);\n+        var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+        document.title = \"BILL NO \" + BILL;\n+      \n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637302989459,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,378 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase() \n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+        var BillName = 'TAX INVOICE';\n+        var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+        if (BLS[i].DT != \"os\") {\n+          BillName = SERIESArr[0].SERIES;\n+        }\n+        BillName=\"\";\n+        firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+        partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+        COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+        COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+        var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+        // console.log(partyArray)\n+        partyStateCode = '';\n+        var pcode = '';\n+        var city = '';\n+        var broker = '';\n+        var label = '';\n+        var MO = '';\n+        var ATYPE = '';\n+        var AD1 = '';\n+        var AD2 = '';\n+        var GST = '';\n+        var ST = '';\n+        var dhara = '';\n+        var partyStateCode = '';\n+        var lbl = '';\n+        if (partyArray.length > 0) {\n+          pcode = getValueNotDefine(partyArray[0].partyname);\n+          city = getValueNotDefine(partyArray[0].city);\n+          broker = getValueNotDefine(partyArray[0].broker);\n+          label = getValueNotDefine(partyArray[0].label);\n+          MO = getValueNotDefine(partyArray[0].MO);\n+          ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+          AD1 = getValueNotDefine(partyArray[0].AD1);\n+          AD2 = getValueNotDefine(partyArray[0].AD2);\n+          GST = getValueNotDefine(partyArray[0].GST);\n+          GST = GST == null || GST == '' ? '' : GST;\n+          ST = getValueNotDefine(partyArray[0].ST);\n+          dhara = getValueNotDefineNo(partyArray[0].dhara);\n+          partyStateCode = (GST).substring(0, 2);\n+          lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+        }\n+        // console.table(firmArray)\n+        var CO_ADD1 = \"\";\n+        var CO_ADD2 = \"\";\n+        var CO_ADD3 = \"\";\n+        var CO_ADD4 = \"\";\n+        var CO_CITY = \"\";\n+        var CO_COMPANY_GSTIN = \"\";\n+        var CO_PANNO = \"\";\n+        var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+        if (ACTYPE != \"AGENCY\") {\n+          MainFirmName = firmArray[0].FIRM;\n+          CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+          CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+          CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+          CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+          CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+          CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+          CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+        } else {\n+          var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+          if (SuppArray.length > 0) {\n+            CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+            CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+            CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+            CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+            CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n+            CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+            CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n+          }\n+        }\n+        console.log(BLS[i].DT)\n+        div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , `+ city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:33%;\">\n+        `;\n+\n+        DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+        // DET = DETdata.filter(function (data) {\n+        //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+        //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+        //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+        // })\n+        console.log(DET);\n+        if (DET.length > 0) {\n+          div += `\n+          <table  class=\"\" style=\"font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td>NET AMT</td>\n+          <td>ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+          var sr = 0;\n+          var billDet = DET[0].billDetails;\n+          billDet = billDet.sort(function (a, b) {\n+            return parseInt(a.SR) - parseInt(b.SR);\n+          })\n+          for (var k = 0; k < billDet.length; k++) {\n+            ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+            var ccdpcode = \"\";\n+            if (ccode.length > 0) {\n+              ccdpcode = getValueNotDefine(ccode[0].partyname);\n+            }\n+            var RATE = parseFloat(billDet[k].RATE);\n+            var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+            var finalRate = RATE + (DHARA * RATE / 100);\n+            sr += 1;\n+\n+            var BA= parseFloat(billDet[k].BA);\n+            var AD= parseFloat(billDet[k].AD);\n+\n+\n+            div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td>`+ getValueNotDefine(billDet[k].BA) + `</td>\n+              <td>`+ getValueNotDefine(billDet[k].AD) + `</td>\n+              </tr>`;\n+          }\n+          div += ` </table>\n+          `;\n+        }\n+        div += ` \n+        </div>    \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td>1234567</td>\n+            <td>1234567</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <hr class=\"pdfhr\">\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+        if (getValueNotDefineNo(BLS[i].aia) != 0) {\n+          div += `\n+          <tr>\n+           <td style=\"text-align:right;width:100%;\"colspan=\"3\">INSURANCE ADD : `+ valuetoFixed(BLS[i].aia) + `</td>\n+          </tr>\n+        `;\n+        }\n+        if (getValueNotDefineNo(BLS[i].AA1) != 0) {\n+          div += `\n+          <tr>\n+           <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL ADD : `+ valuetoFixed(BLS[i].AA1) + `</td>\n+          </tr>\n+        `;\n+        }\n+\n+        if (getValueNotDefineNo(BLS[i].O_LS) != 0) {\n+          div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL LESS : `+ valuetoFixed(BLS[i].O_LS) + `</td>\n+          </tr>\n+        `;\n+        }\n+        if (getValueNotDefineNo(BLS[i].LA1RT) != 0) {\n+          div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n+         `+ getValueNotDefine(BLS[i].LA1RMK) + ` \n+         `+ valuetoFixed(BLS[i].GAMT) + ` X \n+         <strong>`+ BLS[i].LA1RT + ` % </strong> \n+         `+ BLS[i].LA1AMT + ` \n+        </td>\n+          </tr>\n+        `;\n+        }\n+        if (getValueNotDefineNo(BLS[i].LA2RT) != 0) {\n+          div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n+         `+ getValueNotDefine(BLS[i].LA2RMK) + ` \n+         `+ BLS[i].LA2qty + ` X \n+         <strong>`+ BLS[i].LA2RT + ` % </strong> \n+         `+ BLS[i].LA2AMT + ` \n+        </td>\n+          </tr>\n+        `;\n+        }\n+        if (getValueNotDefineNo(BLS[i].LA3RT) != 0) {\n+          div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n+         `+ getValueNotDefine(BLS[i].LA3RMK) + ` \n+         `+ BLS[i].LA3qty + ` X \n+         <strong>`+ BLS[i].LA3RT + ` % </strong> \n+         `+ BLS[i].LA3AMT + ` \n+        </td>\n+          </tr>\n+        `;\n+        }\n+        if (parseInt(BLS[i].VTAMT) != 0) {\n+          // console.log(partyStateCode, firmStateCode);\n+          if (parseInt(partyStateCode) == parseInt(firmStateCode)) {\n+            if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n+              div += `<tr>    \n+              <td style=\"text-align:right;width:100%;\"colspan=\"3\">CGST @ `+ BLS[i].VTRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n+              </tr>\n+              `;\n+            }\n+            if (BLS[i].ADVTRT != null && parseInt(BLS[i].ADVTRT) != 0) {\n+              div += `<tr>    \n+              <td style=\"text-align:right;width:100%;\" colspan=\"3\">SGST @ `+ BLS[i].ADRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].ADAMT) + `</td>\n+              </tr>\n+              `;\n+            }\n+          } else {\n+            if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n+              div += `<tr>    \n+              <td style=\"text-align:right;width:100%;\" colspan=\"3\">IGST @ `+ getValueNotDefine(BLS[i].VTRT) + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` =  ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n+              </tr>\n+              `;\n+            }\n+          }\n+        }\n+\n+        div += `\n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"font-weight:bold;font-size:15px;\">    \n+      <td style=\"text-align:left;\">REMARK:  `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      <td style=\"text-align:left;\"> </td>\n+      <td align=\"right\">NET AMOUNT </td>\n+      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      \n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"2\"></td>\n+      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+      \n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\">TERMS</td>\n+      </tr>\n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n+      </tr>\n+    </table>\n+    </div>\n+      `;\n+        BILL = getValueNotDefine(BLS[i].BLL);\n+        var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+        document.title = \"BILL NO \" + BILL;\n+      \n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637303025695,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,380 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      if (ACTYPE != \"AGENCY\") {\n+        MainFirmName = firmArray[0].FIRM;\n+        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      } else {\n+        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+        if (SuppArray.length > 0) {\n+          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n+          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:33%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA=0;\n+      var totalAD=0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td>NET AMT</td>\n+          <td>ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA);\n+          var AD = parseFloat(billDet[k].AD);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td>`+ getValueNotDefine(BA) + `</td>\n+              <td>`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>    \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td>1234567</td>\n+            <td>1234567</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <hr class=\"pdfhr\">\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      if (getValueNotDefineNo(BLS[i].aia) != 0) {\n+        div += `\n+          <tr>\n+           <td style=\"text-align:right;width:100%;\"colspan=\"3\">INSURANCE ADD : `+ valuetoFixed(BLS[i].aia) + `</td>\n+          </tr>\n+        `;\n+      }\n+      if (getValueNotDefineNo(BLS[i].AA1) != 0) {\n+        div += `\n+          <tr>\n+           <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL ADD : `+ valuetoFixed(BLS[i].AA1) + `</td>\n+          </tr>\n+        `;\n+      }\n+\n+      if (getValueNotDefineNo(BLS[i].O_LS) != 0) {\n+        div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL LESS : `+ valuetoFixed(BLS[i].O_LS) + `</td>\n+          </tr>\n+        `;\n+      }\n+      if (getValueNotDefineNo(BLS[i].LA1RT) != 0) {\n+        div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n+         `+ getValueNotDefine(BLS[i].LA1RMK) + ` \n+         `+ valuetoFixed(BLS[i].GAMT) + ` X \n+         <strong>`+ BLS[i].LA1RT + ` % </strong> \n+         `+ BLS[i].LA1AMT + ` \n+        </td>\n+          </tr>\n+        `;\n+      }\n+      if (getValueNotDefineNo(BLS[i].LA2RT) != 0) {\n+        div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n+         `+ getValueNotDefine(BLS[i].LA2RMK) + ` \n+         `+ BLS[i].LA2qty + ` X \n+         <strong>`+ BLS[i].LA2RT + ` % </strong> \n+         `+ BLS[i].LA2AMT + ` \n+        </td>\n+          </tr>\n+        `;\n+      }\n+      if (getValueNotDefineNo(BLS[i].LA3RT) != 0) {\n+        div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n+         `+ getValueNotDefine(BLS[i].LA3RMK) + ` \n+         `+ BLS[i].LA3qty + ` X \n+         <strong>`+ BLS[i].LA3RT + ` % </strong> \n+         `+ BLS[i].LA3AMT + ` \n+        </td>\n+          </tr>\n+        `;\n+      }\n+      if (parseInt(BLS[i].VTAMT) != 0) {\n+        // console.log(partyStateCode, firmStateCode);\n+        if (parseInt(partyStateCode) == parseInt(firmStateCode)) {\n+          if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n+            div += `<tr>    \n+              <td style=\"text-align:right;width:100%;\"colspan=\"3\">CGST @ `+ BLS[i].VTRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n+              </tr>\n+              `;\n+          }\n+          if (BLS[i].ADVTRT != null && parseInt(BLS[i].ADVTRT) != 0) {\n+            div += `<tr>    \n+              <td style=\"text-align:right;width:100%;\" colspan=\"3\">SGST @ `+ BLS[i].ADRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].ADAMT) + `</td>\n+              </tr>\n+              `;\n+          }\n+        } else {\n+          if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n+            div += `<tr>    \n+              <td style=\"text-align:right;width:100%;\" colspan=\"3\">IGST @ `+ getValueNotDefine(BLS[i].VTRT) + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` =  ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n+              </tr>\n+              `;\n+          }\n+        }\n+      }\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"font-weight:bold;font-size:15px;\">    \n+      <td style=\"text-align:left;\">REMARK:  `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      <td style=\"text-align:left;\"> </td>\n+      <td align=\"right\">NET AMOUNT </td>\n+      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      \n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"2\"></td>\n+      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+      \n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\">TERMS</td>\n+      </tr>\n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n+      </tr>\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637303040456,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,380 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      if (ACTYPE != \"AGENCY\") {\n+        MainFirmName = firmArray[0].FIRM;\n+        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      } else {\n+        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+        if (SuppArray.length > 0) {\n+          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n+          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:33%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA=0;\n+      var totalAD=0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td>NET AMT</td>\n+          <td>ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td>`+ getValueNotDefine(BA) + `</td>\n+              <td>`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>    \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td>1234567</td>\n+            <td>1234567</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <hr class=\"pdfhr\">\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      if (getValueNotDefineNo(BLS[i].aia) != 0) {\n+        div += `\n+          <tr>\n+           <td style=\"text-align:right;width:100%;\"colspan=\"3\">INSURANCE ADD : `+ valuetoFixed(BLS[i].aia) + `</td>\n+          </tr>\n+        `;\n+      }\n+      if (getValueNotDefineNo(BLS[i].AA1) != 0) {\n+        div += `\n+          <tr>\n+           <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL ADD : `+ valuetoFixed(BLS[i].AA1) + `</td>\n+          </tr>\n+        `;\n+      }\n+\n+      if (getValueNotDefineNo(BLS[i].O_LS) != 0) {\n+        div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL LESS : `+ valuetoFixed(BLS[i].O_LS) + `</td>\n+          </tr>\n+        `;\n+      }\n+      if (getValueNotDefineNo(BLS[i].LA1RT) != 0) {\n+        div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n+         `+ getValueNotDefine(BLS[i].LA1RMK) + ` \n+         `+ valuetoFixed(BLS[i].GAMT) + ` X \n+         <strong>`+ BLS[i].LA1RT + ` % </strong> \n+         `+ BLS[i].LA1AMT + ` \n+        </td>\n+          </tr>\n+        `;\n+      }\n+      if (getValueNotDefineNo(BLS[i].LA2RT) != 0) {\n+        div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n+         `+ getValueNotDefine(BLS[i].LA2RMK) + ` \n+         `+ BLS[i].LA2qty + ` X \n+         <strong>`+ BLS[i].LA2RT + ` % </strong> \n+         `+ BLS[i].LA2AMT + ` \n+        </td>\n+          </tr>\n+        `;\n+      }\n+      if (getValueNotDefineNo(BLS[i].LA3RT) != 0) {\n+        div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n+         `+ getValueNotDefine(BLS[i].LA3RMK) + ` \n+         `+ BLS[i].LA3qty + ` X \n+         <strong>`+ BLS[i].LA3RT + ` % </strong> \n+         `+ BLS[i].LA3AMT + ` \n+        </td>\n+          </tr>\n+        `;\n+      }\n+      if (parseInt(BLS[i].VTAMT) != 0) {\n+        // console.log(partyStateCode, firmStateCode);\n+        if (parseInt(partyStateCode) == parseInt(firmStateCode)) {\n+          if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n+            div += `<tr>    \n+              <td style=\"text-align:right;width:100%;\"colspan=\"3\">CGST @ `+ BLS[i].VTRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n+              </tr>\n+              `;\n+          }\n+          if (BLS[i].ADVTRT != null && parseInt(BLS[i].ADVTRT) != 0) {\n+            div += `<tr>    \n+              <td style=\"text-align:right;width:100%;\" colspan=\"3\">SGST @ `+ BLS[i].ADRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].ADAMT) + `</td>\n+              </tr>\n+              `;\n+          }\n+        } else {\n+          if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n+            div += `<tr>    \n+              <td style=\"text-align:right;width:100%;\" colspan=\"3\">IGST @ `+ getValueNotDefine(BLS[i].VTRT) + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` =  ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n+              </tr>\n+              `;\n+          }\n+        }\n+      }\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"font-weight:bold;font-size:15px;\">    \n+      <td style=\"text-align:left;\">REMARK:  `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      <td style=\"text-align:left;\"> </td>\n+      <td align=\"right\">NET AMOUNT </td>\n+      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      \n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"2\"></td>\n+      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+      \n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\">TERMS</td>\n+      </tr>\n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n+      </tr>\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637303118022,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,383 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      if (ACTYPE != \"AGENCY\") {\n+        MainFirmName = firmArray[0].FIRM;\n+        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      } else {\n+        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+        if (SuppArray.length > 0) {\n+          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n+          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:33%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td>NET AMT</td>\n+          <td>ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td>`+ getValueNotDefine(BA) + `</td>\n+              <td>`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA +=BA;\n+          totalAD +=AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>    \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td>`+totalBA+`</td>\n+            <td>`+totalBA+`</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <hr class=\"pdfhr\">\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      if (getValueNotDefineNo(BLS[i].aia) != 0) {\n+        div += `\n+          <tr>\n+           <td style=\"text-align:right;width:100%;\"colspan=\"3\">INSURANCE ADD : `+ valuetoFixed(BLS[i].aia) + `</td>\n+          </tr>\n+        `;\n+      }\n+      if (getValueNotDefineNo(BLS[i].AA1) != 0) {\n+        div += `\n+          <tr>\n+           <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL ADD : `+ valuetoFixed(BLS[i].AA1) + `</td>\n+          </tr>\n+        `;\n+      }\n+\n+      if (getValueNotDefineNo(BLS[i].O_LS) != 0) {\n+        div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL LESS : `+ valuetoFixed(BLS[i].O_LS) + `</td>\n+          </tr>\n+        `;\n+      }\n+      if (getValueNotDefineNo(BLS[i].LA1RT) != 0) {\n+        div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n+         `+ getValueNotDefine(BLS[i].LA1RMK) + ` \n+         `+ valuetoFixed(BLS[i].GAMT) + ` X \n+         <strong>`+ BLS[i].LA1RT + ` % </strong> \n+         `+ BLS[i].LA1AMT + ` \n+        </td>\n+          </tr>\n+        `;\n+      }\n+      if (getValueNotDefineNo(BLS[i].LA2RT) != 0) {\n+        div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n+         `+ getValueNotDefine(BLS[i].LA2RMK) + ` \n+         `+ BLS[i].LA2qty + ` X \n+         <strong>`+ BLS[i].LA2RT + ` % </strong> \n+         `+ BLS[i].LA2AMT + ` \n+        </td>\n+          </tr>\n+        `;\n+      }\n+      if (getValueNotDefineNo(BLS[i].LA3RT) != 0) {\n+        div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n+         `+ getValueNotDefine(BLS[i].LA3RMK) + ` \n+         `+ BLS[i].LA3qty + ` X \n+         <strong>`+ BLS[i].LA3RT + ` % </strong> \n+         `+ BLS[i].LA3AMT + ` \n+        </td>\n+          </tr>\n+        `;\n+      }\n+      if (parseInt(BLS[i].VTAMT) != 0) {\n+        // console.log(partyStateCode, firmStateCode);\n+        if (parseInt(partyStateCode) == parseInt(firmStateCode)) {\n+          if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n+            div += `<tr>    \n+              <td style=\"text-align:right;width:100%;\"colspan=\"3\">CGST @ `+ BLS[i].VTRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n+              </tr>\n+              `;\n+          }\n+          if (BLS[i].ADVTRT != null && parseInt(BLS[i].ADVTRT) != 0) {\n+            div += `<tr>    \n+              <td style=\"text-align:right;width:100%;\" colspan=\"3\">SGST @ `+ BLS[i].ADRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].ADAMT) + `</td>\n+              </tr>\n+              `;\n+          }\n+        } else {\n+          if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n+            div += `<tr>    \n+              <td style=\"text-align:right;width:100%;\" colspan=\"3\">IGST @ `+ getValueNotDefine(BLS[i].VTRT) + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` =  ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n+              </tr>\n+              `;\n+          }\n+        }\n+      }\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"font-weight:bold;font-size:15px;\">    \n+      <td style=\"text-align:left;\">REMARK:  `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      <td style=\"text-align:left;\"> </td>\n+      <td align=\"right\">NET AMOUNT </td>\n+      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      \n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"2\"></td>\n+      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+      \n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\">TERMS</td>\n+      </tr>\n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n+      </tr>\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637303137081,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,383 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      if (ACTYPE != \"AGENCY\") {\n+        MainFirmName = firmArray[0].FIRM;\n+        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      } else {\n+        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+        if (SuppArray.length > 0) {\n+          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n+          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:33%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td>NET AMT</td>\n+          <td>ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td>`+ getValueNotDefine(BA) + `</td>\n+              <td>`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA +=BA;\n+          totalAD +=AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>    \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td>`+parseFloat(totalBA).toFixed(2)+`</td>\n+            <td>`+parseFloat(totalBA).toFixed(2)+`</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <hr class=\"pdfhr\">\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      if (getValueNotDefineNo(BLS[i].aia) != 0) {\n+        div += `\n+          <tr>\n+           <td style=\"text-align:right;width:100%;\"colspan=\"3\">INSURANCE ADD : `+ valuetoFixed(BLS[i].aia) + `</td>\n+          </tr>\n+        `;\n+      }\n+      if (getValueNotDefineNo(BLS[i].AA1) != 0) {\n+        div += `\n+          <tr>\n+           <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL ADD : `+ valuetoFixed(BLS[i].AA1) + `</td>\n+          </tr>\n+        `;\n+      }\n+\n+      if (getValueNotDefineNo(BLS[i].O_LS) != 0) {\n+        div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL LESS : `+ valuetoFixed(BLS[i].O_LS) + `</td>\n+          </tr>\n+        `;\n+      }\n+      if (getValueNotDefineNo(BLS[i].LA1RT) != 0) {\n+        div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n+         `+ getValueNotDefine(BLS[i].LA1RMK) + ` \n+         `+ valuetoFixed(BLS[i].GAMT) + ` X \n+         <strong>`+ BLS[i].LA1RT + ` % </strong> \n+         `+ BLS[i].LA1AMT + ` \n+        </td>\n+          </tr>\n+        `;\n+      }\n+      if (getValueNotDefineNo(BLS[i].LA2RT) != 0) {\n+        div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n+         `+ getValueNotDefine(BLS[i].LA2RMK) + ` \n+         `+ BLS[i].LA2qty + ` X \n+         <strong>`+ BLS[i].LA2RT + ` % </strong> \n+         `+ BLS[i].LA2AMT + ` \n+        </td>\n+          </tr>\n+        `;\n+      }\n+      if (getValueNotDefineNo(BLS[i].LA3RT) != 0) {\n+        div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n+         `+ getValueNotDefine(BLS[i].LA3RMK) + ` \n+         `+ BLS[i].LA3qty + ` X \n+         <strong>`+ BLS[i].LA3RT + ` % </strong> \n+         `+ BLS[i].LA3AMT + ` \n+        </td>\n+          </tr>\n+        `;\n+      }\n+      if (parseInt(BLS[i].VTAMT) != 0) {\n+        // console.log(partyStateCode, firmStateCode);\n+        if (parseInt(partyStateCode) == parseInt(firmStateCode)) {\n+          if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n+            div += `<tr>    \n+              <td style=\"text-align:right;width:100%;\"colspan=\"3\">CGST @ `+ BLS[i].VTRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n+              </tr>\n+              `;\n+          }\n+          if (BLS[i].ADVTRT != null && parseInt(BLS[i].ADVTRT) != 0) {\n+            div += `<tr>    \n+              <td style=\"text-align:right;width:100%;\" colspan=\"3\">SGST @ `+ BLS[i].ADRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].ADAMT) + `</td>\n+              </tr>\n+              `;\n+          }\n+        } else {\n+          if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n+            div += `<tr>    \n+              <td style=\"text-align:right;width:100%;\" colspan=\"3\">IGST @ `+ getValueNotDefine(BLS[i].VTRT) + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` =  ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n+              </tr>\n+              `;\n+          }\n+        }\n+      }\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"font-weight:bold;font-size:15px;\">    \n+      <td style=\"text-align:left;\">REMARK:  `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      <td style=\"text-align:left;\"> </td>\n+      <td align=\"right\">NET AMOUNT </td>\n+      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      \n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"2\"></td>\n+      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+      \n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\">TERMS</td>\n+      </tr>\n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n+      </tr>\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637303184203,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,383 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      if (ACTYPE != \"AGENCY\") {\n+        MainFirmName = firmArray[0].FIRM;\n+        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      } else {\n+        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+        if (SuppArray.length > 0) {\n+          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n+          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:33%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td>NET AMT</td>\n+          <td>ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td>`+ getValueNotDefine(BA) + `</td>\n+              <td>`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA +=BA;\n+          totalAD +=AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>    \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <hr class=\"pdfhr\">\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      if (getValueNotDefineNo(BLS[i].aia) != 0) {\n+        div += `\n+          <tr>\n+           <td style=\"text-align:right;width:100%;\"colspan=\"3\">INSURANCE ADD : `+ valuetoFixed(BLS[i].aia) + `</td>\n+          </tr>\n+        `;\n+      }\n+      if (getValueNotDefineNo(BLS[i].AA1) != 0) {\n+        div += `\n+          <tr>\n+           <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL ADD : `+ valuetoFixed(BLS[i].AA1) + `</td>\n+          </tr>\n+        `;\n+      }\n+\n+      if (getValueNotDefineNo(BLS[i].O_LS) != 0) {\n+        div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL LESS : `+ valuetoFixed(BLS[i].O_LS) + `</td>\n+          </tr>\n+        `;\n+      }\n+      if (getValueNotDefineNo(BLS[i].LA1RT) != 0) {\n+        div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n+         `+ getValueNotDefine(BLS[i].LA1RMK) + ` \n+         `+ valuetoFixed(BLS[i].GAMT) + ` X \n+         <strong>`+ BLS[i].LA1RT + ` % </strong> \n+         `+ BLS[i].LA1AMT + ` \n+        </td>\n+          </tr>\n+        `;\n+      }\n+      if (getValueNotDefineNo(BLS[i].LA2RT) != 0) {\n+        div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n+         `+ getValueNotDefine(BLS[i].LA2RMK) + ` \n+         `+ BLS[i].LA2qty + ` X \n+         <strong>`+ BLS[i].LA2RT + ` % </strong> \n+         `+ BLS[i].LA2AMT + ` \n+        </td>\n+          </tr>\n+        `;\n+      }\n+      if (getValueNotDefineNo(BLS[i].LA3RT) != 0) {\n+        div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n+         `+ getValueNotDefine(BLS[i].LA3RMK) + ` \n+         `+ BLS[i].LA3qty + ` X \n+         <strong>`+ BLS[i].LA3RT + ` % </strong> \n+         `+ BLS[i].LA3AMT + ` \n+        </td>\n+          </tr>\n+        `;\n+      }\n+      if (parseInt(BLS[i].VTAMT) != 0) {\n+        // console.log(partyStateCode, firmStateCode);\n+        if (parseInt(partyStateCode) == parseInt(firmStateCode)) {\n+          if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n+            div += `<tr>    \n+              <td style=\"text-align:right;width:100%;\"colspan=\"3\">CGST @ `+ BLS[i].VTRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n+              </tr>\n+              `;\n+          }\n+          if (BLS[i].ADVTRT != null && parseInt(BLS[i].ADVTRT) != 0) {\n+            div += `<tr>    \n+              <td style=\"text-align:right;width:100%;\" colspan=\"3\">SGST @ `+ BLS[i].ADRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].ADAMT) + `</td>\n+              </tr>\n+              `;\n+          }\n+        } else {\n+          if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n+            div += `<tr>    \n+              <td style=\"text-align:right;width:100%;\" colspan=\"3\">IGST @ `+ getValueNotDefine(BLS[i].VTRT) + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` =  ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n+              </tr>\n+              `;\n+          }\n+        }\n+      }\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"font-weight:bold;font-size:15px;\">    \n+      <td style=\"text-align:left;\">REMARK:  `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      <td style=\"text-align:left;\"> </td>\n+      <td align=\"right\">NET AMOUNT </td>\n+      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      \n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"2\"></td>\n+      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+      \n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\">TERMS</td>\n+      </tr>\n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n+      </tr>\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637303216262,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,383 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      if (ACTYPE != \"AGENCY\") {\n+        MainFirmName = firmArray[0].FIRM;\n+        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      } else {\n+        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+        if (SuppArray.length > 0) {\n+          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n+          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:33%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td>NET AMT</td>\n+          <td>ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td>`+ getValueNotDefine(BA) + `</td>\n+              <td>`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA +=BA;\n+          totalAD +=AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>    \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <hr class=\"pdfhr\">\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      if (getValueNotDefineNo(BLS[i].aia) != 0) {\n+        div += `\n+          <tr>\n+           <td style=\"text-align:right;width:100%;\"colspan=\"3\">INSURANCE ADD : `+ valuetoFixed(BLS[i].aia) + `</td>\n+          </tr>\n+        `;\n+      }\n+      if (getValueNotDefineNo(BLS[i].AA1) != 0) {\n+        div += `\n+          <tr>\n+           <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL ADD : `+ valuetoFixed(BLS[i].AA1) + `</td>\n+          </tr>\n+        `;\n+      }\n+\n+      if (getValueNotDefineNo(BLS[i].O_LS) != 0) {\n+        div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL LESS : `+ valuetoFixed(BLS[i].O_LS) + `</td>\n+          </tr>\n+        `;\n+      }\n+      if (getValueNotDefineNo(BLS[i].LA1RT) != 0) {\n+        div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n+         `+ getValueNotDefine(BLS[i].LA1RMK) + ` \n+         `+ valuetoFixed(BLS[i].GAMT) + ` X \n+         <strong>`+ BLS[i].LA1RT + ` % </strong> \n+         `+ BLS[i].LA1AMT + ` \n+        </td>\n+          </tr>\n+        `;\n+      }\n+      if (getValueNotDefineNo(BLS[i].LA2RT) != 0) {\n+        div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n+         `+ getValueNotDefine(BLS[i].LA2RMK) + ` \n+         `+ BLS[i].LA2qty + ` X \n+         <strong>`+ BLS[i].LA2RT + ` % </strong> \n+         `+ BLS[i].LA2AMT + ` \n+        </td>\n+          </tr>\n+        `;\n+      }\n+      if (getValueNotDefineNo(BLS[i].LA3RT) != 0) {\n+        div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n+         `+ getValueNotDefine(BLS[i].LA3RMK) + ` \n+         `+ BLS[i].LA3qty + ` X \n+         <strong>`+ BLS[i].LA3RT + ` % </strong> \n+         `+ BLS[i].LA3AMT + ` \n+        </td>\n+          </tr>\n+        `;\n+      }\n+      if (parseInt(BLS[i].VTAMT) != 0) {\n+        // console.log(partyStateCode, firmStateCode);\n+        if (parseInt(partyStateCode) == parseInt(firmStateCode)) {\n+          if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n+            div += `<tr>    \n+              <td style=\"text-align:right;width:100%;\"colspan=\"3\">CGST @ `+ BLS[i].VTRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n+              </tr>\n+              `;\n+          }\n+          if (BLS[i].ADVTRT != null && parseInt(BLS[i].ADVTRT) != 0) {\n+            div += `<tr>    \n+              <td style=\"text-align:right;width:100%;\" colspan=\"3\">SGST @ `+ BLS[i].ADRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].ADAMT) + `</td>\n+              </tr>\n+              `;\n+          }\n+        } else {\n+          if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n+            div += `<tr>    \n+              <td style=\"text-align:right;width:100%;\" colspan=\"3\">IGST @ `+ getValueNotDefine(BLS[i].VTRT) + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` =  ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n+              </tr>\n+              `;\n+          }\n+        }\n+      }\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"font-weight:bold;font-size:15px;\">    \n+      <td style=\"text-align:left;\">REMARK:  `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      <td style=\"text-align:left;\"> </td>\n+      <td align=\"right\">NET AMOUNT </td>\n+      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      \n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"2\"></td>\n+      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+      \n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\">TERMS</td>\n+      </tr>\n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n+      </tr>\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637303226931,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,383 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      if (ACTYPE != \"AGENCY\") {\n+        MainFirmName = firmArray[0].FIRM;\n+        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      } else {\n+        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+        if (SuppArray.length > 0) {\n+          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n+          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:33%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td>NET AMT</td>\n+          <td>ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td>`+ getValueNotDefine(BA) + `</td>\n+              <td>`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA +=BA;\n+          totalAD +=AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>    \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <hr class=\"pdfhr\">\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      if (getValueNotDefineNo(BLS[i].aia) != 0) {\n+        div += `\n+          <tr>\n+           <td style=\"text-align:right;width:100%;\"colspan=\"3\">INSURANCE ADD : `+ valuetoFixed(BLS[i].aia) + `</td>\n+          </tr>\n+        `;\n+      }\n+      if (getValueNotDefineNo(BLS[i].AA1) != 0) {\n+        div += `\n+          <tr>\n+           <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL ADD : `+ valuetoFixed(BLS[i].AA1) + `</td>\n+          </tr>\n+        `;\n+      }\n+\n+      if (getValueNotDefineNo(BLS[i].O_LS) != 0) {\n+        div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL LESS : `+ valuetoFixed(BLS[i].O_LS) + `</td>\n+          </tr>\n+        `;\n+      }\n+      if (getValueNotDefineNo(BLS[i].LA1RT) != 0) {\n+        div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n+         `+ getValueNotDefine(BLS[i].LA1RMK) + ` \n+         `+ valuetoFixed(BLS[i].GAMT) + ` X \n+         <strong>`+ BLS[i].LA1RT + ` % </strong> \n+         `+ BLS[i].LA1AMT + ` \n+        </td>\n+          </tr>\n+        `;\n+      }\n+      if (getValueNotDefineNo(BLS[i].LA2RT) != 0) {\n+        div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n+         `+ getValueNotDefine(BLS[i].LA2RMK) + ` \n+         `+ BLS[i].LA2qty + ` X \n+         <strong>`+ BLS[i].LA2RT + ` % </strong> \n+         `+ BLS[i].LA2AMT + ` \n+        </td>\n+          </tr>\n+        `;\n+      }\n+      if (getValueNotDefineNo(BLS[i].LA3RT) != 0) {\n+        div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n+         `+ getValueNotDefine(BLS[i].LA3RMK) + ` \n+         `+ BLS[i].LA3qty + ` X \n+         <strong>`+ BLS[i].LA3RT + ` % </strong> \n+         `+ BLS[i].LA3AMT + ` \n+        </td>\n+          </tr>\n+        `;\n+      }\n+      if (parseInt(BLS[i].VTAMT) != 0) {\n+        // console.log(partyStateCode, firmStateCode);\n+        if (parseInt(partyStateCode) == parseInt(firmStateCode)) {\n+          if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n+            div += `<tr>    \n+              <td style=\"text-align:right;width:100%;\"colspan=\"3\">CGST @ `+ BLS[i].VTRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n+              </tr>\n+              `;\n+          }\n+          if (BLS[i].ADVTRT != null && parseInt(BLS[i].ADVTRT) != 0) {\n+            div += `<tr>    \n+              <td style=\"text-align:right;width:100%;\" colspan=\"3\">SGST @ `+ BLS[i].ADRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].ADAMT) + `</td>\n+              </tr>\n+              `;\n+          }\n+        } else {\n+          if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n+            div += `<tr>    \n+              <td style=\"text-align:right;width:100%;\" colspan=\"3\">IGST @ `+ getValueNotDefine(BLS[i].VTRT) + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` =  ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n+              </tr>\n+              `;\n+          }\n+        }\n+      }\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"font-weight:bold;font-size:15px;\">    \n+      <td style=\"text-align:left;\">REMARK:  `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      <td style=\"text-align:left;\"> </td>\n+      <td align=\"right\">NET AMOUNT </td>\n+      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      \n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"2\"></td>\n+      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+      \n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\">TERMS</td>\n+      </tr>\n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n+      </tr>\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637303252433,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,383 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      if (ACTYPE != \"AGENCY\") {\n+        MainFirmName = firmArray[0].FIRM;\n+        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      } else {\n+        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+        if (SuppArray.length > 0) {\n+          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n+          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:33%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA +=BA;\n+          totalAD +=AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>    \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <hr class=\"pdfhr\">\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      if (getValueNotDefineNo(BLS[i].aia) != 0) {\n+        div += `\n+          <tr>\n+           <td style=\"text-align:right;width:100%;\"colspan=\"3\">INSURANCE ADD : `+ valuetoFixed(BLS[i].aia) + `</td>\n+          </tr>\n+        `;\n+      }\n+      if (getValueNotDefineNo(BLS[i].AA1) != 0) {\n+        div += `\n+          <tr>\n+           <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL ADD : `+ valuetoFixed(BLS[i].AA1) + `</td>\n+          </tr>\n+        `;\n+      }\n+\n+      if (getValueNotDefineNo(BLS[i].O_LS) != 0) {\n+        div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL LESS : `+ valuetoFixed(BLS[i].O_LS) + `</td>\n+          </tr>\n+        `;\n+      }\n+      if (getValueNotDefineNo(BLS[i].LA1RT) != 0) {\n+        div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n+         `+ getValueNotDefine(BLS[i].LA1RMK) + ` \n+         `+ valuetoFixed(BLS[i].GAMT) + ` X \n+         <strong>`+ BLS[i].LA1RT + ` % </strong> \n+         `+ BLS[i].LA1AMT + ` \n+        </td>\n+          </tr>\n+        `;\n+      }\n+      if (getValueNotDefineNo(BLS[i].LA2RT) != 0) {\n+        div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n+         `+ getValueNotDefine(BLS[i].LA2RMK) + ` \n+         `+ BLS[i].LA2qty + ` X \n+         <strong>`+ BLS[i].LA2RT + ` % </strong> \n+         `+ BLS[i].LA2AMT + ` \n+        </td>\n+          </tr>\n+        `;\n+      }\n+      if (getValueNotDefineNo(BLS[i].LA3RT) != 0) {\n+        div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n+         `+ getValueNotDefine(BLS[i].LA3RMK) + ` \n+         `+ BLS[i].LA3qty + ` X \n+         <strong>`+ BLS[i].LA3RT + ` % </strong> \n+         `+ BLS[i].LA3AMT + ` \n+        </td>\n+          </tr>\n+        `;\n+      }\n+      if (parseInt(BLS[i].VTAMT) != 0) {\n+        // console.log(partyStateCode, firmStateCode);\n+        if (parseInt(partyStateCode) == parseInt(firmStateCode)) {\n+          if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n+            div += `<tr>    \n+              <td style=\"text-align:right;width:100%;\"colspan=\"3\">CGST @ `+ BLS[i].VTRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n+              </tr>\n+              `;\n+          }\n+          if (BLS[i].ADVTRT != null && parseInt(BLS[i].ADVTRT) != 0) {\n+            div += `<tr>    \n+              <td style=\"text-align:right;width:100%;\" colspan=\"3\">SGST @ `+ BLS[i].ADRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].ADAMT) + `</td>\n+              </tr>\n+              `;\n+          }\n+        } else {\n+          if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n+            div += `<tr>    \n+              <td style=\"text-align:right;width:100%;\" colspan=\"3\">IGST @ `+ getValueNotDefine(BLS[i].VTRT) + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` =  ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n+              </tr>\n+              `;\n+          }\n+        }\n+      }\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"font-weight:bold;font-size:15px;\">    \n+      <td style=\"text-align:left;\">REMARK:  `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      <td style=\"text-align:left;\"> </td>\n+      <td align=\"right\">NET AMOUNT </td>\n+      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      \n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"2\"></td>\n+      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+      \n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\">TERMS</td>\n+      </tr>\n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n+      </tr>\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637303287312,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,383 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      if (ACTYPE != \"AGENCY\") {\n+        MainFirmName = firmArray[0].FIRM;\n+        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      } else {\n+        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+        if (SuppArray.length > 0) {\n+          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n+          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:33%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">|`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">|`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA +=BA;\n+          totalAD +=AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>    \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <hr class=\"pdfhr\">\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      if (getValueNotDefineNo(BLS[i].aia) != 0) {\n+        div += `\n+          <tr>\n+           <td style=\"text-align:right;width:100%;\"colspan=\"3\">INSURANCE ADD : `+ valuetoFixed(BLS[i].aia) + `</td>\n+          </tr>\n+        `;\n+      }\n+      if (getValueNotDefineNo(BLS[i].AA1) != 0) {\n+        div += `\n+          <tr>\n+           <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL ADD : `+ valuetoFixed(BLS[i].AA1) + `</td>\n+          </tr>\n+        `;\n+      }\n+\n+      if (getValueNotDefineNo(BLS[i].O_LS) != 0) {\n+        div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL LESS : `+ valuetoFixed(BLS[i].O_LS) + `</td>\n+          </tr>\n+        `;\n+      }\n+      if (getValueNotDefineNo(BLS[i].LA1RT) != 0) {\n+        div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n+         `+ getValueNotDefine(BLS[i].LA1RMK) + ` \n+         `+ valuetoFixed(BLS[i].GAMT) + ` X \n+         <strong>`+ BLS[i].LA1RT + ` % </strong> \n+         `+ BLS[i].LA1AMT + ` \n+        </td>\n+          </tr>\n+        `;\n+      }\n+      if (getValueNotDefineNo(BLS[i].LA2RT) != 0) {\n+        div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n+         `+ getValueNotDefine(BLS[i].LA2RMK) + ` \n+         `+ BLS[i].LA2qty + ` X \n+         <strong>`+ BLS[i].LA2RT + ` % </strong> \n+         `+ BLS[i].LA2AMT + ` \n+        </td>\n+          </tr>\n+        `;\n+      }\n+      if (getValueNotDefineNo(BLS[i].LA3RT) != 0) {\n+        div += `\n+          <tr>\n+        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n+         `+ getValueNotDefine(BLS[i].LA3RMK) + ` \n+         `+ BLS[i].LA3qty + ` X \n+         <strong>`+ BLS[i].LA3RT + ` % </strong> \n+         `+ BLS[i].LA3AMT + ` \n+        </td>\n+          </tr>\n+        `;\n+      }\n+      if (parseInt(BLS[i].VTAMT) != 0) {\n+        // console.log(partyStateCode, firmStateCode);\n+        if (parseInt(partyStateCode) == parseInt(firmStateCode)) {\n+          if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n+            div += `<tr>    \n+              <td style=\"text-align:right;width:100%;\"colspan=\"3\">CGST @ `+ BLS[i].VTRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n+              </tr>\n+              `;\n+          }\n+          if (BLS[i].ADVTRT != null && parseInt(BLS[i].ADVTRT) != 0) {\n+            div += `<tr>    \n+              <td style=\"text-align:right;width:100%;\" colspan=\"3\">SGST @ `+ BLS[i].ADRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].ADAMT) + `</td>\n+              </tr>\n+              `;\n+          }\n+        } else {\n+          if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n+            div += `<tr>    \n+              <td style=\"text-align:right;width:100%;\" colspan=\"3\">IGST @ `+ getValueNotDefine(BLS[i].VTRT) + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` =  ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n+              </tr>\n+              `;\n+          }\n+        }\n+      }\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"font-weight:bold;font-size:15px;\">    \n+      <td style=\"text-align:left;\">REMARK:  `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      <td style=\"text-align:left;\"> </td>\n+      <td align=\"right\">NET AMOUNT </td>\n+      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      \n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"2\"></td>\n+      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+      \n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\">TERMS</td>\n+      </tr>\n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n+      </tr>\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637303349611,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,300 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      if (ACTYPE != \"AGENCY\") {\n+        MainFirmName = firmArray[0].FIRM;\n+        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      } else {\n+        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+        if (SuppArray.length > 0) {\n+          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n+          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:33%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA +=BA;\n+          totalAD +=AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>    \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <hr class=\"pdfhr\">\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"font-weight:bold;font-size:15px;\">    \n+      <td style=\"text-align:left;\">REMARK:  `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      <td style=\"text-align:left;\"> </td>\n+      <td align=\"right\">NET AMOUNT </td>\n+      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      \n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"2\"></td>\n+      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+      \n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\">TERMS</td>\n+      </tr>\n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n+      </tr>\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637303372691,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,299 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      if (ACTYPE != \"AGENCY\") {\n+        MainFirmName = firmArray[0].FIRM;\n+        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      } else {\n+        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+        if (SuppArray.length > 0) {\n+          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n+          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:33%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA +=BA;\n+          totalAD +=AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>    \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <hr class=\"pdfhr\">\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"font-weight:bold;font-size:15px;\">    \n+      <td style=\"text-align:left;\">REMARK:  `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      <td align=\"right\">NET AMOUNT </td>\n+      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      \n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"2\"></td>\n+      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+      \n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\">TERMS</td>\n+      </tr>\n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n+      </tr>\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637303382758,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,298 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      if (ACTYPE != \"AGENCY\") {\n+        MainFirmName = firmArray[0].FIRM;\n+        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      } else {\n+        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+        if (SuppArray.length > 0) {\n+          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n+          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:33%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA +=BA;\n+          totalAD +=AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>    \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <hr class=\"pdfhr\">\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <td style=\"text-align:left;\">REMARK:  `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      <td align=\"right\">NET AMOUNT </td>\n+      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      \n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"2\"></td>\n+      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+      \n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\">TERMS</td>\n+      </tr>\n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n+      </tr>\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637303400560,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,298 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      if (ACTYPE != \"AGENCY\") {\n+        MainFirmName = firmArray[0].FIRM;\n+        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      } else {\n+        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+        if (SuppArray.length > 0) {\n+          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n+          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:33%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA +=BA;\n+          totalAD +=AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>    \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <hr class=\"pdfhr\">\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      <td align=\"right\">NET AMOUNT </td>\n+      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      \n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"2\"></td>\n+      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+      \n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\">TERMS</td>\n+      </tr>\n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n+      </tr>\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637303408253,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,298 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      if (ACTYPE != \"AGENCY\") {\n+        MainFirmName = firmArray[0].FIRM;\n+        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      } else {\n+        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+        if (SuppArray.length > 0) {\n+          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n+          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:33%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA +=BA;\n+          totalAD +=AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>    \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <hr class=\"pdfhr\">\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].CHQ) + `</td>\n+      <td align=\"right\">NET AMOUNT </td>\n+      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      \n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"2\"></td>\n+      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+      \n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\">TERMS</td>\n+      </tr>\n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n+      </tr>\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637303438821,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,298 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      if (ACTYPE != \"AGENCY\") {\n+        MainFirmName = firmArray[0].FIRM;\n+        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      } else {\n+        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+        if (SuppArray.length > 0) {\n+          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n+          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:33%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA +=BA;\n+          totalAD +=AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>    \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <hr class=\"pdfhr\">\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n+      <td align=\"right\">NET AMOUNT </td>\n+      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      \n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"2\"></td>\n+      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+      \n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\">TERMS</td>\n+      </tr>\n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n+      </tr>\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637303642067,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,298 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      if (ACTYPE != \"AGENCY\") {\n+        MainFirmName = firmArray[0].FIRM;\n+        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      } else {\n+        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+        if (SuppArray.length > 0) {\n+          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n+          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:33%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA +=BA;\n+          totalAD +=AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>    \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <hr class=\"pdfhr\">\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n+      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      \n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"2\"></td>\n+      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+      \n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\">TERMS</td>\n+      </tr>\n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n+      </tr>\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637303683045,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,298 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      if (ACTYPE != \"AGENCY\") {\n+        MainFirmName = firmArray[0].FIRM;\n+        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      } else {\n+        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+        if (SuppArray.length > 0) {\n+          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n+          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:33%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA +=BA;\n+          totalAD +=AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>    \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <hr class=\"pdfhr\">\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n+      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      <td style=\"text-align:LEFT;\"> `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      \n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"2\"></td>\n+      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+      \n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\">TERMS</td>\n+      </tr>\n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n+      </tr>\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637303754383,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,298 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      if (ACTYPE != \"AGENCY\") {\n+        MainFirmName = firmArray[0].FIRM;\n+        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      } else {\n+        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+        if (SuppArray.length > 0) {\n+          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n+          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:33%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA +=BA;\n+          totalAD +=AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>    \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <hr class=\"pdfhr\">\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n+      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      \n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"2\"></td>\n+      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+      \n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\">TERMS</td>\n+      </tr>\n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n+      </tr>\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637303768058,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,299 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      if (ACTYPE != \"AGENCY\") {\n+        MainFirmName = firmArray[0].FIRM;\n+        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      } else {\n+        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+        if (SuppArray.length > 0) {\n+          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n+          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:33%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA +=BA;\n+          totalAD +=AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>    \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <hr class=\"pdfhr\">\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      <tr>\n+\n+      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n+      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      \n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"2\"></td>\n+      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+      \n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\">TERMS</td>\n+      </tr>\n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n+      </tr>\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637303797203,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,297 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      if (ACTYPE != \"AGENCY\") {\n+        MainFirmName = firmArray[0].FIRM;\n+        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      } else {\n+        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+        if (SuppArray.length > 0) {\n+          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n+          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:33%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA +=BA;\n+          totalAD +=AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>    \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      <tr>\n+      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n+      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      \n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"2\"></td>\n+      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+      \n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\">TERMS</td>\n+      </tr>\n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n+      </tr>\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637303810921,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,299 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      if (ACTYPE != \"AGENCY\") {\n+        MainFirmName = firmArray[0].FIRM;\n+        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      } else {\n+        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+        if (SuppArray.length > 0) {\n+          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n+          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:33%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA +=BA;\n+          totalAD +=AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+        \n+    <hr class=\"pdfhr\"> \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      <tr>\n+      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n+      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      \n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"2\"></td>\n+      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+      \n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\">TERMS</td>\n+      </tr>\n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n+      </tr>\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637303837612,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,298 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      if (ACTYPE != \"AGENCY\") {\n+        MainFirmName = firmArray[0].FIRM;\n+        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      } else {\n+        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+        if (SuppArray.length > 0) {\n+          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n+          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:33%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA +=BA;\n+          totalAD +=AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      <tr STYLE=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n+      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      \n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"2\"></td>\n+      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+      \n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\">TERMS</td>\n+      </tr>\n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n+      </tr>\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637303861218,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,293 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      if (ACTYPE != \"AGENCY\") {\n+        MainFirmName = firmArray[0].FIRM;\n+        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      } else {\n+        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+        if (SuppArray.length > 0) {\n+          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n+          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:33%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA +=BA;\n+          totalAD +=AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      <tr STYLE=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n+      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"2\"></td>\n+      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+      \n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\">TERMS</td>\n+      </tr>\n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n+      </tr>\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637303880656,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,292 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      if (ACTYPE != \"AGENCY\") {\n+        MainFirmName = firmArray[0].FIRM;\n+        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      } else {\n+        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+        if (SuppArray.length > 0) {\n+          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n+          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:33%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA +=BA;\n+          totalAD +=AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      <tr STYLE=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n+      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ MainFirmName + `</td>\n+      </tr>\n+\n+      \n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\">TERMS</td>\n+      </tr>\n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n+      </tr>\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637303893520,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,292 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      if (ACTYPE != \"AGENCY\") {\n+        MainFirmName = firmArray[0].FIRM;\n+        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      } else {\n+        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+        if (SuppArray.length > 0) {\n+          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n+          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:33%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA +=BA;\n+          totalAD +=AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      <tr STYLE=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n+      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      </tr>\n+\n+      \n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\">TERMS</td>\n+      </tr>\n+      <tr class=\"upperCase \">\n+      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n+      </tr>\n+      \n+      <tr class=\"upperCase\">\n+      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n+      </tr>\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637303918632,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,277 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      if (ACTYPE != \"AGENCY\") {\n+        MainFirmName = firmArray[0].FIRM;\n+        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      } else {\n+        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+        if (SuppArray.length > 0) {\n+          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n+          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:33%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA +=BA;\n+          totalAD +=AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      <tr STYLE=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n+      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      </tr>\n+      \n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637304002841,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,287 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      if (ACTYPE != \"AGENCY\") {\n+        MainFirmName = firmArray[0].FIRM;\n+        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      } else {\n+        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+        if (SuppArray.length > 0) {\n+          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n+          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:33%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA +=BA;\n+          totalAD +=AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+\n+      <tr STYLE=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n+      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      </tr>\n+      \n+\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td align=\"right\"> FOR</td>\n+      <td style=\"text-align:LEFT;\">`+MainFirmName+`</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637304018351,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,287 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      if (ACTYPE != \"AGENCY\") {\n+        MainFirmName = firmArray[0].FIRM;\n+        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      } else {\n+        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+        if (SuppArray.length > 0) {\n+          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n+          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:33%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA +=BA;\n+          totalAD +=AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+\n+      <tr STYLE=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n+      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      </tr>\n+      \n+\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td align=\"right\"> FOR</td>\n+      <td style=\"text-align:RIGHT;\">`+MainFirmName+`</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637304023719,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,287 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      if (ACTYPE != \"AGENCY\") {\n+        MainFirmName = firmArray[0].FIRM;\n+        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      } else {\n+        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+        if (SuppArray.length > 0) {\n+          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n+          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:33%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA +=BA;\n+          totalAD +=AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+\n+      <tr STYLE=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n+      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      </tr>\n+      \n+\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td align=\"CENTER\"> FOR</td>\n+      <td style=\"text-align:RIGHT;\">`+MainFirmName+`</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637304042197,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,287 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      if (ACTYPE != \"AGENCY\") {\n+        MainFirmName = firmArray[0].FIRM;\n+        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      } else {\n+        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+        if (SuppArray.length > 0) {\n+          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n+          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:33%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA +=BA;\n+          totalAD +=AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+\n+      <tr STYLE=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n+      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      </tr>\n+      \n+\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> FOR</td>\n+      <td style=\"text-align:RIGHT;\">`+MainFirmName+`</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637304054031,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,287 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      if (ACTYPE != \"AGENCY\") {\n+        MainFirmName = firmArray[0].FIRM;\n+        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      } else {\n+        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+        if (SuppArray.length > 0) {\n+          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n+          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:33%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA +=BA;\n+          totalAD +=AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+\n+      <tr STYLE=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n+      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      </tr>\n+      \n+\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;\">FOR`+MainFirmName+`</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637304067613,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,287 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      if (ACTYPE != \"AGENCY\") {\n+        MainFirmName = firmArray[0].FIRM;\n+        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      } else {\n+        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+        if (SuppArray.length > 0) {\n+          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n+          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:33%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA +=BA;\n+          totalAD +=AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+\n+      <tr STYLE=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n+      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      </tr>\n+      \n+\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+MainFirmName+`</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637304088438,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,287 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      if (ACTYPE != \"AGENCY\") {\n+        MainFirmName = firmArray[0].FIRM;\n+        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      } else {\n+        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+        if (SuppArray.length > 0) {\n+          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n+          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:25%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA +=BA;\n+          totalAD +=AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+\n+      <tr STYLE=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n+      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      </tr>\n+      \n+\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+MainFirmName+`</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637304222709,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,287 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      if (ACTYPE != \"AGENCY\") {\n+        MainFirmName = firmArray[0].FIRM;\n+        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      } else {\n+        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+        if (SuppArray.length > 0) {\n+          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n+          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:22%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA +=BA;\n+          totalAD +=AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+\n+      <tr STYLE=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n+      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      </tr>\n+      \n+\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+MainFirmName+`</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637304231200,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,287 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      if (ACTYPE != \"AGENCY\") {\n+        MainFirmName = firmArray[0].FIRM;\n+        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      } else {\n+        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+        if (SuppArray.length > 0) {\n+          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n+          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:21%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA +=BA;\n+          totalAD +=AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+\n+      <tr STYLE=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n+      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      </tr>\n+      \n+\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+MainFirmName+`</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637304296138,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,288 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      if (ACTYPE != \"AGENCY\") {\n+        MainFirmName = firmArray[0].FIRM;\n+        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      } else {\n+        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+        if (SuppArray.length > 0) {\n+          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n+          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      document.title=BLS[i].VNO;\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:20%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA +=BA;\n+          totalAD +=AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+\n+      <tr STYLE=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n+      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      </tr>\n+      \n+\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+MainFirmName+`</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637304314262,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,288 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      if (ACTYPE != \"AGENCY\") {\n+        MainFirmName = firmArray[0].FIRM;\n+        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      } else {\n+        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+        if (SuppArray.length > 0) {\n+          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n+          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      document.title=BLS[i].VNO;\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:20%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA +=BA;\n+          totalAD +=AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+\n+      <tr STYLE=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n+      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      </tr>\n+      \n+\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+MainFirmName+`</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637305147139,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,293 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      if (ACTYPE != \"AGENCY\") {\n+        MainFirmName = firmArray[0].FIRM;\n+        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      } else {\n+        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+        if (SuppArray.length > 0) {\n+          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n+          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      document.title=BLS[i].VNO;\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+BLS[i].VNO+`</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:20%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA +=BA;\n+          totalAD +=AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+\n+      <tr STYLE=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n+      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      </tr>\n+      \n+\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+MainFirmName+`</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637305240085,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,293 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      if (ACTYPE != \"AGENCY\") {\n+        MainFirmName = firmArray[0].FIRM;\n+        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      } else {\n+        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+        if (SuppArray.length > 0) {\n+          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n+          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      document.title=BLS[i].VNO;\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+BLS[i].VNO+`</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">FROM : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ MainFirmName + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:20%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA +=BA;\n+          totalAD +=AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+\n+      <tr STYLE=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n+      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      </tr>\n+      \n+\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+MainFirmName+`</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637305257213,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,293 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      if (ACTYPE != \"AGENCY\") {\n+        MainFirmName = firmArray[0].FIRM;\n+        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      } else {\n+        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+        if (SuppArray.length > 0) {\n+          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n+          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      document.title=BLS[i].VNO;\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+BLS[i].VNO+`</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">FROM : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  TO  : `+ MainFirmName + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:20%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA +=BA;\n+          totalAD +=AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+\n+      <tr STYLE=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n+      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      </tr>\n+      \n+\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+MainFirmName+`</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637305291209,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,299 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      if (ACTYPE != \"AGENCY\") {\n+        MainFirmName = firmArray[0].FIRM;\n+        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      } else {\n+        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+        if (SuppArray.length > 0) {\n+          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n+          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      document.title=BLS[i].VNO;\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+BLS[i].VNO+`</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> : `+ city + `</td>\n+      <td style=\"text-align:left;\">  TO  : `+ MainFirmName + `  </td>\n+      </tr>\n+      \n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">FROM : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  TO  : `+ MainFirmName + `  </td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:20%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA +=BA;\n+          totalAD +=AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+\n+      <tr STYLE=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n+      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      </tr>\n+      \n+\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+MainFirmName+`</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637305325245,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,299 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      if (ACTYPE != \"AGENCY\") {\n+        MainFirmName = firmArray[0].FIRM;\n+        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      } else {\n+        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+        if (SuppArray.length > 0) {\n+          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n+          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      document.title=BLS[i].VNO;\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+BLS[i].VNO+`</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> : `+ city + `</td>\n+      <td style=\"text-align:left;\">  TO  : `+ MainFirmName + `  </td>\n+      </tr>\n+      \n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">city : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">    </td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:20%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA +=BA;\n+          totalAD +=AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+\n+      <tr STYLE=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n+      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      </tr>\n+      \n+\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+MainFirmName+`</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637305338670,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,299 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      if (ACTYPE != \"AGENCY\") {\n+        MainFirmName = firmArray[0].FIRM;\n+        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      } else {\n+        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+        if (SuppArray.length > 0) {\n+          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n+          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      document.title=BLS[i].VNO;\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+BLS[i].VNO+`</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> CITY: `+ city + `</td>\n+      <td style=\"text-align:left;\">  TO  : `+ MainFirmName + `  </td>\n+      </tr>\n+      \n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">city : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">    </td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:20%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA +=BA;\n+          totalAD +=AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+\n+      <tr STYLE=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n+      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      </tr>\n+      \n+\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+MainFirmName+`</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637305348971,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,299 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      if (ACTYPE != \"AGENCY\") {\n+        MainFirmName = firmArray[0].FIRM;\n+        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      } else {\n+        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+        if (SuppArray.length > 0) {\n+          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n+          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      document.title=BLS[i].VNO;\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+BLS[i].VNO+`</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> CITY: `+ city + `</td>\n+      <td style=\"text-align:left;\">  TO  : `+ MainFirmName + `  </td>\n+      </tr>\n+      \n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\">city : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">    </td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:20%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA +=BA;\n+          totalAD +=AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+\n+      <tr STYLE=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n+      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      </tr>\n+      \n+\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+MainFirmName+`</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637305411184,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,296 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      MainFirmName = firmArray[0].FIRM;\n+      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+      if (SuppArray.length > 0) {\n+        SuppADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+        SuppADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+        SuppADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+        SuppADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n+        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n+      }\n+      console.log(BLS[i].DT)\n+      document.title = BLS[i].VNO;\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> CITY: `+ city + `</td>\n+      <td style=\"text-align:left;\">  TO  : `+ MainFirmName + `  </td>\n+      </tr>\n+      \n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\">city : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">    </td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:20%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA += BA;\n+          totalAD += AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+\n+      <tr STYLE=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n+      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      </tr>\n+      \n+\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637305445546,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,303 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      MainFirmName = firmArray[0].FIRM;\n+      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+      var SuppADD1=\"\";\n+      var SuppADD2=\"\";\n+      var SuppADD3=\"\";\n+      var SuppADD4=\"\";\n+      var SuppCITY=\"\";\n+      var SuppCOMPANY_GSTIN=\"\";\n+      var SuppPANNO=\"\";\n+      if (SuppArray.length > 0) {\n+        SuppADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+        SuppADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+        SuppADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+        SuppADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n+        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n+      }\n+      console.log(BLS[i].DT)\n+      document.title = BLS[i].VNO;\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> CITY: `+ city + `</td>\n+      <td style=\"text-align:left;\">  TO  : `+ MainFirmName + `  </td>\n+      </tr>\n+      \n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\">city : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">    </td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:20%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA += BA;\n+          totalAD += AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+\n+      <tr STYLE=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n+      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      </tr>\n+      \n+\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637305488951,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,305 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      MainFirmName = firmArray[0].FIRM;\n+      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+      var SuppName=\"\";\n+      var SuppADD1=\"\";\n+      var SuppADD2=\"\";\n+      var SuppADD3=\"\";\n+      var SuppADD4=\"\";\n+      var SuppCITY=\"\";\n+      var SuppCOMPANY_GSTIN=\"\";\n+      var SuppPANNO=\"\";\n+      if (SuppArray.length > 0) {\n+        SuppName = getValueNotDefine(SuppArray[0].ccd);\n+        SuppADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+        SuppADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+        SuppADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+        SuppADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n+        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n+      }\n+      console.log(BLS[i].DT)\n+      document.title = BLS[i].VNO;\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> CITY: `+ city + `</td>\n+      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n+      </tr>\n+      \n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\">city : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">    </td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:20%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA += BA;\n+          totalAD += AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+\n+      <tr STYLE=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n+      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      </tr>\n+      \n+\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637305551332,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,305 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      MainFirmName = firmArray[0].FIRM;\n+      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+      var SuppName=\"\";\n+      var SuppADD1=\"\";\n+      var SuppADD2=\"\";\n+      var SuppADD3=\"\";\n+      var SuppADD4=\"\";\n+      var SuppCITY=\"\";\n+      var SuppCOMPANY_GSTIN=\"\";\n+      var SuppPANNO=\"\";\n+      if (SuppArray.length > 0) {\n+        SuppName = getValueNotDefine(SuppArray[0].ccd);\n+        SuppADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+        SuppADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+        SuppADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+        SuppADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n+        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n+      }\n+      console.log(BLS[i].DT)\n+      document.title = BLS[i].VNO;\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n+      </tr>\n+      \n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\">city : `+ pcode + `</td>\n+      <td style=\"text-align:left;\">    </td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:20%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA += BA;\n+          totalAD += AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+\n+      <tr STYLE=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n+      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      </tr>\n+      \n+\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637305566275,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,305 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      MainFirmName = firmArray[0].FIRM;\n+      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+      var SuppName=\"\";\n+      var SuppADD1=\"\";\n+      var SuppADD2=\"\";\n+      var SuppADD3=\"\";\n+      var SuppADD4=\"\";\n+      var SuppCITY=\"\";\n+      var SuppCOMPANY_GSTIN=\"\";\n+      var SuppPANNO=\"\";\n+      if (SuppArray.length > 0) {\n+        SuppName = getValueNotDefine(SuppArray[0].ccd);\n+        SuppADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+        SuppADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+        SuppADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+        SuppADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n+        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n+      }\n+      console.log(BLS[i].DT)\n+      document.title = BLS[i].VNO;\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n+      </tr>\n+      \n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n+      <td style=\"text-align:left;\">    </td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:20%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA += BA;\n+          totalAD += AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+\n+      <tr STYLE=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n+      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      </tr>\n+      \n+\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637305600843,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,305 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      MainFirmName = firmArray[0].FIRM;\n+      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+      var SuppName=\"\";\n+      var SuppADD1=\"\";\n+      var SuppADD2=\"\";\n+      var SuppADD3=\"\";\n+      var SuppADD4=\"\";\n+      var SuppCITY=\"\";\n+      var SuppCOMPANY_GSTIN=\"\";\n+      var SuppPANNO=\"\";\n+      if (SuppArray.length > 0) {\n+        SuppName = getValueNotDefine(SuppArray[0].partyname);\n+        SuppADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+        SuppADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+        SuppADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+        SuppADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n+        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n+      }\n+      console.log(BLS[i].DT)\n+      document.title = BLS[i].VNO;\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n+      </tr>\n+      \n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n+      <td style=\"text-align:left;\">    </td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:20%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA += BA;\n+          totalAD += AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+\n+      <tr STYLE=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n+      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      </tr>\n+      \n+\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637305616027,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,306 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      MainFirmName = firmArray[0].FIRM;\n+      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+      var SuppName=\"\";\n+      var SuppADD1=\"\";\n+      var SuppADD2=\"\";\n+      var SuppADD3=\"\";\n+      var SuppADD4=\"\";\n+      var SuppCITY=\"\";\n+      var SuppCOMPANY_GSTIN=\"\";\n+      var SuppPANNO=\"\";\n+      console.log(SuppArray)\n+      if (SuppArray.length > 0) {\n+        SuppName = getValueNotDefine(SuppArray[0].partyname);\n+        SuppADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+        SuppADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+        SuppADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+        SuppADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n+        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n+      }\n+      console.log(BLS[i].DT)\n+      document.title = BLS[i].VNO;\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n+      </tr>\n+      \n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n+      <td style=\"text-align:left;\">    </td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:20%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA += BA;\n+          totalAD += AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+\n+      <tr STYLE=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n+      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      </tr>\n+      \n+\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637305643170,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,306 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      MainFirmName = firmArray[0].FIRM;\n+      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+      var SuppName=\"\";\n+      var SuppADD1=\"\";\n+      var SuppADD2=\"\";\n+      var SuppADD3=\"\";\n+      var SuppADD4=\"\";\n+      var SuppCITY=\"\";\n+      var SuppCOMPANY_GSTIN=\"\";\n+      var SuppPANNO=\"\";\n+      console.log(SuppArray,BLS[i].ccd)\n+      if (SuppArray.length > 0) {\n+        SuppName = getValueNotDefine(SuppArray[0].partyname);\n+        SuppADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+        SuppADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+        SuppADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+        SuppADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n+        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n+      }\n+      console.log(BLS[i].DT)\n+      document.title = BLS[i].VNO;\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n+      </tr>\n+      \n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n+      <td style=\"text-align:left;\">    </td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:20%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA += BA;\n+          totalAD += AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+\n+      <tr STYLE=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n+      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      </tr>\n+      \n+\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637305674009,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,306 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      MainFirmName = firmArray[0].FIRM;\n+      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n+      var SuppName=\"\";\n+      var SuppADD1=\"\";\n+      var SuppADD2=\"\";\n+      var SuppADD3=\"\";\n+      var SuppADD4=\"\";\n+      var SuppCITY=\"\";\n+      var SuppCOMPANY_GSTIN=\"\";\n+      var SuppPANNO=\"\";\n+      console.log(SuppArray,BLS[i].RFCD)\n+      if (SuppArray.length > 0) {\n+        SuppName = getValueNotDefine(SuppArray[0].partyname);\n+        SuppADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+        SuppADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+        SuppADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+        SuppADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n+        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n+      }\n+      console.log(BLS[i].DT)\n+      document.title = BLS[i].VNO;\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n+      </tr>\n+      \n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n+      <td style=\"text-align:left;\">    </td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:20%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA += BA;\n+          totalAD += AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+\n+      <tr STYLE=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n+      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      </tr>\n+      \n+\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637305683940,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,306 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      MainFirmName = firmArray[0].FIRM;\n+      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n+      var SuppName=\"\";\n+      var SuppADD1=\"\";\n+      var SuppADD2=\"\";\n+      var SuppADD3=\"\";\n+      var SuppADD4=\"\";\n+      var SuppCITY=\"\";\n+      var SuppCOMPANY_GSTIN=\"\";\n+      var SuppPANNO=\"\";\n+      console.log(SuppArray,BLS[i].ccd)\n+      if (SuppArray.length > 0) {\n+        SuppName = getValueNotDefine(SuppArray[0].partyname);\n+        SuppADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+        SuppADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+        SuppADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+        SuppADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n+        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n+      }\n+      console.log(BLS[i].DT)\n+      document.title = BLS[i].VNO;\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n+      </tr>\n+      \n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n+      <td style=\"text-align:left;\">    </td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:20%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA += BA;\n+          totalAD += AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+\n+      <tr STYLE=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n+      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      </tr>\n+      \n+\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637305729603,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,306 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      MainFirmName = firmArray[0].FIRM;\n+      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n+      var SuppName=\"\";\n+      var SuppADD1=\"\";\n+      var SuppADD2=\"\";\n+      var SuppADD3=\"\";\n+      var SuppADD4=\"\";\n+      var SuppCITY=\"\";\n+      var SuppCOMPANY_GSTIN=\"\";\n+      var SuppPANNO=\"\";\n+      console.log(SuppArray,BLS[i].ccd)\n+      if (SuppArray.length > 0) {\n+        SuppName = getValueNotDefine(SuppArray[0].partyname);\n+        SuppADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n+        SuppADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n+        SuppADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n+        SuppADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n+        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n+        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n+      }\n+      console.log(BLS[i].DT)\n+      document.title = BLS[i].VNO;\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n+      </tr>\n+      \n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n+      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:20%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA += BA;\n+          totalAD += AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+\n+      <tr STYLE=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n+      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      </tr>\n+      \n+\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637305745999,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,306 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      MainFirmName = firmArray[0].FIRM;\n+      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n+      var SuppName=\"\";\n+      var SuppADD1=\"\";\n+      var SuppADD2=\"\";\n+      var SuppADD3=\"\";\n+      var SuppADD4=\"\";\n+      var SuppCITY=\"\";\n+      var SuppCOMPANY_GSTIN=\"\";\n+      var SuppPANNO=\"\";\n+      console.log(SuppArray,BLS[i].ccd)\n+      if (SuppArray.length > 0) {\n+        SuppName = getValueNotDefine(SuppArray[0].partyname);\n+        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n+        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n+        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n+        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n+        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n+        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n+      }\n+      console.log(BLS[i].DT)\n+      document.title = BLS[i].VNO;\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n+      </tr>\n+      \n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n+      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:20%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA += BA;\n+          totalAD += AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+\n+      <tr STYLE=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n+      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      </tr>\n+      \n+\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637305781888,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,306 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      MainFirmName = firmArray[0].FIRM;\n+      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n+      var SuppName=\"\";\n+      var SuppADD1=\"\";\n+      var SuppADD2=\"\";\n+      var SuppADD3=\"\";\n+      var SuppADD4=\"\";\n+      var SuppCITY=\"\";\n+      var SuppCOMPANY_GSTIN=\"\";\n+      var SuppPANNO=\"\";\n+      console.log(SuppArray,BLS[i].ccd)\n+      if (SuppArray.length > 0) {\n+        SuppName = getValueNotDefine(SuppArray[0].partyname);\n+        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n+        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n+        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n+        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n+        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n+        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n+      }\n+      console.log(BLS[i].DT)\n+      document.title = BLS[i].VNO;\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n+      </tr>\n+      \n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n+      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">VOUCHER NO:  `+ SuppADD2 + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:20%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA += BA;\n+          totalAD += AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+\n+      <tr STYLE=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n+      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      </tr>\n+      \n+\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637305788081,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,306 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      MainFirmName = firmArray[0].FIRM;\n+      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n+      var SuppName=\"\";\n+      var SuppADD1=\"\";\n+      var SuppADD2=\"\";\n+      var SuppADD3=\"\";\n+      var SuppADD4=\"\";\n+      var SuppCITY=\"\";\n+      var SuppCOMPANY_GSTIN=\"\";\n+      var SuppPANNO=\"\";\n+      console.log(SuppArray,BLS[i].ccd)\n+      if (SuppArray.length > 0) {\n+        SuppName = getValueNotDefine(SuppArray[0].partyname);\n+        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n+        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n+        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n+        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n+        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n+        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n+      }\n+      console.log(BLS[i].DT)\n+      document.title = BLS[i].VNO;\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n+      </tr>\n+      \n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n+      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\"> `+ SuppADD2 + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:20%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA += BA;\n+          totalAD += AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+\n+      <tr STYLE=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n+      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      </tr>\n+      \n+\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637305802488,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,306 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      MainFirmName = firmArray[0].FIRM;\n+      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n+      var SuppName=\"\";\n+      var SuppADD1=\"\";\n+      var SuppADD2=\"\";\n+      var SuppADD3=\"\";\n+      var SuppADD4=\"\";\n+      var SuppCITY=\"\";\n+      var SuppCOMPANY_GSTIN=\"\";\n+      var SuppPANNO=\"\";\n+      console.log(SuppArray,BLS[i].ccd)\n+      if (SuppArray.length > 0) {\n+        SuppName = getValueNotDefine(SuppArray[0].partyname);\n+        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n+        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n+        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n+        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n+        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n+        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n+      }\n+      console.log(BLS[i].DT)\n+      document.title = BLS[i].VNO;\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n+      </tr>\n+      \n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n+      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\"> `+ SuppADD2 + ``+SuppCITY+`</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:20%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA += BA;\n+          totalAD += AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+\n+      <tr STYLE=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n+      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      </tr>\n+      \n+\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637305807943,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,306 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      MainFirmName = firmArray[0].FIRM;\n+      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n+      var SuppName=\"\";\n+      var SuppADD1=\"\";\n+      var SuppADD2=\"\";\n+      var SuppADD3=\"\";\n+      var SuppADD4=\"\";\n+      var SuppCITY=\"\";\n+      var SuppCOMPANY_GSTIN=\"\";\n+      var SuppPANNO=\"\";\n+      console.log(SuppArray,BLS[i].ccd)\n+      if (SuppArray.length > 0) {\n+        SuppName = getValueNotDefine(SuppArray[0].partyname);\n+        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n+        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n+        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n+        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n+        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n+        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n+      }\n+      console.log(BLS[i].DT)\n+      document.title = BLS[i].VNO;\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n+      </tr>\n+      \n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n+      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\"> `+ SuppADD2 + ` ,`+SuppCITY+`</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:20%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA += BA;\n+          totalAD += AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+\n+      <tr STYLE=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n+      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      </tr>\n+      \n+\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637305854100,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,305 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      MainFirmName = firmArray[0].FIRM;\n+      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n+      var SuppName=\"\";\n+      var SuppADD1=\"\";\n+      var SuppADD2=\"\";\n+      var SuppADD3=\"\";\n+      var SuppADD4=\"\";\n+      var SuppCITY=\"\";\n+      var SuppCOMPANY_GSTIN=\"\";\n+      var SuppPANNO=\"\";\n+      console.log(SuppArray,BLS[i].ccd)\n+      if (SuppArray.length > 0) {\n+        SuppName = getValueNotDefine(SuppArray[0].partyname);\n+        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n+        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n+        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n+        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n+        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n+        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n+      }\n+      console.log(BLS[i].DT)\n+      document.title = BLS[i].VNO;\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n+      </tr>\n+      \n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"> `+ SuppADD2 + ` ,`+SuppCITY+`</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:20%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA += BA;\n+          totalAD += AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+\n+      <tr STYLE=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n+      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      </tr>\n+      \n+\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637305885258,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,305 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      MainFirmName = firmArray[0].FIRM;\n+      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n+      var SuppName=\"\";\n+      var SuppADD1=\"\";\n+      var SuppADD2=\"\";\n+      var SuppADD3=\"\";\n+      var SuppADD4=\"\";\n+      var SuppCITY=\"\";\n+      var SuppCOMPANY_GSTIN=\"\";\n+      var SuppPANNO=\"\";\n+      console.log(SuppArray,BLS[i].ccd)\n+      if (SuppArray.length > 0) {\n+        SuppName = getValueNotDefine(SuppArray[0].partyname);\n+        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n+        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n+        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n+        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n+        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n+        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n+      }\n+      console.log(BLS[i].DT)\n+      document.title = BLS[i].VNO;\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n+      </tr>\n+      \n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"> `+ SuppADD2 + ` ,`+SuppCITY+`</td>\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>      \n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:20%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA += BA;\n+          totalAD += AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+\n+      <tr STYLE=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n+      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      </tr>\n+      \n+\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637305895869,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,305 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      MainFirmName = firmArray[0].FIRM;\n+      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n+      var SuppName=\"\";\n+      var SuppADD1=\"\";\n+      var SuppADD2=\"\";\n+      var SuppADD3=\"\";\n+      var SuppADD4=\"\";\n+      var SuppCITY=\"\";\n+      var SuppCOMPANY_GSTIN=\"\";\n+      var SuppPANNO=\"\";\n+      console.log(SuppArray,BLS[i].ccd)\n+      if (SuppArray.length > 0) {\n+        SuppName = getValueNotDefine(SuppArray[0].partyname);\n+        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n+        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n+        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n+        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n+        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n+        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n+      }\n+      console.log(BLS[i].DT)\n+      document.title = BLS[i].VNO;\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n+      </tr>\n+      \n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>      \n+      <td style=\"text-align:left;\"> `+ SuppADD2 + ` ,`+SuppCITY+`</td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:20%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA += BA;\n+          totalAD += AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+\n+      <tr STYLE=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n+      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      </tr>\n+      \n+\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637305922388,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,306 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      MainFirmName = firmArray[0].FIRM;\n+      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n+      var SuppName=\"\";\n+      var SuppADD1=\"\";\n+      var SuppADD2=\"\";\n+      var SuppADD3=\"\";\n+      var SuppADD4=\"\";\n+      var SuppCITY=\"\";\n+      var SuppCOMPANY_GSTIN=\"\";\n+      var SuppPANNO=\"\";\n+      console.log(SuppArray,BLS[i].ccd)\n+      if (SuppArray.length > 0) {\n+        SuppName = getValueNotDefine(SuppArray[0].partyname);\n+        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n+        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n+        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n+        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n+        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n+        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n+      }\n+      console.log(BLS[i].DT)\n+      document.title = BLS[i].VNO;\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n+      </tr>\n+      \n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n+      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\"> `+ SuppADD2 + ` ,`+SuppCITY+`</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:20%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA += BA;\n+          totalAD += AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+\n+      <tr STYLE=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n+      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      </tr>\n+      \n+\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637306040335,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,310 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      MainFirmName = firmArray[0].FIRM;\n+      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n+      var SuppName=\"\";\n+      var SuppADD1=\"\";\n+      var SuppADD2=\"\";\n+      var SuppADD3=\"\";\n+      var SuppADD4=\"\";\n+      var SuppCITY=\"\";\n+      var SuppCOMPANY_GSTIN=\"\";\n+      var SuppPANNO=\"\";\n+      var SuppMO=\"\";\n+      var SuppPH1=\"\";\n+      console.log(SuppArray,BLS[i].ccd)\n+      if (SuppArray.length > 0) {\n+        SuppName = getValueNotDefine(SuppArray[0].partyname);\n+        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n+        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n+        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n+        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n+        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n+        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        SuppMO = getValueNotDefine(SuppArray[0].MO);\n+        SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n+      }\n+      console.log(BLS[i].DT)\n+      document.title = BLS[i].VNO;\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n+      </tr>\n+      \n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n+      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\"> `+ SuppADD2 + ` ,`+SuppCITY+`</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\">PH: `+SuppMO+`,`+SuppPH1+`</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:20%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA += BA;\n+          totalAD += AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+\n+      <tr STYLE=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n+      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      </tr>\n+      \n+\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637306090177,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,310 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      MainFirmName = firmArray[0].FIRM;\n+      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n+      var SuppName=\"\";\n+      var SuppADD1=\"\";\n+      var SuppADD2=\"\";\n+      var SuppADD3=\"\";\n+      var SuppADD4=\"\";\n+      var SuppCITY=\"\";\n+      var SuppCOMPANY_GSTIN=\"\";\n+      var SuppPANNO=\"\";\n+      var SuppMO=\"\";\n+      var SuppPH1=\"\";\n+      console.log(SuppArray,BLS[i].ccd)\n+      if (SuppArray.length > 0) {\n+        SuppName = getValueNotDefine(SuppArray[0].partyname);\n+        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n+        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n+        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n+        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n+        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n+        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        SuppMO = getValueNotDefine(SuppArray[0].MO);\n+        SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n+      }\n+      console.log(BLS[i].DT)\n+      document.title = BLS[i].VNO;\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n+      </tr>\n+      \n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n+      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\"> `+ SuppADD2 + ` ,`+SuppCITY+`</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\">PH: `+SuppMO+`,`+SuppPH1+`</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> SUPPLIER GROUP : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:20%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA += BA;\n+          totalAD += AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+\n+      <tr STYLE=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n+      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n+      </tr>\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      </tr>\n+      \n+\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637306187092,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -92,8 +92,9 @@\n       var SuppCOMPANY_GSTIN=\"\";\n       var SuppPANNO=\"\";\n       var SuppMO=\"\";\n       var SuppPH1=\"\";\n+      var SuppGROUP=\"\";\n       console.log(SuppArray,BLS[i].ccd)\n       if (SuppArray.length > 0) {\n         SuppName = getValueNotDefine(SuppArray[0].partyname);\n         SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n@@ -104,8 +105,10 @@\n         SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n         SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n         SuppMO = getValueNotDefine(SuppArray[0].MO);\n         SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n+        SuppGROUP = getValueNotDefine(SuppArray[0].GCODE);\n+\n       }\n       console.log(BLS[i].DT)\n       document.title = BLS[i].VNO;\n       div += `\n@@ -307,24240 +310,4 @@\n   } catch (error) {\n     noteError(error);\n   }\n }\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      MainFirmName = firmArray[0].FIRM;\n-      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n-      var SuppName=\"\";\n-      var SuppADD1=\"\";\n-      var SuppADD2=\"\";\n-      var SuppADD3=\"\";\n-      var SuppADD4=\"\";\n-      var SuppCITY=\"\";\n-      var SuppCOMPANY_GSTIN=\"\";\n-      var SuppPANNO=\"\";\n-      var SuppMO=\"\";\n-      var SuppPH1=\"\";\n-      console.log(SuppArray,BLS[i].ccd)\n-      if (SuppArray.length > 0) {\n-        SuppName = getValueNotDefine(SuppArray[0].partyname);\n-        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n-        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n-        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n-        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n-        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n-        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        SuppMO = getValueNotDefine(SuppArray[0].MO);\n-        SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n-      }\n-      console.log(BLS[i].DT)\n-      document.title = BLS[i].VNO;\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n-      </tr>\n-      \n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n-      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\"> `+ SuppADD2 + ` ,`+SuppCITY+`</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\">PH: `+SuppMO+`,`+SuppPH1+`</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:20%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA += BA;\n-          totalAD += AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-\n-      <tr STYLE=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n-      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      </tr>\n-      \n-\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      MainFirmName = firmArray[0].FIRM;\n-      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n-      var SuppName=\"\";\n-      var SuppADD1=\"\";\n-      var SuppADD2=\"\";\n-      var SuppADD3=\"\";\n-      var SuppADD4=\"\";\n-      var SuppCITY=\"\";\n-      var SuppCOMPANY_GSTIN=\"\";\n-      var SuppPANNO=\"\";\n-      console.log(SuppArray,BLS[i].ccd)\n-      if (SuppArray.length > 0) {\n-        SuppName = getValueNotDefine(SuppArray[0].partyname);\n-        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n-        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n-        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n-        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n-        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n-        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n-      }\n-      console.log(BLS[i].DT)\n-      document.title = BLS[i].VNO;\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n-      </tr>\n-      \n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n-      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\"> `+ SuppADD2 + ` ,`+SuppCITY+`</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:20%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA += BA;\n-          totalAD += AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-\n-      <tr STYLE=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n-      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      </tr>\n-      \n-\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      MainFirmName = firmArray[0].FIRM;\n-      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n-      var SuppName=\"\";\n-      var SuppADD1=\"\";\n-      var SuppADD2=\"\";\n-      var SuppADD3=\"\";\n-      var SuppADD4=\"\";\n-      var SuppCITY=\"\";\n-      var SuppCOMPANY_GSTIN=\"\";\n-      var SuppPANNO=\"\";\n-      console.log(SuppArray,BLS[i].ccd)\n-      if (SuppArray.length > 0) {\n-        SuppName = getValueNotDefine(SuppArray[0].partyname);\n-        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n-        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n-        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n-        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n-        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n-        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n-      }\n-      console.log(BLS[i].DT)\n-      document.title = BLS[i].VNO;\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n-      </tr>\n-      \n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>      \n-      <td style=\"text-align:left;\"> `+ SuppADD2 + ` ,`+SuppCITY+`</td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:20%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA += BA;\n-          totalAD += AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-\n-      <tr STYLE=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n-      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      </tr>\n-      \n-\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      MainFirmName = firmArray[0].FIRM;\n-      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n-      var SuppName=\"\";\n-      var SuppADD1=\"\";\n-      var SuppADD2=\"\";\n-      var SuppADD3=\"\";\n-      var SuppADD4=\"\";\n-      var SuppCITY=\"\";\n-      var SuppCOMPANY_GSTIN=\"\";\n-      var SuppPANNO=\"\";\n-      console.log(SuppArray,BLS[i].ccd)\n-      if (SuppArray.length > 0) {\n-        SuppName = getValueNotDefine(SuppArray[0].partyname);\n-        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n-        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n-        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n-        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n-        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n-        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n-      }\n-      console.log(BLS[i].DT)\n-      document.title = BLS[i].VNO;\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n-      </tr>\n-      \n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"> `+ SuppADD2 + ` ,`+SuppCITY+`</td>\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>      \n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:20%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA += BA;\n-          totalAD += AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-\n-      <tr STYLE=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n-      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      </tr>\n-      \n-\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      MainFirmName = firmArray[0].FIRM;\n-      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n-      var SuppName=\"\";\n-      var SuppADD1=\"\";\n-      var SuppADD2=\"\";\n-      var SuppADD3=\"\";\n-      var SuppADD4=\"\";\n-      var SuppCITY=\"\";\n-      var SuppCOMPANY_GSTIN=\"\";\n-      var SuppPANNO=\"\";\n-      console.log(SuppArray,BLS[i].ccd)\n-      if (SuppArray.length > 0) {\n-        SuppName = getValueNotDefine(SuppArray[0].partyname);\n-        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n-        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n-        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n-        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n-        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n-        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n-      }\n-      console.log(BLS[i].DT)\n-      document.title = BLS[i].VNO;\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n-      </tr>\n-      \n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"> `+ SuppADD2 + ` ,`+SuppCITY+`</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:20%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA += BA;\n-          totalAD += AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-\n-      <tr STYLE=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n-      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      </tr>\n-      \n-\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      MainFirmName = firmArray[0].FIRM;\n-      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n-      var SuppName=\"\";\n-      var SuppADD1=\"\";\n-      var SuppADD2=\"\";\n-      var SuppADD3=\"\";\n-      var SuppADD4=\"\";\n-      var SuppCITY=\"\";\n-      var SuppCOMPANY_GSTIN=\"\";\n-      var SuppPANNO=\"\";\n-      console.log(SuppArray,BLS[i].ccd)\n-      if (SuppArray.length > 0) {\n-        SuppName = getValueNotDefine(SuppArray[0].partyname);\n-        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n-        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n-        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n-        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n-        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n-        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n-      }\n-      console.log(BLS[i].DT)\n-      document.title = BLS[i].VNO;\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n-      </tr>\n-      \n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n-      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\"> `+ SuppADD2 + ` ,`+SuppCITY+`</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:20%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA += BA;\n-          totalAD += AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-\n-      <tr STYLE=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n-      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      </tr>\n-      \n-\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      MainFirmName = firmArray[0].FIRM;\n-      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n-      var SuppName=\"\";\n-      var SuppADD1=\"\";\n-      var SuppADD2=\"\";\n-      var SuppADD3=\"\";\n-      var SuppADD4=\"\";\n-      var SuppCITY=\"\";\n-      var SuppCOMPANY_GSTIN=\"\";\n-      var SuppPANNO=\"\";\n-      console.log(SuppArray,BLS[i].ccd)\n-      if (SuppArray.length > 0) {\n-        SuppName = getValueNotDefine(SuppArray[0].partyname);\n-        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n-        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n-        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n-        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n-        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n-        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n-      }\n-      console.log(BLS[i].DT)\n-      document.title = BLS[i].VNO;\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n-      </tr>\n-      \n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n-      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\"> `+ SuppADD2 + ``+SuppCITY+`</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:20%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA += BA;\n-          totalAD += AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-\n-      <tr STYLE=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n-      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      </tr>\n-      \n-\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      MainFirmName = firmArray[0].FIRM;\n-      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n-      var SuppName=\"\";\n-      var SuppADD1=\"\";\n-      var SuppADD2=\"\";\n-      var SuppADD3=\"\";\n-      var SuppADD4=\"\";\n-      var SuppCITY=\"\";\n-      var SuppCOMPANY_GSTIN=\"\";\n-      var SuppPANNO=\"\";\n-      console.log(SuppArray,BLS[i].ccd)\n-      if (SuppArray.length > 0) {\n-        SuppName = getValueNotDefine(SuppArray[0].partyname);\n-        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n-        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n-        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n-        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n-        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n-        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n-      }\n-      console.log(BLS[i].DT)\n-      document.title = BLS[i].VNO;\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n-      </tr>\n-      \n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n-      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\"> `+ SuppADD2 + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:20%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA += BA;\n-          totalAD += AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-\n-      <tr STYLE=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n-      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      </tr>\n-      \n-\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      MainFirmName = firmArray[0].FIRM;\n-      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n-      var SuppName=\"\";\n-      var SuppADD1=\"\";\n-      var SuppADD2=\"\";\n-      var SuppADD3=\"\";\n-      var SuppADD4=\"\";\n-      var SuppCITY=\"\";\n-      var SuppCOMPANY_GSTIN=\"\";\n-      var SuppPANNO=\"\";\n-      console.log(SuppArray,BLS[i].ccd)\n-      if (SuppArray.length > 0) {\n-        SuppName = getValueNotDefine(SuppArray[0].partyname);\n-        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n-        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n-        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n-        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n-        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n-        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n-      }\n-      console.log(BLS[i].DT)\n-      document.title = BLS[i].VNO;\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n-      </tr>\n-      \n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n-      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO:  `+ SuppADD2 + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:20%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA += BA;\n-          totalAD += AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-\n-      <tr STYLE=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n-      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      </tr>\n-      \n-\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      MainFirmName = firmArray[0].FIRM;\n-      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n-      var SuppName=\"\";\n-      var SuppADD1=\"\";\n-      var SuppADD2=\"\";\n-      var SuppADD3=\"\";\n-      var SuppADD4=\"\";\n-      var SuppCITY=\"\";\n-      var SuppCOMPANY_GSTIN=\"\";\n-      var SuppPANNO=\"\";\n-      console.log(SuppArray,BLS[i].ccd)\n-      if (SuppArray.length > 0) {\n-        SuppName = getValueNotDefine(SuppArray[0].partyname);\n-        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n-        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n-        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n-        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n-        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n-        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n-      }\n-      console.log(BLS[i].DT)\n-      document.title = BLS[i].VNO;\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n-      </tr>\n-      \n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n-      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:20%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA += BA;\n-          totalAD += AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-\n-      <tr STYLE=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n-      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      </tr>\n-      \n-\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      MainFirmName = firmArray[0].FIRM;\n-      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n-      var SuppName=\"\";\n-      var SuppADD1=\"\";\n-      var SuppADD2=\"\";\n-      var SuppADD3=\"\";\n-      var SuppADD4=\"\";\n-      var SuppCITY=\"\";\n-      var SuppCOMPANY_GSTIN=\"\";\n-      var SuppPANNO=\"\";\n-      console.log(SuppArray,BLS[i].ccd)\n-      if (SuppArray.length > 0) {\n-        SuppName = getValueNotDefine(SuppArray[0].partyname);\n-        SuppADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-        SuppADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-        SuppADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-        SuppADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n-        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n-      }\n-      console.log(BLS[i].DT)\n-      document.title = BLS[i].VNO;\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n-      </tr>\n-      \n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n-      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:20%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA += BA;\n-          totalAD += AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-\n-      <tr STYLE=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n-      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      </tr>\n-      \n-\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      MainFirmName = firmArray[0].FIRM;\n-      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n-      var SuppName=\"\";\n-      var SuppADD1=\"\";\n-      var SuppADD2=\"\";\n-      var SuppADD3=\"\";\n-      var SuppADD4=\"\";\n-      var SuppCITY=\"\";\n-      var SuppCOMPANY_GSTIN=\"\";\n-      var SuppPANNO=\"\";\n-      console.log(SuppArray,BLS[i].ccd)\n-      if (SuppArray.length > 0) {\n-        SuppName = getValueNotDefine(SuppArray[0].partyname);\n-        SuppADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-        SuppADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-        SuppADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-        SuppADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n-        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n-      }\n-      console.log(BLS[i].DT)\n-      document.title = BLS[i].VNO;\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n-      </tr>\n-      \n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n-      <td style=\"text-align:left;\">    </td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:20%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA += BA;\n-          totalAD += AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-\n-      <tr STYLE=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n-      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      </tr>\n-      \n-\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      MainFirmName = firmArray[0].FIRM;\n-      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-      var SuppName=\"\";\n-      var SuppADD1=\"\";\n-      var SuppADD2=\"\";\n-      var SuppADD3=\"\";\n-      var SuppADD4=\"\";\n-      var SuppCITY=\"\";\n-      var SuppCOMPANY_GSTIN=\"\";\n-      var SuppPANNO=\"\";\n-      console.log(SuppArray,BLS[i].RFCD)\n-      if (SuppArray.length > 0) {\n-        SuppName = getValueNotDefine(SuppArray[0].partyname);\n-        SuppADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-        SuppADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-        SuppADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-        SuppADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n-        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n-      }\n-      console.log(BLS[i].DT)\n-      document.title = BLS[i].VNO;\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n-      </tr>\n-      \n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n-      <td style=\"text-align:left;\">    </td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:20%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA += BA;\n-          totalAD += AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-\n-      <tr STYLE=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n-      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      </tr>\n-      \n-\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      MainFirmName = firmArray[0].FIRM;\n-      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-      var SuppName=\"\";\n-      var SuppADD1=\"\";\n-      var SuppADD2=\"\";\n-      var SuppADD3=\"\";\n-      var SuppADD4=\"\";\n-      var SuppCITY=\"\";\n-      var SuppCOMPANY_GSTIN=\"\";\n-      var SuppPANNO=\"\";\n-      console.log(SuppArray,BLS[i].ccd)\n-      if (SuppArray.length > 0) {\n-        SuppName = getValueNotDefine(SuppArray[0].partyname);\n-        SuppADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-        SuppADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-        SuppADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-        SuppADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n-        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n-      }\n-      console.log(BLS[i].DT)\n-      document.title = BLS[i].VNO;\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n-      </tr>\n-      \n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n-      <td style=\"text-align:left;\">    </td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:20%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA += BA;\n-          totalAD += AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-\n-      <tr STYLE=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n-      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      </tr>\n-      \n-\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      MainFirmName = firmArray[0].FIRM;\n-      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-      var SuppName=\"\";\n-      var SuppADD1=\"\";\n-      var SuppADD2=\"\";\n-      var SuppADD3=\"\";\n-      var SuppADD4=\"\";\n-      var SuppCITY=\"\";\n-      var SuppCOMPANY_GSTIN=\"\";\n-      var SuppPANNO=\"\";\n-      console.log(SuppArray)\n-      if (SuppArray.length > 0) {\n-        SuppName = getValueNotDefine(SuppArray[0].partyname);\n-        SuppADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-        SuppADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-        SuppADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-        SuppADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n-        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n-      }\n-      console.log(BLS[i].DT)\n-      document.title = BLS[i].VNO;\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n-      </tr>\n-      \n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n-      <td style=\"text-align:left;\">    </td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:20%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA += BA;\n-          totalAD += AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-\n-      <tr STYLE=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n-      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      </tr>\n-      \n-\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      MainFirmName = firmArray[0].FIRM;\n-      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-      var SuppName=\"\";\n-      var SuppADD1=\"\";\n-      var SuppADD2=\"\";\n-      var SuppADD3=\"\";\n-      var SuppADD4=\"\";\n-      var SuppCITY=\"\";\n-      var SuppCOMPANY_GSTIN=\"\";\n-      var SuppPANNO=\"\";\n-      if (SuppArray.length > 0) {\n-        SuppName = getValueNotDefine(SuppArray[0].partyname);\n-        SuppADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-        SuppADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-        SuppADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-        SuppADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n-        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n-      }\n-      console.log(BLS[i].DT)\n-      document.title = BLS[i].VNO;\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n-      </tr>\n-      \n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n-      <td style=\"text-align:left;\">    </td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:20%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA += BA;\n-          totalAD += AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-\n-      <tr STYLE=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n-      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      </tr>\n-      \n-\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      MainFirmName = firmArray[0].FIRM;\n-      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-      var SuppName=\"\";\n-      var SuppADD1=\"\";\n-      var SuppADD2=\"\";\n-      var SuppADD3=\"\";\n-      var SuppADD4=\"\";\n-      var SuppCITY=\"\";\n-      var SuppCOMPANY_GSTIN=\"\";\n-      var SuppPANNO=\"\";\n-      if (SuppArray.length > 0) {\n-        SuppName = getValueNotDefine(SuppArray[0].ccd);\n-        SuppADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-        SuppADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-        SuppADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-        SuppADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n-        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n-      }\n-      console.log(BLS[i].DT)\n-      document.title = BLS[i].VNO;\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n-      </tr>\n-      \n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n-      <td style=\"text-align:left;\">    </td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:20%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA += BA;\n-          totalAD += AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-\n-      <tr STYLE=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n-      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      </tr>\n-      \n-\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      MainFirmName = firmArray[0].FIRM;\n-      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-      var SuppName=\"\";\n-      var SuppADD1=\"\";\n-      var SuppADD2=\"\";\n-      var SuppADD3=\"\";\n-      var SuppADD4=\"\";\n-      var SuppCITY=\"\";\n-      var SuppCOMPANY_GSTIN=\"\";\n-      var SuppPANNO=\"\";\n-      if (SuppArray.length > 0) {\n-        SuppName = getValueNotDefine(SuppArray[0].ccd);\n-        SuppADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-        SuppADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-        SuppADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-        SuppADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n-        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n-      }\n-      console.log(BLS[i].DT)\n-      document.title = BLS[i].VNO;\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n-      </tr>\n-      \n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\">city : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">    </td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:20%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA += BA;\n-          totalAD += AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-\n-      <tr STYLE=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n-      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      </tr>\n-      \n-\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      MainFirmName = firmArray[0].FIRM;\n-      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-      var SuppName=\"\";\n-      var SuppADD1=\"\";\n-      var SuppADD2=\"\";\n-      var SuppADD3=\"\";\n-      var SuppADD4=\"\";\n-      var SuppCITY=\"\";\n-      var SuppCOMPANY_GSTIN=\"\";\n-      var SuppPANNO=\"\";\n-      if (SuppArray.length > 0) {\n-        SuppName = getValueNotDefine(SuppArray[0].ccd);\n-        SuppADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-        SuppADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-        SuppADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-        SuppADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n-        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n-      }\n-      console.log(BLS[i].DT)\n-      document.title = BLS[i].VNO;\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> CITY: `+ city + `</td>\n-      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n-      </tr>\n-      \n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\">city : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">    </td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:20%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA += BA;\n-          totalAD += AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-\n-      <tr STYLE=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n-      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      </tr>\n-      \n-\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      MainFirmName = firmArray[0].FIRM;\n-      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-      var SuppADD1=\"\";\n-      var SuppADD2=\"\";\n-      var SuppADD3=\"\";\n-      var SuppADD4=\"\";\n-      var SuppCITY=\"\";\n-      var SuppCOMPANY_GSTIN=\"\";\n-      var SuppPANNO=\"\";\n-      if (SuppArray.length > 0) {\n-        SuppADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-        SuppADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-        SuppADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-        SuppADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n-        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n-      }\n-      console.log(BLS[i].DT)\n-      document.title = BLS[i].VNO;\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> CITY: `+ city + `</td>\n-      <td style=\"text-align:left;\">  TO  : `+ MainFirmName + `  </td>\n-      </tr>\n-      \n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\">city : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">    </td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:20%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA += BA;\n-          totalAD += AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-\n-      <tr STYLE=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n-      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      </tr>\n-      \n-\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      MainFirmName = firmArray[0].FIRM;\n-      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-      if (SuppArray.length > 0) {\n-        SuppADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-        SuppADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-        SuppADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-        SuppADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n-        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n-      }\n-      console.log(BLS[i].DT)\n-      document.title = BLS[i].VNO;\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> CITY: `+ city + `</td>\n-      <td style=\"text-align:left;\">  TO  : `+ MainFirmName + `  </td>\n-      </tr>\n-      \n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\">city : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">    </td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:20%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA += BA;\n-          totalAD += AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-\n-      <tr STYLE=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n-      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      </tr>\n-      \n-\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      if (ACTYPE != \"AGENCY\") {\n-        MainFirmName = firmArray[0].FIRM;\n-        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      } else {\n-        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-        if (SuppArray.length > 0) {\n-          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n-          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      document.title=BLS[i].VNO;\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+BLS[i].VNO+`</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> CITY: `+ city + `</td>\n-      <td style=\"text-align:left;\">  TO  : `+ MainFirmName + `  </td>\n-      </tr>\n-      \n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\">city : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">    </td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:20%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA +=BA;\n-          totalAD +=AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-\n-      <tr STYLE=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n-      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      </tr>\n-      \n-\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+MainFirmName+`</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      if (ACTYPE != \"AGENCY\") {\n-        MainFirmName = firmArray[0].FIRM;\n-        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      } else {\n-        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-        if (SuppArray.length > 0) {\n-          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n-          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      document.title=BLS[i].VNO;\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+BLS[i].VNO+`</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> CITY: `+ city + `</td>\n-      <td style=\"text-align:left;\">  TO  : `+ MainFirmName + `  </td>\n-      </tr>\n-      \n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">city : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">    </td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:20%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA +=BA;\n-          totalAD +=AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-\n-      <tr STYLE=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n-      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      </tr>\n-      \n-\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+MainFirmName+`</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      if (ACTYPE != \"AGENCY\") {\n-        MainFirmName = firmArray[0].FIRM;\n-        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      } else {\n-        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-        if (SuppArray.length > 0) {\n-          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n-          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      document.title=BLS[i].VNO;\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+BLS[i].VNO+`</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> : `+ city + `</td>\n-      <td style=\"text-align:left;\">  TO  : `+ MainFirmName + `  </td>\n-      </tr>\n-      \n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">city : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">    </td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:20%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA +=BA;\n-          totalAD +=AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-\n-      <tr STYLE=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n-      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      </tr>\n-      \n-\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+MainFirmName+`</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      if (ACTYPE != \"AGENCY\") {\n-        MainFirmName = firmArray[0].FIRM;\n-        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      } else {\n-        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-        if (SuppArray.length > 0) {\n-          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n-          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      document.title=BLS[i].VNO;\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+BLS[i].VNO+`</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> : `+ city + `</td>\n-      <td style=\"text-align:left;\">  TO  : `+ MainFirmName + `  </td>\n-      </tr>\n-      \n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">FROM : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  TO  : `+ MainFirmName + `  </td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:20%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA +=BA;\n-          totalAD +=AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-\n-      <tr STYLE=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n-      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      </tr>\n-      \n-\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+MainFirmName+`</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      if (ACTYPE != \"AGENCY\") {\n-        MainFirmName = firmArray[0].FIRM;\n-        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      } else {\n-        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-        if (SuppArray.length > 0) {\n-          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n-          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      document.title=BLS[i].VNO;\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+BLS[i].VNO+`</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">FROM : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  TO  : `+ MainFirmName + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:20%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA +=BA;\n-          totalAD +=AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-\n-      <tr STYLE=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n-      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      </tr>\n-      \n-\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+MainFirmName+`</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      if (ACTYPE != \"AGENCY\") {\n-        MainFirmName = firmArray[0].FIRM;\n-        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      } else {\n-        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-        if (SuppArray.length > 0) {\n-          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n-          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      document.title=BLS[i].VNO;\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+BLS[i].VNO+`</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">FROM : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ MainFirmName + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:20%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA +=BA;\n-          totalAD +=AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-\n-      <tr STYLE=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n-      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      </tr>\n-      \n-\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+MainFirmName+`</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      if (ACTYPE != \"AGENCY\") {\n-        MainFirmName = firmArray[0].FIRM;\n-        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      } else {\n-        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-        if (SuppArray.length > 0) {\n-          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n-          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      document.title=BLS[i].VNO;\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+BLS[i].VNO+`</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:20%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA +=BA;\n-          totalAD +=AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-\n-      <tr STYLE=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n-      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      </tr>\n-      \n-\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+MainFirmName+`</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      if (ACTYPE != \"AGENCY\") {\n-        MainFirmName = firmArray[0].FIRM;\n-        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      } else {\n-        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-        if (SuppArray.length > 0) {\n-          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n-          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      document.title=BLS[i].VNO;\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:20%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA +=BA;\n-          totalAD +=AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-\n-      <tr STYLE=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n-      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      </tr>\n-      \n-\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+MainFirmName+`</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      if (ACTYPE != \"AGENCY\") {\n-        MainFirmName = firmArray[0].FIRM;\n-        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      } else {\n-        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-        if (SuppArray.length > 0) {\n-          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n-          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      document.title=BLS[i].VNO;\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:20%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA +=BA;\n-          totalAD +=AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-\n-      <tr STYLE=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n-      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      </tr>\n-      \n-\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+MainFirmName+`</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      if (ACTYPE != \"AGENCY\") {\n-        MainFirmName = firmArray[0].FIRM;\n-        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      } else {\n-        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-        if (SuppArray.length > 0) {\n-          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n-          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:21%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA +=BA;\n-          totalAD +=AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-\n-      <tr STYLE=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n-      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      </tr>\n-      \n-\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+MainFirmName+`</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      if (ACTYPE != \"AGENCY\") {\n-        MainFirmName = firmArray[0].FIRM;\n-        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      } else {\n-        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-        if (SuppArray.length > 0) {\n-          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n-          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:22%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA +=BA;\n-          totalAD +=AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-\n-      <tr STYLE=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n-      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      </tr>\n-      \n-\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+MainFirmName+`</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      if (ACTYPE != \"AGENCY\") {\n-        MainFirmName = firmArray[0].FIRM;\n-        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      } else {\n-        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-        if (SuppArray.length > 0) {\n-          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n-          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:25%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA +=BA;\n-          totalAD +=AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-\n-      <tr STYLE=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n-      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      </tr>\n-      \n-\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+MainFirmName+`</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      if (ACTYPE != \"AGENCY\") {\n-        MainFirmName = firmArray[0].FIRM;\n-        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      } else {\n-        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-        if (SuppArray.length > 0) {\n-          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n-          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:33%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA +=BA;\n-          totalAD +=AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-\n-      <tr STYLE=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n-      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      </tr>\n-      \n-\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+MainFirmName+`</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      if (ACTYPE != \"AGENCY\") {\n-        MainFirmName = firmArray[0].FIRM;\n-        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      } else {\n-        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-        if (SuppArray.length > 0) {\n-          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n-          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:33%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA +=BA;\n-          totalAD +=AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-\n-      <tr STYLE=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n-      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      </tr>\n-      \n-\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;\">FOR`+MainFirmName+`</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      if (ACTYPE != \"AGENCY\") {\n-        MainFirmName = firmArray[0].FIRM;\n-        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      } else {\n-        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-        if (SuppArray.length > 0) {\n-          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n-          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:33%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA +=BA;\n-          totalAD +=AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-\n-      <tr STYLE=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n-      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      </tr>\n-      \n-\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> FOR</td>\n-      <td style=\"text-align:RIGHT;\">`+MainFirmName+`</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      if (ACTYPE != \"AGENCY\") {\n-        MainFirmName = firmArray[0].FIRM;\n-        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      } else {\n-        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-        if (SuppArray.length > 0) {\n-          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n-          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:33%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA +=BA;\n-          totalAD +=AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-\n-      <tr STYLE=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n-      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      </tr>\n-      \n-\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td align=\"CENTER\"> FOR</td>\n-      <td style=\"text-align:RIGHT;\">`+MainFirmName+`</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      if (ACTYPE != \"AGENCY\") {\n-        MainFirmName = firmArray[0].FIRM;\n-        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      } else {\n-        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-        if (SuppArray.length > 0) {\n-          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n-          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:33%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA +=BA;\n-          totalAD +=AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-\n-      <tr STYLE=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n-      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      </tr>\n-      \n-\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td align=\"right\"> FOR</td>\n-      <td style=\"text-align:RIGHT;\">`+MainFirmName+`</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      if (ACTYPE != \"AGENCY\") {\n-        MainFirmName = firmArray[0].FIRM;\n-        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      } else {\n-        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-        if (SuppArray.length > 0) {\n-          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n-          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:33%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA +=BA;\n-          totalAD +=AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-\n-      <tr STYLE=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n-      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      </tr>\n-      \n-\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td align=\"right\"> FOR</td>\n-      <td style=\"text-align:LEFT;\">`+MainFirmName+`</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      if (ACTYPE != \"AGENCY\") {\n-        MainFirmName = firmArray[0].FIRM;\n-        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      } else {\n-        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-        if (SuppArray.length > 0) {\n-          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n-          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:33%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA +=BA;\n-          totalAD +=AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      <tr STYLE=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n-      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      </tr>\n-      \n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      if (ACTYPE != \"AGENCY\") {\n-        MainFirmName = firmArray[0].FIRM;\n-        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      } else {\n-        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-        if (SuppArray.length > 0) {\n-          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n-          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:33%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA +=BA;\n-          totalAD +=AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      <tr STYLE=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n-      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      </tr>\n-\n-      \n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\">TERMS</td>\n-      </tr>\n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n-      </tr>\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      if (ACTYPE != \"AGENCY\") {\n-        MainFirmName = firmArray[0].FIRM;\n-        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      } else {\n-        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-        if (SuppArray.length > 0) {\n-          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n-          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:33%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA +=BA;\n-          totalAD +=AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      <tr STYLE=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n-      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ MainFirmName + `</td>\n-      </tr>\n-\n-      \n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\">TERMS</td>\n-      </tr>\n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n-      </tr>\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      if (ACTYPE != \"AGENCY\") {\n-        MainFirmName = firmArray[0].FIRM;\n-        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      } else {\n-        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-        if (SuppArray.length > 0) {\n-          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n-          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:33%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA +=BA;\n-          totalAD +=AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      <tr STYLE=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n-      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"2\"></td>\n-      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-      \n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\">TERMS</td>\n-      </tr>\n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n-      </tr>\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      if (ACTYPE != \"AGENCY\") {\n-        MainFirmName = firmArray[0].FIRM;\n-        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      } else {\n-        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-        if (SuppArray.length > 0) {\n-          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n-          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:33%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA +=BA;\n-          totalAD +=AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      <tr STYLE=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n-      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      \n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"2\"></td>\n-      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-      \n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\">TERMS</td>\n-      </tr>\n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n-      </tr>\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      if (ACTYPE != \"AGENCY\") {\n-        MainFirmName = firmArray[0].FIRM;\n-        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      } else {\n-        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-        if (SuppArray.length > 0) {\n-          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n-          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:33%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA +=BA;\n-          totalAD +=AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-        \n-    <hr class=\"pdfhr\"> \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      <tr>\n-      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n-      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      \n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"2\"></td>\n-      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-      \n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\">TERMS</td>\n-      </tr>\n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n-      </tr>\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      if (ACTYPE != \"AGENCY\") {\n-        MainFirmName = firmArray[0].FIRM;\n-        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      } else {\n-        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-        if (SuppArray.length > 0) {\n-          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n-          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:33%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA +=BA;\n-          totalAD +=AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>    \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      <tr>\n-      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n-      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      \n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"2\"></td>\n-      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-      \n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\">TERMS</td>\n-      </tr>\n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n-      </tr>\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      if (ACTYPE != \"AGENCY\") {\n-        MainFirmName = firmArray[0].FIRM;\n-        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      } else {\n-        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-        if (SuppArray.length > 0) {\n-          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n-          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:33%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA +=BA;\n-          totalAD +=AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>    \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <hr class=\"pdfhr\">\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      <tr>\n-\n-      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n-      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      \n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"2\"></td>\n-      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-      \n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\">TERMS</td>\n-      </tr>\n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n-      </tr>\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      if (ACTYPE != \"AGENCY\") {\n-        MainFirmName = firmArray[0].FIRM;\n-        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      } else {\n-        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-        if (SuppArray.length > 0) {\n-          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n-          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:33%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA +=BA;\n-          totalAD +=AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>    \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <hr class=\"pdfhr\">\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n-      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      \n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"2\"></td>\n-      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-      \n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\">TERMS</td>\n-      </tr>\n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n-      </tr>\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      if (ACTYPE != \"AGENCY\") {\n-        MainFirmName = firmArray[0].FIRM;\n-        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      } else {\n-        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-        if (SuppArray.length > 0) {\n-          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n-          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:33%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA +=BA;\n-          totalAD +=AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>    \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <hr class=\"pdfhr\">\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n-      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      <td style=\"text-align:LEFT;\"> `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      \n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"2\"></td>\n-      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-      \n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\">TERMS</td>\n-      </tr>\n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n-      </tr>\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      if (ACTYPE != \"AGENCY\") {\n-        MainFirmName = firmArray[0].FIRM;\n-        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      } else {\n-        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-        if (SuppArray.length > 0) {\n-          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n-          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:33%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA +=BA;\n-          totalAD +=AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>    \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <hr class=\"pdfhr\">\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n-      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      \n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"2\"></td>\n-      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-      \n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\">TERMS</td>\n-      </tr>\n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n-      </tr>\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      if (ACTYPE != \"AGENCY\") {\n-        MainFirmName = firmArray[0].FIRM;\n-        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      } else {\n-        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-        if (SuppArray.length > 0) {\n-          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n-          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:33%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA +=BA;\n-          totalAD +=AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>    \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <hr class=\"pdfhr\">\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n-      <td align=\"right\">NET AMOUNT </td>\n-      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      \n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"2\"></td>\n-      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-      \n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\">TERMS</td>\n-      </tr>\n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n-      </tr>\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      if (ACTYPE != \"AGENCY\") {\n-        MainFirmName = firmArray[0].FIRM;\n-        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      } else {\n-        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-        if (SuppArray.length > 0) {\n-          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n-          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:33%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA +=BA;\n-          totalAD +=AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>    \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <hr class=\"pdfhr\">\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].CHQ) + `</td>\n-      <td align=\"right\">NET AMOUNT </td>\n-      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      \n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"2\"></td>\n-      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-      \n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\">TERMS</td>\n-      </tr>\n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n-      </tr>\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      if (ACTYPE != \"AGENCY\") {\n-        MainFirmName = firmArray[0].FIRM;\n-        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      } else {\n-        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-        if (SuppArray.length > 0) {\n-          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n-          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:33%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA +=BA;\n-          totalAD +=AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>    \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <hr class=\"pdfhr\">\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      <td align=\"right\">NET AMOUNT </td>\n-      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      \n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"2\"></td>\n-      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-      \n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\">TERMS</td>\n-      </tr>\n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n-      </tr>\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      if (ACTYPE != \"AGENCY\") {\n-        MainFirmName = firmArray[0].FIRM;\n-        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      } else {\n-        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-        if (SuppArray.length > 0) {\n-          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n-          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:33%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA +=BA;\n-          totalAD +=AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>    \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <hr class=\"pdfhr\">\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <td style=\"text-align:left;\">REMARK:  `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      <td align=\"right\">NET AMOUNT </td>\n-      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      \n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"2\"></td>\n-      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-      \n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\">TERMS</td>\n-      </tr>\n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n-      </tr>\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      if (ACTYPE != \"AGENCY\") {\n-        MainFirmName = firmArray[0].FIRM;\n-        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      } else {\n-        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-        if (SuppArray.length > 0) {\n-          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n-          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:33%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA +=BA;\n-          totalAD +=AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>    \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <hr class=\"pdfhr\">\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"font-weight:bold;font-size:15px;\">    \n-      <td style=\"text-align:left;\">REMARK:  `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      <td align=\"right\">NET AMOUNT </td>\n-      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      \n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"2\"></td>\n-      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-      \n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\">TERMS</td>\n-      </tr>\n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n-      </tr>\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      if (ACTYPE != \"AGENCY\") {\n-        MainFirmName = firmArray[0].FIRM;\n-        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      } else {\n-        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-        if (SuppArray.length > 0) {\n-          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n-          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:33%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA +=BA;\n-          totalAD +=AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>    \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <hr class=\"pdfhr\">\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"font-weight:bold;font-size:15px;\">    \n-      <td style=\"text-align:left;\">REMARK:  `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      <td style=\"text-align:left;\"> </td>\n-      <td align=\"right\">NET AMOUNT </td>\n-      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      \n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"2\"></td>\n-      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-      \n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\">TERMS</td>\n-      </tr>\n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n-      </tr>\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      if (ACTYPE != \"AGENCY\") {\n-        MainFirmName = firmArray[0].FIRM;\n-        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      } else {\n-        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-        if (SuppArray.length > 0) {\n-          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n-          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:33%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">|`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">|`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA +=BA;\n-          totalAD +=AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>    \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <hr class=\"pdfhr\">\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      if (getValueNotDefineNo(BLS[i].aia) != 0) {\n-        div += `\n-          <tr>\n-           <td style=\"text-align:right;width:100%;\"colspan=\"3\">INSURANCE ADD : `+ valuetoFixed(BLS[i].aia) + `</td>\n-          </tr>\n-        `;\n-      }\n-      if (getValueNotDefineNo(BLS[i].AA1) != 0) {\n-        div += `\n-          <tr>\n-           <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL ADD : `+ valuetoFixed(BLS[i].AA1) + `</td>\n-          </tr>\n-        `;\n-      }\n-\n-      if (getValueNotDefineNo(BLS[i].O_LS) != 0) {\n-        div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL LESS : `+ valuetoFixed(BLS[i].O_LS) + `</td>\n-          </tr>\n-        `;\n-      }\n-      if (getValueNotDefineNo(BLS[i].LA1RT) != 0) {\n-        div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA1RMK) + ` \n-         `+ valuetoFixed(BLS[i].GAMT) + ` X \n-         <strong>`+ BLS[i].LA1RT + ` % </strong> \n-         `+ BLS[i].LA1AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-      }\n-      if (getValueNotDefineNo(BLS[i].LA2RT) != 0) {\n-        div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA2RMK) + ` \n-         `+ BLS[i].LA2qty + ` X \n-         <strong>`+ BLS[i].LA2RT + ` % </strong> \n-         `+ BLS[i].LA2AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-      }\n-      if (getValueNotDefineNo(BLS[i].LA3RT) != 0) {\n-        div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA3RMK) + ` \n-         `+ BLS[i].LA3qty + ` X \n-         <strong>`+ BLS[i].LA3RT + ` % </strong> \n-         `+ BLS[i].LA3AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-      }\n-      if (parseInt(BLS[i].VTAMT) != 0) {\n-        // console.log(partyStateCode, firmStateCode);\n-        if (parseInt(partyStateCode) == parseInt(firmStateCode)) {\n-          if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n-            div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\"colspan=\"3\">CGST @ `+ BLS[i].VTRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n-              </tr>\n-              `;\n-          }\n-          if (BLS[i].ADVTRT != null && parseInt(BLS[i].ADVTRT) != 0) {\n-            div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\" colspan=\"3\">SGST @ `+ BLS[i].ADRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].ADAMT) + `</td>\n-              </tr>\n-              `;\n-          }\n-        } else {\n-          if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n-            div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\" colspan=\"3\">IGST @ `+ getValueNotDefine(BLS[i].VTRT) + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` =  ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n-              </tr>\n-              `;\n-          }\n-        }\n-      }\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"font-weight:bold;font-size:15px;\">    \n-      <td style=\"text-align:left;\">REMARK:  `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      <td style=\"text-align:left;\"> </td>\n-      <td align=\"right\">NET AMOUNT </td>\n-      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      \n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"2\"></td>\n-      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-      \n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\">TERMS</td>\n-      </tr>\n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n-      </tr>\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      if (ACTYPE != \"AGENCY\") {\n-        MainFirmName = firmArray[0].FIRM;\n-        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      } else {\n-        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-        if (SuppArray.length > 0) {\n-          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n-          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:33%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA +=BA;\n-          totalAD +=AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>    \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <hr class=\"pdfhr\">\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      if (getValueNotDefineNo(BLS[i].aia) != 0) {\n-        div += `\n-          <tr>\n-           <td style=\"text-align:right;width:100%;\"colspan=\"3\">INSURANCE ADD : `+ valuetoFixed(BLS[i].aia) + `</td>\n-          </tr>\n-        `;\n-      }\n-      if (getValueNotDefineNo(BLS[i].AA1) != 0) {\n-        div += `\n-          <tr>\n-           <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL ADD : `+ valuetoFixed(BLS[i].AA1) + `</td>\n-          </tr>\n-        `;\n-      }\n-\n-      if (getValueNotDefineNo(BLS[i].O_LS) != 0) {\n-        div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL LESS : `+ valuetoFixed(BLS[i].O_LS) + `</td>\n-          </tr>\n-        `;\n-      }\n-      if (getValueNotDefineNo(BLS[i].LA1RT) != 0) {\n-        div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA1RMK) + ` \n-         `+ valuetoFixed(BLS[i].GAMT) + ` X \n-         <strong>`+ BLS[i].LA1RT + ` % </strong> \n-         `+ BLS[i].LA1AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-      }\n-      if (getValueNotDefineNo(BLS[i].LA2RT) != 0) {\n-        div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA2RMK) + ` \n-         `+ BLS[i].LA2qty + ` X \n-         <strong>`+ BLS[i].LA2RT + ` % </strong> \n-         `+ BLS[i].LA2AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-      }\n-      if (getValueNotDefineNo(BLS[i].LA3RT) != 0) {\n-        div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA3RMK) + ` \n-         `+ BLS[i].LA3qty + ` X \n-         <strong>`+ BLS[i].LA3RT + ` % </strong> \n-         `+ BLS[i].LA3AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-      }\n-      if (parseInt(BLS[i].VTAMT) != 0) {\n-        // console.log(partyStateCode, firmStateCode);\n-        if (parseInt(partyStateCode) == parseInt(firmStateCode)) {\n-          if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n-            div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\"colspan=\"3\">CGST @ `+ BLS[i].VTRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n-              </tr>\n-              `;\n-          }\n-          if (BLS[i].ADVTRT != null && parseInt(BLS[i].ADVTRT) != 0) {\n-            div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\" colspan=\"3\">SGST @ `+ BLS[i].ADRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].ADAMT) + `</td>\n-              </tr>\n-              `;\n-          }\n-        } else {\n-          if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n-            div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\" colspan=\"3\">IGST @ `+ getValueNotDefine(BLS[i].VTRT) + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` =  ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n-              </tr>\n-              `;\n-          }\n-        }\n-      }\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"font-weight:bold;font-size:15px;\">    \n-      <td style=\"text-align:left;\">REMARK:  `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      <td style=\"text-align:left;\"> </td>\n-      <td align=\"right\">NET AMOUNT </td>\n-      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      \n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"2\"></td>\n-      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-      \n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\">TERMS</td>\n-      </tr>\n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n-      </tr>\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      if (ACTYPE != \"AGENCY\") {\n-        MainFirmName = firmArray[0].FIRM;\n-        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      } else {\n-        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-        if (SuppArray.length > 0) {\n-          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n-          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:33%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td>NET AMT</td>\n-          <td>ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td>`+ getValueNotDefine(BA) + `</td>\n-              <td>`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA +=BA;\n-          totalAD +=AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>    \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <hr class=\"pdfhr\">\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      if (getValueNotDefineNo(BLS[i].aia) != 0) {\n-        div += `\n-          <tr>\n-           <td style=\"text-align:right;width:100%;\"colspan=\"3\">INSURANCE ADD : `+ valuetoFixed(BLS[i].aia) + `</td>\n-          </tr>\n-        `;\n-      }\n-      if (getValueNotDefineNo(BLS[i].AA1) != 0) {\n-        div += `\n-          <tr>\n-           <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL ADD : `+ valuetoFixed(BLS[i].AA1) + `</td>\n-          </tr>\n-        `;\n-      }\n-\n-      if (getValueNotDefineNo(BLS[i].O_LS) != 0) {\n-        div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL LESS : `+ valuetoFixed(BLS[i].O_LS) + `</td>\n-          </tr>\n-        `;\n-      }\n-      if (getValueNotDefineNo(BLS[i].LA1RT) != 0) {\n-        div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA1RMK) + ` \n-         `+ valuetoFixed(BLS[i].GAMT) + ` X \n-         <strong>`+ BLS[i].LA1RT + ` % </strong> \n-         `+ BLS[i].LA1AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-      }\n-      if (getValueNotDefineNo(BLS[i].LA2RT) != 0) {\n-        div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA2RMK) + ` \n-         `+ BLS[i].LA2qty + ` X \n-         <strong>`+ BLS[i].LA2RT + ` % </strong> \n-         `+ BLS[i].LA2AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-      }\n-      if (getValueNotDefineNo(BLS[i].LA3RT) != 0) {\n-        div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA3RMK) + ` \n-         `+ BLS[i].LA3qty + ` X \n-         <strong>`+ BLS[i].LA3RT + ` % </strong> \n-         `+ BLS[i].LA3AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-      }\n-      if (parseInt(BLS[i].VTAMT) != 0) {\n-        // console.log(partyStateCode, firmStateCode);\n-        if (parseInt(partyStateCode) == parseInt(firmStateCode)) {\n-          if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n-            div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\"colspan=\"3\">CGST @ `+ BLS[i].VTRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n-              </tr>\n-              `;\n-          }\n-          if (BLS[i].ADVTRT != null && parseInt(BLS[i].ADVTRT) != 0) {\n-            div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\" colspan=\"3\">SGST @ `+ BLS[i].ADRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].ADAMT) + `</td>\n-              </tr>\n-              `;\n-          }\n-        } else {\n-          if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n-            div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\" colspan=\"3\">IGST @ `+ getValueNotDefine(BLS[i].VTRT) + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` =  ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n-              </tr>\n-              `;\n-          }\n-        }\n-      }\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"font-weight:bold;font-size:15px;\">    \n-      <td style=\"text-align:left;\">REMARK:  `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      <td style=\"text-align:left;\"> </td>\n-      <td align=\"right\">NET AMOUNT </td>\n-      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      \n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"2\"></td>\n-      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-      \n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\">TERMS</td>\n-      </tr>\n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n-      </tr>\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      if (ACTYPE != \"AGENCY\") {\n-        MainFirmName = firmArray[0].FIRM;\n-        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      } else {\n-        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-        if (SuppArray.length > 0) {\n-          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n-          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:33%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td>NET AMT</td>\n-          <td>ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td>`+ getValueNotDefine(BA) + `</td>\n-              <td>`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA +=BA;\n-          totalAD +=AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>    \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <hr class=\"pdfhr\">\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      if (getValueNotDefineNo(BLS[i].aia) != 0) {\n-        div += `\n-          <tr>\n-           <td style=\"text-align:right;width:100%;\"colspan=\"3\">INSURANCE ADD : `+ valuetoFixed(BLS[i].aia) + `</td>\n-          </tr>\n-        `;\n-      }\n-      if (getValueNotDefineNo(BLS[i].AA1) != 0) {\n-        div += `\n-          <tr>\n-           <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL ADD : `+ valuetoFixed(BLS[i].AA1) + `</td>\n-          </tr>\n-        `;\n-      }\n-\n-      if (getValueNotDefineNo(BLS[i].O_LS) != 0) {\n-        div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL LESS : `+ valuetoFixed(BLS[i].O_LS) + `</td>\n-          </tr>\n-        `;\n-      }\n-      if (getValueNotDefineNo(BLS[i].LA1RT) != 0) {\n-        div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA1RMK) + ` \n-         `+ valuetoFixed(BLS[i].GAMT) + ` X \n-         <strong>`+ BLS[i].LA1RT + ` % </strong> \n-         `+ BLS[i].LA1AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-      }\n-      if (getValueNotDefineNo(BLS[i].LA2RT) != 0) {\n-        div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA2RMK) + ` \n-         `+ BLS[i].LA2qty + ` X \n-         <strong>`+ BLS[i].LA2RT + ` % </strong> \n-         `+ BLS[i].LA2AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-      }\n-      if (getValueNotDefineNo(BLS[i].LA3RT) != 0) {\n-        div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA3RMK) + ` \n-         `+ BLS[i].LA3qty + ` X \n-         <strong>`+ BLS[i].LA3RT + ` % </strong> \n-         `+ BLS[i].LA3AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-      }\n-      if (parseInt(BLS[i].VTAMT) != 0) {\n-        // console.log(partyStateCode, firmStateCode);\n-        if (parseInt(partyStateCode) == parseInt(firmStateCode)) {\n-          if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n-            div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\"colspan=\"3\">CGST @ `+ BLS[i].VTRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n-              </tr>\n-              `;\n-          }\n-          if (BLS[i].ADVTRT != null && parseInt(BLS[i].ADVTRT) != 0) {\n-            div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\" colspan=\"3\">SGST @ `+ BLS[i].ADRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].ADAMT) + `</td>\n-              </tr>\n-              `;\n-          }\n-        } else {\n-          if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n-            div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\" colspan=\"3\">IGST @ `+ getValueNotDefine(BLS[i].VTRT) + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` =  ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n-              </tr>\n-              `;\n-          }\n-        }\n-      }\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"font-weight:bold;font-size:15px;\">    \n-      <td style=\"text-align:left;\">REMARK:  `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      <td style=\"text-align:left;\"> </td>\n-      <td align=\"right\">NET AMOUNT </td>\n-      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      \n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"2\"></td>\n-      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-      \n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\">TERMS</td>\n-      </tr>\n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n-      </tr>\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      if (ACTYPE != \"AGENCY\") {\n-        MainFirmName = firmArray[0].FIRM;\n-        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      } else {\n-        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-        if (SuppArray.length > 0) {\n-          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n-          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:33%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td>NET AMT</td>\n-          <td>ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td>`+ getValueNotDefine(BA) + `</td>\n-              <td>`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA +=BA;\n-          totalAD +=AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>    \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-            <td class=\"alignRight\">`+parseFloat(totalBA).toFixed(2)+`</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <hr class=\"pdfhr\">\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      if (getValueNotDefineNo(BLS[i].aia) != 0) {\n-        div += `\n-          <tr>\n-           <td style=\"text-align:right;width:100%;\"colspan=\"3\">INSURANCE ADD : `+ valuetoFixed(BLS[i].aia) + `</td>\n-          </tr>\n-        `;\n-      }\n-      if (getValueNotDefineNo(BLS[i].AA1) != 0) {\n-        div += `\n-          <tr>\n-           <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL ADD : `+ valuetoFixed(BLS[i].AA1) + `</td>\n-          </tr>\n-        `;\n-      }\n-\n-      if (getValueNotDefineNo(BLS[i].O_LS) != 0) {\n-        div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL LESS : `+ valuetoFixed(BLS[i].O_LS) + `</td>\n-          </tr>\n-        `;\n-      }\n-      if (getValueNotDefineNo(BLS[i].LA1RT) != 0) {\n-        div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA1RMK) + ` \n-         `+ valuetoFixed(BLS[i].GAMT) + ` X \n-         <strong>`+ BLS[i].LA1RT + ` % </strong> \n-         `+ BLS[i].LA1AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-      }\n-      if (getValueNotDefineNo(BLS[i].LA2RT) != 0) {\n-        div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA2RMK) + ` \n-         `+ BLS[i].LA2qty + ` X \n-         <strong>`+ BLS[i].LA2RT + ` % </strong> \n-         `+ BLS[i].LA2AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-      }\n-      if (getValueNotDefineNo(BLS[i].LA3RT) != 0) {\n-        div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA3RMK) + ` \n-         `+ BLS[i].LA3qty + ` X \n-         <strong>`+ BLS[i].LA3RT + ` % </strong> \n-         `+ BLS[i].LA3AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-      }\n-      if (parseInt(BLS[i].VTAMT) != 0) {\n-        // console.log(partyStateCode, firmStateCode);\n-        if (parseInt(partyStateCode) == parseInt(firmStateCode)) {\n-          if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n-            div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\"colspan=\"3\">CGST @ `+ BLS[i].VTRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n-              </tr>\n-              `;\n-          }\n-          if (BLS[i].ADVTRT != null && parseInt(BLS[i].ADVTRT) != 0) {\n-            div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\" colspan=\"3\">SGST @ `+ BLS[i].ADRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].ADAMT) + `</td>\n-              </tr>\n-              `;\n-          }\n-        } else {\n-          if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n-            div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\" colspan=\"3\">IGST @ `+ getValueNotDefine(BLS[i].VTRT) + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` =  ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n-              </tr>\n-              `;\n-          }\n-        }\n-      }\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"font-weight:bold;font-size:15px;\">    \n-      <td style=\"text-align:left;\">REMARK:  `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      <td style=\"text-align:left;\"> </td>\n-      <td align=\"right\">NET AMOUNT </td>\n-      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      \n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"2\"></td>\n-      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-      \n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\">TERMS</td>\n-      </tr>\n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n-      </tr>\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      if (ACTYPE != \"AGENCY\") {\n-        MainFirmName = firmArray[0].FIRM;\n-        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      } else {\n-        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-        if (SuppArray.length > 0) {\n-          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n-          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:33%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td>NET AMT</td>\n-          <td>ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td>`+ getValueNotDefine(BA) + `</td>\n-              <td>`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA +=BA;\n-          totalAD +=AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>    \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td>`+parseFloat(totalBA).toFixed(2)+`</td>\n-            <td>`+parseFloat(totalBA).toFixed(2)+`</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <hr class=\"pdfhr\">\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      if (getValueNotDefineNo(BLS[i].aia) != 0) {\n-        div += `\n-          <tr>\n-           <td style=\"text-align:right;width:100%;\"colspan=\"3\">INSURANCE ADD : `+ valuetoFixed(BLS[i].aia) + `</td>\n-          </tr>\n-        `;\n-      }\n-      if (getValueNotDefineNo(BLS[i].AA1) != 0) {\n-        div += `\n-          <tr>\n-           <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL ADD : `+ valuetoFixed(BLS[i].AA1) + `</td>\n-          </tr>\n-        `;\n-      }\n-\n-      if (getValueNotDefineNo(BLS[i].O_LS) != 0) {\n-        div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL LESS : `+ valuetoFixed(BLS[i].O_LS) + `</td>\n-          </tr>\n-        `;\n-      }\n-      if (getValueNotDefineNo(BLS[i].LA1RT) != 0) {\n-        div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA1RMK) + ` \n-         `+ valuetoFixed(BLS[i].GAMT) + ` X \n-         <strong>`+ BLS[i].LA1RT + ` % </strong> \n-         `+ BLS[i].LA1AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-      }\n-      if (getValueNotDefineNo(BLS[i].LA2RT) != 0) {\n-        div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA2RMK) + ` \n-         `+ BLS[i].LA2qty + ` X \n-         <strong>`+ BLS[i].LA2RT + ` % </strong> \n-         `+ BLS[i].LA2AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-      }\n-      if (getValueNotDefineNo(BLS[i].LA3RT) != 0) {\n-        div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA3RMK) + ` \n-         `+ BLS[i].LA3qty + ` X \n-         <strong>`+ BLS[i].LA3RT + ` % </strong> \n-         `+ BLS[i].LA3AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-      }\n-      if (parseInt(BLS[i].VTAMT) != 0) {\n-        // console.log(partyStateCode, firmStateCode);\n-        if (parseInt(partyStateCode) == parseInt(firmStateCode)) {\n-          if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n-            div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\"colspan=\"3\">CGST @ `+ BLS[i].VTRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n-              </tr>\n-              `;\n-          }\n-          if (BLS[i].ADVTRT != null && parseInt(BLS[i].ADVTRT) != 0) {\n-            div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\" colspan=\"3\">SGST @ `+ BLS[i].ADRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].ADAMT) + `</td>\n-              </tr>\n-              `;\n-          }\n-        } else {\n-          if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n-            div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\" colspan=\"3\">IGST @ `+ getValueNotDefine(BLS[i].VTRT) + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` =  ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n-              </tr>\n-              `;\n-          }\n-        }\n-      }\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"font-weight:bold;font-size:15px;\">    \n-      <td style=\"text-align:left;\">REMARK:  `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      <td style=\"text-align:left;\"> </td>\n-      <td align=\"right\">NET AMOUNT </td>\n-      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      \n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"2\"></td>\n-      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-      \n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\">TERMS</td>\n-      </tr>\n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n-      </tr>\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      if (ACTYPE != \"AGENCY\") {\n-        MainFirmName = firmArray[0].FIRM;\n-        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      } else {\n-        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-        if (SuppArray.length > 0) {\n-          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n-          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:33%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td>NET AMT</td>\n-          <td>ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td>`+ getValueNotDefine(BA) + `</td>\n-              <td>`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA +=BA;\n-          totalAD +=AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>    \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td>`+totalBA+`</td>\n-            <td>`+totalBA+`</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <hr class=\"pdfhr\">\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      if (getValueNotDefineNo(BLS[i].aia) != 0) {\n-        div += `\n-          <tr>\n-           <td style=\"text-align:right;width:100%;\"colspan=\"3\">INSURANCE ADD : `+ valuetoFixed(BLS[i].aia) + `</td>\n-          </tr>\n-        `;\n-      }\n-      if (getValueNotDefineNo(BLS[i].AA1) != 0) {\n-        div += `\n-          <tr>\n-           <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL ADD : `+ valuetoFixed(BLS[i].AA1) + `</td>\n-          </tr>\n-        `;\n-      }\n-\n-      if (getValueNotDefineNo(BLS[i].O_LS) != 0) {\n-        div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL LESS : `+ valuetoFixed(BLS[i].O_LS) + `</td>\n-          </tr>\n-        `;\n-      }\n-      if (getValueNotDefineNo(BLS[i].LA1RT) != 0) {\n-        div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA1RMK) + ` \n-         `+ valuetoFixed(BLS[i].GAMT) + ` X \n-         <strong>`+ BLS[i].LA1RT + ` % </strong> \n-         `+ BLS[i].LA1AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-      }\n-      if (getValueNotDefineNo(BLS[i].LA2RT) != 0) {\n-        div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA2RMK) + ` \n-         `+ BLS[i].LA2qty + ` X \n-         <strong>`+ BLS[i].LA2RT + ` % </strong> \n-         `+ BLS[i].LA2AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-      }\n-      if (getValueNotDefineNo(BLS[i].LA3RT) != 0) {\n-        div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA3RMK) + ` \n-         `+ BLS[i].LA3qty + ` X \n-         <strong>`+ BLS[i].LA3RT + ` % </strong> \n-         `+ BLS[i].LA3AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-      }\n-      if (parseInt(BLS[i].VTAMT) != 0) {\n-        // console.log(partyStateCode, firmStateCode);\n-        if (parseInt(partyStateCode) == parseInt(firmStateCode)) {\n-          if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n-            div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\"colspan=\"3\">CGST @ `+ BLS[i].VTRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n-              </tr>\n-              `;\n-          }\n-          if (BLS[i].ADVTRT != null && parseInt(BLS[i].ADVTRT) != 0) {\n-            div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\" colspan=\"3\">SGST @ `+ BLS[i].ADRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].ADAMT) + `</td>\n-              </tr>\n-              `;\n-          }\n-        } else {\n-          if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n-            div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\" colspan=\"3\">IGST @ `+ getValueNotDefine(BLS[i].VTRT) + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` =  ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n-              </tr>\n-              `;\n-          }\n-        }\n-      }\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"font-weight:bold;font-size:15px;\">    \n-      <td style=\"text-align:left;\">REMARK:  `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      <td style=\"text-align:left;\"> </td>\n-      <td align=\"right\">NET AMOUNT </td>\n-      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      \n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"2\"></td>\n-      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-      \n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\">TERMS</td>\n-      </tr>\n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n-      </tr>\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      if (ACTYPE != \"AGENCY\") {\n-        MainFirmName = firmArray[0].FIRM;\n-        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      } else {\n-        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-        if (SuppArray.length > 0) {\n-          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n-          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:33%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA=0;\n-      var totalAD=0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td>NET AMT</td>\n-          <td>ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td>`+ getValueNotDefine(BA) + `</td>\n-              <td>`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>    \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td>1234567</td>\n-            <td>1234567</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <hr class=\"pdfhr\">\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      if (getValueNotDefineNo(BLS[i].aia) != 0) {\n-        div += `\n-          <tr>\n-           <td style=\"text-align:right;width:100%;\"colspan=\"3\">INSURANCE ADD : `+ valuetoFixed(BLS[i].aia) + `</td>\n-          </tr>\n-        `;\n-      }\n-      if (getValueNotDefineNo(BLS[i].AA1) != 0) {\n-        div += `\n-          <tr>\n-           <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL ADD : `+ valuetoFixed(BLS[i].AA1) + `</td>\n-          </tr>\n-        `;\n-      }\n-\n-      if (getValueNotDefineNo(BLS[i].O_LS) != 0) {\n-        div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL LESS : `+ valuetoFixed(BLS[i].O_LS) + `</td>\n-          </tr>\n-        `;\n-      }\n-      if (getValueNotDefineNo(BLS[i].LA1RT) != 0) {\n-        div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA1RMK) + ` \n-         `+ valuetoFixed(BLS[i].GAMT) + ` X \n-         <strong>`+ BLS[i].LA1RT + ` % </strong> \n-         `+ BLS[i].LA1AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-      }\n-      if (getValueNotDefineNo(BLS[i].LA2RT) != 0) {\n-        div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA2RMK) + ` \n-         `+ BLS[i].LA2qty + ` X \n-         <strong>`+ BLS[i].LA2RT + ` % </strong> \n-         `+ BLS[i].LA2AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-      }\n-      if (getValueNotDefineNo(BLS[i].LA3RT) != 0) {\n-        div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA3RMK) + ` \n-         `+ BLS[i].LA3qty + ` X \n-         <strong>`+ BLS[i].LA3RT + ` % </strong> \n-         `+ BLS[i].LA3AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-      }\n-      if (parseInt(BLS[i].VTAMT) != 0) {\n-        // console.log(partyStateCode, firmStateCode);\n-        if (parseInt(partyStateCode) == parseInt(firmStateCode)) {\n-          if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n-            div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\"colspan=\"3\">CGST @ `+ BLS[i].VTRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n-              </tr>\n-              `;\n-          }\n-          if (BLS[i].ADVTRT != null && parseInt(BLS[i].ADVTRT) != 0) {\n-            div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\" colspan=\"3\">SGST @ `+ BLS[i].ADRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].ADAMT) + `</td>\n-              </tr>\n-              `;\n-          }\n-        } else {\n-          if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n-            div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\" colspan=\"3\">IGST @ `+ getValueNotDefine(BLS[i].VTRT) + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` =  ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n-              </tr>\n-              `;\n-          }\n-        }\n-      }\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"font-weight:bold;font-size:15px;\">    \n-      <td style=\"text-align:left;\">REMARK:  `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      <td style=\"text-align:left;\"> </td>\n-      <td align=\"right\">NET AMOUNT </td>\n-      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      \n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"2\"></td>\n-      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-      \n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\">TERMS</td>\n-      </tr>\n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n-      </tr>\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      if (ACTYPE != \"AGENCY\") {\n-        MainFirmName = firmArray[0].FIRM;\n-        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      } else {\n-        var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-        if (SuppArray.length > 0) {\n-          CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-          CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-          CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-          CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-          CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n-          CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-          CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:33%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA=0;\n-      var totalAD=0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td>NET AMT</td>\n-          <td>ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA);\n-          var AD = parseFloat(billDet[k].AD);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td>`+ getValueNotDefine(BA) + `</td>\n-              <td>`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>    \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td>1234567</td>\n-            <td>1234567</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <hr class=\"pdfhr\">\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      if (getValueNotDefineNo(BLS[i].aia) != 0) {\n-        div += `\n-          <tr>\n-           <td style=\"text-align:right;width:100%;\"colspan=\"3\">INSURANCE ADD : `+ valuetoFixed(BLS[i].aia) + `</td>\n-          </tr>\n-        `;\n-      }\n-      if (getValueNotDefineNo(BLS[i].AA1) != 0) {\n-        div += `\n-          <tr>\n-           <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL ADD : `+ valuetoFixed(BLS[i].AA1) + `</td>\n-          </tr>\n-        `;\n-      }\n-\n-      if (getValueNotDefineNo(BLS[i].O_LS) != 0) {\n-        div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL LESS : `+ valuetoFixed(BLS[i].O_LS) + `</td>\n-          </tr>\n-        `;\n-      }\n-      if (getValueNotDefineNo(BLS[i].LA1RT) != 0) {\n-        div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA1RMK) + ` \n-         `+ valuetoFixed(BLS[i].GAMT) + ` X \n-         <strong>`+ BLS[i].LA1RT + ` % </strong> \n-         `+ BLS[i].LA1AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-      }\n-      if (getValueNotDefineNo(BLS[i].LA2RT) != 0) {\n-        div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA2RMK) + ` \n-         `+ BLS[i].LA2qty + ` X \n-         <strong>`+ BLS[i].LA2RT + ` % </strong> \n-         `+ BLS[i].LA2AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-      }\n-      if (getValueNotDefineNo(BLS[i].LA3RT) != 0) {\n-        div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA3RMK) + ` \n-         `+ BLS[i].LA3qty + ` X \n-         <strong>`+ BLS[i].LA3RT + ` % </strong> \n-         `+ BLS[i].LA3AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-      }\n-      if (parseInt(BLS[i].VTAMT) != 0) {\n-        // console.log(partyStateCode, firmStateCode);\n-        if (parseInt(partyStateCode) == parseInt(firmStateCode)) {\n-          if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n-            div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\"colspan=\"3\">CGST @ `+ BLS[i].VTRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n-              </tr>\n-              `;\n-          }\n-          if (BLS[i].ADVTRT != null && parseInt(BLS[i].ADVTRT) != 0) {\n-            div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\" colspan=\"3\">SGST @ `+ BLS[i].ADRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].ADAMT) + `</td>\n-              </tr>\n-              `;\n-          }\n-        } else {\n-          if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n-            div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\" colspan=\"3\">IGST @ `+ getValueNotDefine(BLS[i].VTRT) + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` =  ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n-              </tr>\n-              `;\n-          }\n-        }\n-      }\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"font-weight:bold;font-size:15px;\">    \n-      <td style=\"text-align:left;\">REMARK:  `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      <td style=\"text-align:left;\"> </td>\n-      <td align=\"right\">NET AMOUNT </td>\n-      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      \n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"2\"></td>\n-      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-      \n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\">TERMS</td>\n-      </tr>\n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n-      </tr>\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase() \n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-        var BillName = 'TAX INVOICE';\n-        var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-        if (BLS[i].DT != \"os\") {\n-          BillName = SERIESArr[0].SERIES;\n-        }\n-        BillName=\"\";\n-        firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-        partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-        COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-        COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-        var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-        // console.log(partyArray)\n-        partyStateCode = '';\n-        var pcode = '';\n-        var city = '';\n-        var broker = '';\n-        var label = '';\n-        var MO = '';\n-        var ATYPE = '';\n-        var AD1 = '';\n-        var AD2 = '';\n-        var GST = '';\n-        var ST = '';\n-        var dhara = '';\n-        var partyStateCode = '';\n-        var lbl = '';\n-        if (partyArray.length > 0) {\n-          pcode = getValueNotDefine(partyArray[0].partyname);\n-          city = getValueNotDefine(partyArray[0].city);\n-          broker = getValueNotDefine(partyArray[0].broker);\n-          label = getValueNotDefine(partyArray[0].label);\n-          MO = getValueNotDefine(partyArray[0].MO);\n-          ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-          AD1 = getValueNotDefine(partyArray[0].AD1);\n-          AD2 = getValueNotDefine(partyArray[0].AD2);\n-          GST = getValueNotDefine(partyArray[0].GST);\n-          GST = GST == null || GST == '' ? '' : GST;\n-          ST = getValueNotDefine(partyArray[0].ST);\n-          dhara = getValueNotDefineNo(partyArray[0].dhara);\n-          partyStateCode = (GST).substring(0, 2);\n-          lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-        }\n-        // console.table(firmArray)\n-        var CO_ADD1 = \"\";\n-        var CO_ADD2 = \"\";\n-        var CO_ADD3 = \"\";\n-        var CO_ADD4 = \"\";\n-        var CO_CITY = \"\";\n-        var CO_COMPANY_GSTIN = \"\";\n-        var CO_PANNO = \"\";\n-        var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-        if (ACTYPE != \"AGENCY\") {\n-          MainFirmName = firmArray[0].FIRM;\n-          CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-          CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-          CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-          CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-          CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-          CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-          CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-        } else {\n-          var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-          if (SuppArray.length > 0) {\n-            CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-            CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-            CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-            CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-            CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n-            CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-            CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n-          }\n-        }\n-        console.log(BLS[i].DT)\n-        div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , `+ city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:33%;\">\n-        `;\n-\n-        DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-        // DET = DETdata.filter(function (data) {\n-        //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-        //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-        //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-        // })\n-        console.log(DET);\n-        if (DET.length > 0) {\n-          div += `\n-          <table  class=\"\" style=\"font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td>NET AMT</td>\n-          <td>ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-          var sr = 0;\n-          var billDet = DET[0].billDetails;\n-          billDet = billDet.sort(function (a, b) {\n-            return parseInt(a.SR) - parseInt(b.SR);\n-          })\n-          for (var k = 0; k < billDet.length; k++) {\n-            ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-            var ccdpcode = \"\";\n-            if (ccode.length > 0) {\n-              ccdpcode = getValueNotDefine(ccode[0].partyname);\n-            }\n-            var RATE = parseFloat(billDet[k].RATE);\n-            var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-            var finalRate = RATE + (DHARA * RATE / 100);\n-            sr += 1;\n-\n-            var BA= parseFloat(billDet[k].BA);\n-            var AD= parseFloat(billDet[k].AD);\n-\n-\n-            div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td>`+ getValueNotDefine(billDet[k].BA) + `</td>\n-              <td>`+ getValueNotDefine(billDet[k].AD) + `</td>\n-              </tr>`;\n-          }\n-          div += ` </table>\n-          `;\n-        }\n-        div += ` \n-        </div>    \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td>1234567</td>\n-            <td>1234567</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <hr class=\"pdfhr\">\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-        if (getValueNotDefineNo(BLS[i].aia) != 0) {\n-          div += `\n-          <tr>\n-           <td style=\"text-align:right;width:100%;\"colspan=\"3\">INSURANCE ADD : `+ valuetoFixed(BLS[i].aia) + `</td>\n-          </tr>\n-        `;\n-        }\n-        if (getValueNotDefineNo(BLS[i].AA1) != 0) {\n-          div += `\n-          <tr>\n-           <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL ADD : `+ valuetoFixed(BLS[i].AA1) + `</td>\n-          </tr>\n-        `;\n-        }\n-\n-        if (getValueNotDefineNo(BLS[i].O_LS) != 0) {\n-          div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL LESS : `+ valuetoFixed(BLS[i].O_LS) + `</td>\n-          </tr>\n-        `;\n-        }\n-        if (getValueNotDefineNo(BLS[i].LA1RT) != 0) {\n-          div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA1RMK) + ` \n-         `+ valuetoFixed(BLS[i].GAMT) + ` X \n-         <strong>`+ BLS[i].LA1RT + ` % </strong> \n-         `+ BLS[i].LA1AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-        }\n-        if (getValueNotDefineNo(BLS[i].LA2RT) != 0) {\n-          div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA2RMK) + ` \n-         `+ BLS[i].LA2qty + ` X \n-         <strong>`+ BLS[i].LA2RT + ` % </strong> \n-         `+ BLS[i].LA2AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-        }\n-        if (getValueNotDefineNo(BLS[i].LA3RT) != 0) {\n-          div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA3RMK) + ` \n-         `+ BLS[i].LA3qty + ` X \n-         <strong>`+ BLS[i].LA3RT + ` % </strong> \n-         `+ BLS[i].LA3AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-        }\n-        if (parseInt(BLS[i].VTAMT) != 0) {\n-          // console.log(partyStateCode, firmStateCode);\n-          if (parseInt(partyStateCode) == parseInt(firmStateCode)) {\n-            if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n-              div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\"colspan=\"3\">CGST @ `+ BLS[i].VTRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n-              </tr>\n-              `;\n-            }\n-            if (BLS[i].ADVTRT != null && parseInt(BLS[i].ADVTRT) != 0) {\n-              div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\" colspan=\"3\">SGST @ `+ BLS[i].ADRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].ADAMT) + `</td>\n-              </tr>\n-              `;\n-            }\n-          } else {\n-            if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n-              div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\" colspan=\"3\">IGST @ `+ getValueNotDefine(BLS[i].VTRT) + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` =  ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n-              </tr>\n-              `;\n-            }\n-          }\n-        }\n-\n-        div += `\n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"font-weight:bold;font-size:15px;\">    \n-      <td style=\"text-align:left;\">REMARK:  `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      <td style=\"text-align:left;\"> </td>\n-      <td align=\"right\">NET AMOUNT </td>\n-      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      \n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"2\"></td>\n-      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-      \n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\">TERMS</td>\n-      </tr>\n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n-      </tr>\n-    </table>\n-    </div>\n-      `;\n-        BILL = getValueNotDefine(BLS[i].BLL);\n-        var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-        document.title = \"BILL NO \" + BILL;\n-      \n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase() \n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-        var BillName = 'TAX INVOICE';\n-        var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-        if (BLS[i].DT != \"os\") {\n-          BillName = SERIESArr[0].SERIES;\n-        }\n-        BillName=\"\";\n-        firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-        partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-        COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-        COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-        var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-        // console.log(partyArray)\n-        partyStateCode = '';\n-        var pcode = '';\n-        var city = '';\n-        var broker = '';\n-        var label = '';\n-        var MO = '';\n-        var ATYPE = '';\n-        var AD1 = '';\n-        var AD2 = '';\n-        var GST = '';\n-        var ST = '';\n-        var dhara = '';\n-        var partyStateCode = '';\n-        var lbl = '';\n-        if (partyArray.length > 0) {\n-          pcode = getValueNotDefine(partyArray[0].partyname);\n-          city = getValueNotDefine(partyArray[0].city);\n-          broker = getValueNotDefine(partyArray[0].broker);\n-          label = getValueNotDefine(partyArray[0].label);\n-          MO = getValueNotDefine(partyArray[0].MO);\n-          ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-          AD1 = getValueNotDefine(partyArray[0].AD1);\n-          AD2 = getValueNotDefine(partyArray[0].AD2);\n-          GST = getValueNotDefine(partyArray[0].GST);\n-          GST = GST == null || GST == '' ? '' : GST;\n-          ST = getValueNotDefine(partyArray[0].ST);\n-          dhara = getValueNotDefineNo(partyArray[0].dhara);\n-          partyStateCode = (GST).substring(0, 2);\n-          lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-        }\n-        // console.table(firmArray)\n-        var CO_ADD1 = \"\";\n-        var CO_ADD2 = \"\";\n-        var CO_ADD3 = \"\";\n-        var CO_ADD4 = \"\";\n-        var CO_CITY = \"\";\n-        var CO_COMPANY_GSTIN = \"\";\n-        var CO_PANNO = \"\";\n-        var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-        if (ACTYPE != \"AGENCY\") {\n-          MainFirmName = firmArray[0].FIRM;\n-          CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-          CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-          CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-          CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-          CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-          CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-          CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-        } else {\n-          var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-          if (SuppArray.length > 0) {\n-            CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-            CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-            CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-            CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-            CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n-            CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-            CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n-          }\n-        }\n-        console.log(BLS[i].DT)\n-        div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , `+ city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:33%;\">\n-        `;\n-\n-        DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-        // DET = DETdata.filter(function (data) {\n-        //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-        //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-        //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-        // })\n-        console.log(DET);\n-        if (DET.length > 0) {\n-          div += `\n-          <table  class=\"\" style=\"font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td>NET AMT</td>\n-          <td>ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-          var sr = 0;\n-          var billDet = DET[0].billDetails;\n-          billDet = billDet.sort(function (a, b) {\n-            return parseInt(a.SR) - parseInt(b.SR);\n-          })\n-          for (var k = 0; k < billDet.length; k++) {\n-            ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-            var ccdpcode = \"\";\n-            if (ccode.length > 0) {\n-              ccdpcode = getValueNotDefine(ccode[0].partyname);\n-            }\n-            var RATE = parseFloat(billDet[k].RATE);\n-            var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-            var finalRate = RATE + (DHARA * RATE / 100);\n-            sr += 1;\n-            div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td>`+ getValueNotDefine(billDet[k].BA) + `</td>\n-              <td>`+ getValueNotDefine(billDet[k].AD) + `</td>\n-              </tr>`;\n-          }\n-          div += ` </table>\n-          `;\n-        }\n-        div += ` \n-        </div>    \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td>1234567</td>\n-            <td>1234567</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <hr class=\"pdfhr\">\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-        if (getValueNotDefineNo(BLS[i].aia) != 0) {\n-          div += `\n-          <tr>\n-           <td style=\"text-align:right;width:100%;\"colspan=\"3\">INSURANCE ADD : `+ valuetoFixed(BLS[i].aia) + `</td>\n-          </tr>\n-        `;\n-        }\n-        if (getValueNotDefineNo(BLS[i].AA1) != 0) {\n-          div += `\n-          <tr>\n-           <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL ADD : `+ valuetoFixed(BLS[i].AA1) + `</td>\n-          </tr>\n-        `;\n-        }\n-\n-        if (getValueNotDefineNo(BLS[i].O_LS) != 0) {\n-          div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL LESS : `+ valuetoFixed(BLS[i].O_LS) + `</td>\n-          </tr>\n-        `;\n-        }\n-        if (getValueNotDefineNo(BLS[i].LA1RT) != 0) {\n-          div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA1RMK) + ` \n-         `+ valuetoFixed(BLS[i].GAMT) + ` X \n-         <strong>`+ BLS[i].LA1RT + ` % </strong> \n-         `+ BLS[i].LA1AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-        }\n-        if (getValueNotDefineNo(BLS[i].LA2RT) != 0) {\n-          div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA2RMK) + ` \n-         `+ BLS[i].LA2qty + ` X \n-         <strong>`+ BLS[i].LA2RT + ` % </strong> \n-         `+ BLS[i].LA2AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-        }\n-        if (getValueNotDefineNo(BLS[i].LA3RT) != 0) {\n-          div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA3RMK) + ` \n-         `+ BLS[i].LA3qty + ` X \n-         <strong>`+ BLS[i].LA3RT + ` % </strong> \n-         `+ BLS[i].LA3AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-        }\n-        if (parseInt(BLS[i].VTAMT) != 0) {\n-          // console.log(partyStateCode, firmStateCode);\n-          if (parseInt(partyStateCode) == parseInt(firmStateCode)) {\n-            if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n-              div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\"colspan=\"3\">CGST @ `+ BLS[i].VTRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n-              </tr>\n-              `;\n-            }\n-            if (BLS[i].ADVTRT != null && parseInt(BLS[i].ADVTRT) != 0) {\n-              div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\" colspan=\"3\">SGST @ `+ BLS[i].ADRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].ADAMT) + `</td>\n-              </tr>\n-              `;\n-            }\n-          } else {\n-            if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n-              div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\" colspan=\"3\">IGST @ `+ getValueNotDefine(BLS[i].VTRT) + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` =  ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n-              </tr>\n-              `;\n-            }\n-          }\n-        }\n-\n-        div += `\n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"font-weight:bold;font-size:15px;\">    \n-      <td style=\"text-align:left;\">REMARK:  `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      <td style=\"text-align:left;\"> </td>\n-      <td align=\"right\">NET AMOUNT </td>\n-      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      \n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"2\"></td>\n-      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-      \n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\">TERMS</td>\n-      </tr>\n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n-      </tr>\n-    </table>\n-    </div>\n-      `;\n-        BILL = getValueNotDefine(BLS[i].BLL);\n-        var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-        document.title = \"BILL NO \" + BILL;\n-      \n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase() \n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-        var BillName = 'TAX INVOICE';\n-        var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-        if (BLS[i].DT != \"os\") {\n-          BillName = SERIESArr[0].SERIES;\n-        }\n-        BillName=\"\";\n-        firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-        partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-        COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-        COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-        var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-        // console.log(partyArray)\n-        partyStateCode = '';\n-        var pcode = '';\n-        var city = '';\n-        var broker = '';\n-        var label = '';\n-        var MO = '';\n-        var ATYPE = '';\n-        var AD1 = '';\n-        var AD2 = '';\n-        var GST = '';\n-        var ST = '';\n-        var dhara = '';\n-        var partyStateCode = '';\n-        var lbl = '';\n-        if (partyArray.length > 0) {\n-          pcode = getValueNotDefine(partyArray[0].partyname);\n-          city = getValueNotDefine(partyArray[0].city);\n-          broker = getValueNotDefine(partyArray[0].broker);\n-          label = getValueNotDefine(partyArray[0].label);\n-          MO = getValueNotDefine(partyArray[0].MO);\n-          ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-          AD1 = getValueNotDefine(partyArray[0].AD1);\n-          AD2 = getValueNotDefine(partyArray[0].AD2);\n-          GST = getValueNotDefine(partyArray[0].GST);\n-          GST = GST == null || GST == '' ? '' : GST;\n-          ST = getValueNotDefine(partyArray[0].ST);\n-          dhara = getValueNotDefineNo(partyArray[0].dhara);\n-          partyStateCode = (GST).substring(0, 2);\n-          lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-        }\n-        // console.table(firmArray)\n-        var CO_ADD1 = \"\";\n-        var CO_ADD2 = \"\";\n-        var CO_ADD3 = \"\";\n-        var CO_ADD4 = \"\";\n-        var CO_CITY = \"\";\n-        var CO_COMPANY_GSTIN = \"\";\n-        var CO_PANNO = \"\";\n-        var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-        if (ACTYPE != \"AGENCY\") {\n-          MainFirmName = firmArray[0].FIRM;\n-          CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-          CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-          CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-          CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-          CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-          CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-          CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-        } else {\n-          var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-          if (SuppArray.length > 0) {\n-            CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-            CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-            CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-            CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-            CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n-            CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-            CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n-          }\n-        }\n-        console.log(BLS[i].DT)\n-        div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , `+ city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:33%;\">\n-        `;\n-\n-        DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-        // DET = DETdata.filter(function (data) {\n-        //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-        //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-        //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-        // })\n-        console.log(DET);\n-        if (DET.length > 0) {\n-          div += `\n-          <table  class=\"\" style=\"font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td>NET AMT</td>\n-          <td>ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-          var sr = 0;\n-          var billDet = DET[0].billDetails;\n-          billDet = billDet.sort(function (a, b) {\n-            return parseInt(a.SR) - parseInt(b.SR);\n-          })\n-          for (var k = 0; k < billDet.length; k++) {\n-            ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-            var ccdpcode = \"\";\n-            if (ccode.length > 0) {\n-              ccdpcode = getValueNotDefine(ccode[0].partyname);\n-            }\n-            var RATE = parseFloat(billDet[k].RATE);\n-            var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-            var finalRate = RATE + (DHARA * RATE / 100);\n-            sr += 1;\n-            div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td>`+ getValueNotDefine(billDet[k].BA) + `</td>\n-              <td>`+ getValueNotDefine(billDet[k].AD) + `</td>\n-              </tr>`;\n-          }\n-          div += ` </table>\n-          `;\n-        }\n-        div += ` \n-        </div>    \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;font-size:12px;font-weight:bold;\"class=\"upperCase\">\n-        <TD>\n-        <table>\n-          <tr>\n-            <td>Total</td>\n-            <td>1234567</td>\n-            <td>1234567</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <hr class=\"pdfhr\">\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-        if (getValueNotDefineNo(BLS[i].aia) != 0) {\n-          div += `\n-          <tr>\n-           <td style=\"text-align:right;width:100%;\"colspan=\"3\">INSURANCE ADD : `+ valuetoFixed(BLS[i].aia) + `</td>\n-          </tr>\n-        `;\n-        }\n-        if (getValueNotDefineNo(BLS[i].AA1) != 0) {\n-          div += `\n-          <tr>\n-           <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL ADD : `+ valuetoFixed(BLS[i].AA1) + `</td>\n-          </tr>\n-        `;\n-        }\n-\n-        if (getValueNotDefineNo(BLS[i].O_LS) != 0) {\n-          div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL LESS : `+ valuetoFixed(BLS[i].O_LS) + `</td>\n-          </tr>\n-        `;\n-        }\n-        if (getValueNotDefineNo(BLS[i].LA1RT) != 0) {\n-          div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA1RMK) + ` \n-         `+ valuetoFixed(BLS[i].GAMT) + ` X \n-         <strong>`+ BLS[i].LA1RT + ` % </strong> \n-         `+ BLS[i].LA1AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-        }\n-        if (getValueNotDefineNo(BLS[i].LA2RT) != 0) {\n-          div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA2RMK) + ` \n-         `+ BLS[i].LA2qty + ` X \n-         <strong>`+ BLS[i].LA2RT + ` % </strong> \n-         `+ BLS[i].LA2AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-        }\n-        if (getValueNotDefineNo(BLS[i].LA3RT) != 0) {\n-          div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA3RMK) + ` \n-         `+ BLS[i].LA3qty + ` X \n-         <strong>`+ BLS[i].LA3RT + ` % </strong> \n-         `+ BLS[i].LA3AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-        }\n-        if (parseInt(BLS[i].VTAMT) != 0) {\n-          // console.log(partyStateCode, firmStateCode);\n-          if (parseInt(partyStateCode) == parseInt(firmStateCode)) {\n-            if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n-              div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\"colspan=\"3\">CGST @ `+ BLS[i].VTRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n-              </tr>\n-              `;\n-            }\n-            if (BLS[i].ADVTRT != null && parseInt(BLS[i].ADVTRT) != 0) {\n-              div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\" colspan=\"3\">SGST @ `+ BLS[i].ADRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].ADAMT) + `</td>\n-              </tr>\n-              `;\n-            }\n-          } else {\n-            if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n-              div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\" colspan=\"3\">IGST @ `+ getValueNotDefine(BLS[i].VTRT) + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` =  ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n-              </tr>\n-              `;\n-            }\n-          }\n-        }\n-\n-        div += `\n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"font-weight:bold;font-size:15px;\">    \n-      <td style=\"text-align:left;\">REMARK:  `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      <td style=\"text-align:left;\"> </td>\n-      <td align=\"right\">NET AMOUNT </td>\n-      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      \n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"2\"></td>\n-      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-      \n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\">TERMS</td>\n-      </tr>\n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n-      </tr>\n-    </table>\n-    </div>\n-      `;\n-        BILL = getValueNotDefine(BLS[i].BLL);\n-        var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-        document.title = \"BILL NO \" + BILL;\n-      \n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase() \n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-        var BillName = 'TAX INVOICE';\n-        var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-        if (BLS[i].DT != \"os\") {\n-          BillName = SERIESArr[0].SERIES;\n-        }\n-        BillName=\"\";\n-        firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-        partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-        COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-        COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-        var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-        // console.log(partyArray)\n-        partyStateCode = '';\n-        var pcode = '';\n-        var city = '';\n-        var broker = '';\n-        var label = '';\n-        var MO = '';\n-        var ATYPE = '';\n-        var AD1 = '';\n-        var AD2 = '';\n-        var GST = '';\n-        var ST = '';\n-        var dhara = '';\n-        var partyStateCode = '';\n-        var lbl = '';\n-        if (partyArray.length > 0) {\n-          pcode = getValueNotDefine(partyArray[0].partyname);\n-          city = getValueNotDefine(partyArray[0].city);\n-          broker = getValueNotDefine(partyArray[0].broker);\n-          label = getValueNotDefine(partyArray[0].label);\n-          MO = getValueNotDefine(partyArray[0].MO);\n-          ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-          AD1 = getValueNotDefine(partyArray[0].AD1);\n-          AD2 = getValueNotDefine(partyArray[0].AD2);\n-          GST = getValueNotDefine(partyArray[0].GST);\n-          GST = GST == null || GST == '' ? '' : GST;\n-          ST = getValueNotDefine(partyArray[0].ST);\n-          dhara = getValueNotDefineNo(partyArray[0].dhara);\n-          partyStateCode = (GST).substring(0, 2);\n-          lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-        }\n-        // console.table(firmArray)\n-        var CO_ADD1 = \"\";\n-        var CO_ADD2 = \"\";\n-        var CO_ADD3 = \"\";\n-        var CO_ADD4 = \"\";\n-        var CO_CITY = \"\";\n-        var CO_COMPANY_GSTIN = \"\";\n-        var CO_PANNO = \"\";\n-        var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-        if (ACTYPE != \"AGENCY\") {\n-          MainFirmName = firmArray[0].FIRM;\n-          CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-          CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-          CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-          CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-          CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-          CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-          CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-        } else {\n-          var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-          if (SuppArray.length > 0) {\n-            CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-            CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-            CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-            CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-            CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n-            CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-            CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n-          }\n-        }\n-        console.log(BLS[i].DT)\n-        div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , `+ city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:33%;\">\n-        `;\n-\n-        DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-        // DET = DETdata.filter(function (data) {\n-        //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-        //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-        //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-        // })\n-        console.log(DET);\n-        if (DET.length > 0) {\n-          div += `\n-          <table  class=\"\" style=\"font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td>NET AMT</td>\n-          <td>ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-          var sr = 0;\n-          var billDet = DET[0].billDetails;\n-          billDet = billDet.sort(function (a, b) {\n-            return parseInt(a.SR) - parseInt(b.SR);\n-          })\n-          for (var k = 0; k < billDet.length; k++) {\n-            ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-            var ccdpcode = \"\";\n-            if (ccode.length > 0) {\n-              ccdpcode = getValueNotDefine(ccode[0].partyname);\n-            }\n-            var RATE = parseFloat(billDet[k].RATE);\n-            var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-            var finalRate = RATE + (DHARA * RATE / 100);\n-            sr += 1;\n-            div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td>`+ getValueNotDefine(billDet[k].BA) + `</td>\n-              <td>`+ getValueNotDefine(billDet[k].AD) + `</td>\n-              </tr>`;\n-          }\n-          div += ` </table>\n-          `;\n-        }\n-        div += ` \n-        </div>    \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;font-size:12px;\"class=\"upperCase\">\n-        <TD>\n-        <table>\n-          <tr>\n-            <td>Total</td>\n-            <td>1234567</td>\n-            <td>1234567</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <hr class=\"pdfhr\">\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-        if (getValueNotDefineNo(BLS[i].aia) != 0) {\n-          div += `\n-          <tr>\n-           <td style=\"text-align:right;width:100%;\"colspan=\"3\">INSURANCE ADD : `+ valuetoFixed(BLS[i].aia) + `</td>\n-          </tr>\n-        `;\n-        }\n-        if (getValueNotDefineNo(BLS[i].AA1) != 0) {\n-          div += `\n-          <tr>\n-           <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL ADD : `+ valuetoFixed(BLS[i].AA1) + `</td>\n-          </tr>\n-        `;\n-        }\n-\n-        if (getValueNotDefineNo(BLS[i].O_LS) != 0) {\n-          div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL LESS : `+ valuetoFixed(BLS[i].O_LS) + `</td>\n-          </tr>\n-        `;\n-        }\n-        if (getValueNotDefineNo(BLS[i].LA1RT) != 0) {\n-          div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA1RMK) + ` \n-         `+ valuetoFixed(BLS[i].GAMT) + ` X \n-         <strong>`+ BLS[i].LA1RT + ` % </strong> \n-         `+ BLS[i].LA1AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-        }\n-        if (getValueNotDefineNo(BLS[i].LA2RT) != 0) {\n-          div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA2RMK) + ` \n-         `+ BLS[i].LA2qty + ` X \n-         <strong>`+ BLS[i].LA2RT + ` % </strong> \n-         `+ BLS[i].LA2AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-        }\n-        if (getValueNotDefineNo(BLS[i].LA3RT) != 0) {\n-          div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA3RMK) + ` \n-         `+ BLS[i].LA3qty + ` X \n-         <strong>`+ BLS[i].LA3RT + ` % </strong> \n-         `+ BLS[i].LA3AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-        }\n-        if (parseInt(BLS[i].VTAMT) != 0) {\n-          // console.log(partyStateCode, firmStateCode);\n-          if (parseInt(partyStateCode) == parseInt(firmStateCode)) {\n-            if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n-              div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\"colspan=\"3\">CGST @ `+ BLS[i].VTRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n-              </tr>\n-              `;\n-            }\n-            if (BLS[i].ADVTRT != null && parseInt(BLS[i].ADVTRT) != 0) {\n-              div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\" colspan=\"3\">SGST @ `+ BLS[i].ADRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].ADAMT) + `</td>\n-              </tr>\n-              `;\n-            }\n-          } else {\n-            if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n-              div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\" colspan=\"3\">IGST @ `+ getValueNotDefine(BLS[i].VTRT) + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` =  ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n-              </tr>\n-              `;\n-            }\n-          }\n-        }\n-\n-        div += `\n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"font-weight:bold;font-size:15px;\">    \n-      <td style=\"text-align:left;\">REMARK:  `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      <td style=\"text-align:left;\"> </td>\n-      <td align=\"right\">NET AMOUNT </td>\n-      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      \n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"2\"></td>\n-      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-      \n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\">TERMS</td>\n-      </tr>\n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n-      </tr>\n-    </table>\n-    </div>\n-      `;\n-        BILL = getValueNotDefine(BLS[i].BLL);\n-        var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-        document.title = \"BILL NO \" + BILL;\n-      \n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase() \n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-        var BillName = 'TAX INVOICE';\n-        var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-        if (BLS[i].DT != \"os\") {\n-          BillName = SERIESArr[0].SERIES;\n-        }\n-        BillName=\"\";\n-        firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-        partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-        COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-        COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-        var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-        // console.log(partyArray)\n-        partyStateCode = '';\n-        var pcode = '';\n-        var city = '';\n-        var broker = '';\n-        var label = '';\n-        var MO = '';\n-        var ATYPE = '';\n-        var AD1 = '';\n-        var AD2 = '';\n-        var GST = '';\n-        var ST = '';\n-        var dhara = '';\n-        var partyStateCode = '';\n-        var lbl = '';\n-        if (partyArray.length > 0) {\n-          pcode = getValueNotDefine(partyArray[0].partyname);\n-          city = getValueNotDefine(partyArray[0].city);\n-          broker = getValueNotDefine(partyArray[0].broker);\n-          label = getValueNotDefine(partyArray[0].label);\n-          MO = getValueNotDefine(partyArray[0].MO);\n-          ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-          AD1 = getValueNotDefine(partyArray[0].AD1);\n-          AD2 = getValueNotDefine(partyArray[0].AD2);\n-          GST = getValueNotDefine(partyArray[0].GST);\n-          GST = GST == null || GST == '' ? '' : GST;\n-          ST = getValueNotDefine(partyArray[0].ST);\n-          dhara = getValueNotDefineNo(partyArray[0].dhara);\n-          partyStateCode = (GST).substring(0, 2);\n-          lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-        }\n-        // console.table(firmArray)\n-        var CO_ADD1 = \"\";\n-        var CO_ADD2 = \"\";\n-        var CO_ADD3 = \"\";\n-        var CO_ADD4 = \"\";\n-        var CO_CITY = \"\";\n-        var CO_COMPANY_GSTIN = \"\";\n-        var CO_PANNO = \"\";\n-        var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-        if (ACTYPE != \"AGENCY\") {\n-          MainFirmName = firmArray[0].FIRM;\n-          CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-          CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-          CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-          CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-          CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-          CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-          CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-        } else {\n-          var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-          if (SuppArray.length > 0) {\n-            CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-            CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-            CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-            CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-            CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n-            CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-            CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n-          }\n-        }\n-        console.log(BLS[i].DT)\n-        div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , `+ city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:33%;\">\n-        `;\n-\n-        DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-        // DET = DETdata.filter(function (data) {\n-        //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-        //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-        //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-        // })\n-        console.log(DET);\n-        if (DET.length > 0) {\n-          div += `\n-          <table  class=\"\" style=\"font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td>NET AMT</td>\n-          <td>ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-          var sr = 0;\n-          var billDet = DET[0].billDetails;\n-          billDet = billDet.sort(function (a, b) {\n-            return parseInt(a.SR) - parseInt(b.SR);\n-          })\n-          for (var k = 0; k < billDet.length; k++) {\n-            ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-            var ccdpcode = \"\";\n-            if (ccode.length > 0) {\n-              ccdpcode = getValueNotDefine(ccode[0].partyname);\n-            }\n-            var RATE = parseFloat(billDet[k].RATE);\n-            var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-            var finalRate = RATE + (DHARA * RATE / 100);\n-            sr += 1;\n-            div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td>`+ getValueNotDefine(billDet[k].BA) + `</td>\n-              <td>`+ getValueNotDefine(billDet[k].AD) + `</td>\n-              </tr>`;\n-          }\n-          div += ` </table>\n-          `;\n-        }\n-        div += ` \n-        </div>    \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table>\n-          <tr>\n-            <td>Total</td>\n-            <td>1234567</td>\n-            <td>1234567</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <hr class=\"pdfhr\">\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-        if (getValueNotDefineNo(BLS[i].aia) != 0) {\n-          div += `\n-          <tr>\n-           <td style=\"text-align:right;width:100%;\"colspan=\"3\">INSURANCE ADD : `+ valuetoFixed(BLS[i].aia) + `</td>\n-          </tr>\n-        `;\n-        }\n-        if (getValueNotDefineNo(BLS[i].AA1) != 0) {\n-          div += `\n-          <tr>\n-           <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL ADD : `+ valuetoFixed(BLS[i].AA1) + `</td>\n-          </tr>\n-        `;\n-        }\n-\n-        if (getValueNotDefineNo(BLS[i].O_LS) != 0) {\n-          div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL LESS : `+ valuetoFixed(BLS[i].O_LS) + `</td>\n-          </tr>\n-        `;\n-        }\n-        if (getValueNotDefineNo(BLS[i].LA1RT) != 0) {\n-          div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA1RMK) + ` \n-         `+ valuetoFixed(BLS[i].GAMT) + ` X \n-         <strong>`+ BLS[i].LA1RT + ` % </strong> \n-         `+ BLS[i].LA1AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-        }\n-        if (getValueNotDefineNo(BLS[i].LA2RT) != 0) {\n-          div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA2RMK) + ` \n-         `+ BLS[i].LA2qty + ` X \n-         <strong>`+ BLS[i].LA2RT + ` % </strong> \n-         `+ BLS[i].LA2AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-        }\n-        if (getValueNotDefineNo(BLS[i].LA3RT) != 0) {\n-          div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA3RMK) + ` \n-         `+ BLS[i].LA3qty + ` X \n-         <strong>`+ BLS[i].LA3RT + ` % </strong> \n-         `+ BLS[i].LA3AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-        }\n-        if (parseInt(BLS[i].VTAMT) != 0) {\n-          // console.log(partyStateCode, firmStateCode);\n-          if (parseInt(partyStateCode) == parseInt(firmStateCode)) {\n-            if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n-              div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\"colspan=\"3\">CGST @ `+ BLS[i].VTRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n-              </tr>\n-              `;\n-            }\n-            if (BLS[i].ADVTRT != null && parseInt(BLS[i].ADVTRT) != 0) {\n-              div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\" colspan=\"3\">SGST @ `+ BLS[i].ADRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].ADAMT) + `</td>\n-              </tr>\n-              `;\n-            }\n-          } else {\n-            if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n-              div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\" colspan=\"3\">IGST @ `+ getValueNotDefine(BLS[i].VTRT) + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` =  ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n-              </tr>\n-              `;\n-            }\n-          }\n-        }\n-\n-        div += `\n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"font-weight:bold;font-size:15px;\">    \n-      <td style=\"text-align:left;\">REMARK:  `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      <td style=\"text-align:left;\"> </td>\n-      <td align=\"right\">NET AMOUNT </td>\n-      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      \n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"2\"></td>\n-      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-      \n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\">TERMS</td>\n-      </tr>\n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n-      </tr>\n-    </table>\n-    </div>\n-      `;\n-        BILL = getValueNotDefine(BLS[i].BLL);\n-        var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-        document.title = \"BILL NO \" + BILL;\n-      \n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase() \n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-        var BillName = 'TAX INVOICE';\n-        var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-        if (BLS[i].DT != \"os\") {\n-          BillName = SERIESArr[0].SERIES;\n-        }\n-        BillName=\"\";\n-        firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-        partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-        COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-        COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-        var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-        // console.log(partyArray)\n-        partyStateCode = '';\n-        var pcode = '';\n-        var city = '';\n-        var broker = '';\n-        var label = '';\n-        var MO = '';\n-        var ATYPE = '';\n-        var AD1 = '';\n-        var AD2 = '';\n-        var GST = '';\n-        var ST = '';\n-        var dhara = '';\n-        var partyStateCode = '';\n-        var lbl = '';\n-        if (partyArray.length > 0) {\n-          pcode = getValueNotDefine(partyArray[0].partyname);\n-          city = getValueNotDefine(partyArray[0].city);\n-          broker = getValueNotDefine(partyArray[0].broker);\n-          label = getValueNotDefine(partyArray[0].label);\n-          MO = getValueNotDefine(partyArray[0].MO);\n-          ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-          AD1 = getValueNotDefine(partyArray[0].AD1);\n-          AD2 = getValueNotDefine(partyArray[0].AD2);\n-          GST = getValueNotDefine(partyArray[0].GST);\n-          GST = GST == null || GST == '' ? '' : GST;\n-          ST = getValueNotDefine(partyArray[0].ST);\n-          dhara = getValueNotDefineNo(partyArray[0].dhara);\n-          partyStateCode = (GST).substring(0, 2);\n-          lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-        }\n-        // console.table(firmArray)\n-        var CO_ADD1 = \"\";\n-        var CO_ADD2 = \"\";\n-        var CO_ADD3 = \"\";\n-        var CO_ADD4 = \"\";\n-        var CO_CITY = \"\";\n-        var CO_COMPANY_GSTIN = \"\";\n-        var CO_PANNO = \"\";\n-        var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-        if (ACTYPE != \"AGENCY\") {\n-          MainFirmName = firmArray[0].FIRM;\n-          CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-          CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-          CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-          CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-          CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-          CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-          CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-        } else {\n-          var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-          if (SuppArray.length > 0) {\n-            CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-            CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-            CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-            CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-            CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n-            CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-            CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n-          }\n-        }\n-        console.log(BLS[i].DT)\n-        div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , `+ city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:33%;\">\n-        `;\n-\n-        DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-        // DET = DETdata.filter(function (data) {\n-        //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-        //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-        //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-        // })\n-        console.log(DET);\n-        if (DET.length > 0) {\n-          div += `\n-          <table  class=\"\" style=\"font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td>NET AMT</td>\n-          <td>ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-          var sr = 0;\n-          var billDet = DET[0].billDetails;\n-          billDet = billDet.sort(function (a, b) {\n-            return parseInt(a.SR) - parseInt(b.SR);\n-          })\n-          for (var k = 0; k < billDet.length; k++) {\n-            ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-            var ccdpcode = \"\";\n-            if (ccode.length > 0) {\n-              ccdpcode = getValueNotDefine(ccode[0].partyname);\n-            }\n-            var RATE = parseFloat(billDet[k].RATE);\n-            var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-            var finalRate = RATE + (DHARA * RATE / 100);\n-            sr += 1;\n-            div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td>`+ getValueNotDefine(billDet[k].BA) + `</td>\n-              <td>`+ getValueNotDefine(billDet[k].AD) + `</td>\n-              </tr>`;\n-          }\n-          div += ` </table>\n-          `;\n-        }\n-        div += ` \n-        </div>    \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table>\n-          <tr>\n-            <td>Total</td>\n-            <td>1234567</td>\n-            <td>1234567</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      <td>DUE DAYS : </td>\n-      <td>TOTAL `+ BLS[i].PCS + `</td>\n-      <td>`+ valuetoFixed(BLS[i].MTS) + `</td>\n-      <td></td>\n-      <td align=\"right\">`+ valuetoFixed(BLS[i].GAMT) + `</td>\n-      </tr>\n-      </table>\n-    <hr class=\"pdfhr\">\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-        if (getValueNotDefineNo(BLS[i].aia) != 0) {\n-          div += `\n-          <tr>\n-           <td style=\"text-align:right;width:100%;\"colspan=\"3\">INSURANCE ADD : `+ valuetoFixed(BLS[i].aia) + `</td>\n-          </tr>\n-        `;\n-        }\n-        if (getValueNotDefineNo(BLS[i].AA1) != 0) {\n-          div += `\n-          <tr>\n-           <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL ADD : `+ valuetoFixed(BLS[i].AA1) + `</td>\n-          </tr>\n-        `;\n-        }\n-\n-        if (getValueNotDefineNo(BLS[i].O_LS) != 0) {\n-          div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL LESS : `+ valuetoFixed(BLS[i].O_LS) + `</td>\n-          </tr>\n-        `;\n-        }\n-        if (getValueNotDefineNo(BLS[i].LA1RT) != 0) {\n-          div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA1RMK) + ` \n-         `+ valuetoFixed(BLS[i].GAMT) + ` X \n-         <strong>`+ BLS[i].LA1RT + ` % </strong> \n-         `+ BLS[i].LA1AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-        }\n-        if (getValueNotDefineNo(BLS[i].LA2RT) != 0) {\n-          div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA2RMK) + ` \n-         `+ BLS[i].LA2qty + ` X \n-         <strong>`+ BLS[i].LA2RT + ` % </strong> \n-         `+ BLS[i].LA2AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-        }\n-        if (getValueNotDefineNo(BLS[i].LA3RT) != 0) {\n-          div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA3RMK) + ` \n-         `+ BLS[i].LA3qty + ` X \n-         <strong>`+ BLS[i].LA3RT + ` % </strong> \n-         `+ BLS[i].LA3AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-        }\n-        if (parseInt(BLS[i].VTAMT) != 0) {\n-          // console.log(partyStateCode, firmStateCode);\n-          if (parseInt(partyStateCode) == parseInt(firmStateCode)) {\n-            if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n-              div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\"colspan=\"3\">CGST @ `+ BLS[i].VTRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n-              </tr>\n-              `;\n-            }\n-            if (BLS[i].ADVTRT != null && parseInt(BLS[i].ADVTRT) != 0) {\n-              div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\" colspan=\"3\">SGST @ `+ BLS[i].ADRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].ADAMT) + `</td>\n-              </tr>\n-              `;\n-            }\n-          } else {\n-            if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n-              div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\" colspan=\"3\">IGST @ `+ getValueNotDefine(BLS[i].VTRT) + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` =  ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n-              </tr>\n-              `;\n-            }\n-          }\n-        }\n-\n-        div += `\n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"font-weight:bold;font-size:15px;\">    \n-      <td style=\"text-align:left;\">REMARK:  `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      <td style=\"text-align:left;\"> </td>\n-      <td align=\"right\">NET AMOUNT </td>\n-      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      \n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"2\"></td>\n-      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-      \n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\">TERMS</td>\n-      </tr>\n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n-      </tr>\n-    </table>\n-    </div>\n-      `;\n-        BILL = getValueNotDefine(BLS[i].BLL);\n-        var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-        document.title = \"BILL NO \" + BILL;\n-      \n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase() \n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-        var BillName = 'TAX INVOICE';\n-        var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-        if (BLS[i].DT != \"os\") {\n-          BillName = SERIESArr[0].SERIES;\n-        }\n-        BillName=\"\";\n-        firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-        partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-        COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-        COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-        var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-        // console.log(partyArray)\n-        partyStateCode = '';\n-        var pcode = '';\n-        var city = '';\n-        var broker = '';\n-        var label = '';\n-        var MO = '';\n-        var ATYPE = '';\n-        var AD1 = '';\n-        var AD2 = '';\n-        var GST = '';\n-        var ST = '';\n-        var dhara = '';\n-        var partyStateCode = '';\n-        var lbl = '';\n-        if (partyArray.length > 0) {\n-          pcode = getValueNotDefine(partyArray[0].partyname);\n-          city = getValueNotDefine(partyArray[0].city);\n-          broker = getValueNotDefine(partyArray[0].broker);\n-          label = getValueNotDefine(partyArray[0].label);\n-          MO = getValueNotDefine(partyArray[0].MO);\n-          ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-          AD1 = getValueNotDefine(partyArray[0].AD1);\n-          AD2 = getValueNotDefine(partyArray[0].AD2);\n-          GST = getValueNotDefine(partyArray[0].GST);\n-          GST = GST == null || GST == '' ? '' : GST;\n-          ST = getValueNotDefine(partyArray[0].ST);\n-          dhara = getValueNotDefineNo(partyArray[0].dhara);\n-          partyStateCode = (GST).substring(0, 2);\n-          lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-        }\n-        // console.table(firmArray)\n-        var CO_ADD1 = \"\";\n-        var CO_ADD2 = \"\";\n-        var CO_ADD3 = \"\";\n-        var CO_ADD4 = \"\";\n-        var CO_CITY = \"\";\n-        var CO_COMPANY_GSTIN = \"\";\n-        var CO_PANNO = \"\";\n-        var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-        if (ACTYPE != \"AGENCY\") {\n-          MainFirmName = firmArray[0].FIRM;\n-          CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-          CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-          CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-          CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-          CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-          CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-          CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-        } else {\n-          var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-          if (SuppArray.length > 0) {\n-            CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-            CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-            CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-            CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-            CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n-            CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-            CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n-          }\n-        }\n-        console.log(BLS[i].DT)\n-        div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , `+ city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:33%;\">\n-        `;\n-\n-        DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-        // DET = DETdata.filter(function (data) {\n-        //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-        //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-        //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-        // })\n-        console.log(DET);\n-        if (DET.length > 0) {\n-          div += `\n-          <table  class=\"\" style=\"font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td>NET AMT</td>\n-          <td>ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-          var sr = 0;\n-          var billDet = DET[0].billDetails;\n-          billDet = billDet.sort(function (a, b) {\n-            return parseInt(a.SR) - parseInt(b.SR);\n-          })\n-          for (var k = 0; k < billDet.length; k++) {\n-            ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-            var ccdpcode = \"\";\n-            if (ccode.length > 0) {\n-              ccdpcode = getValueNotDefine(ccode[0].partyname);\n-            }\n-            var RATE = parseFloat(billDet[k].RATE);\n-            var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-            var finalRate = RATE + (DHARA * RATE / 100);\n-            sr += 1;\n-            div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td>`+ getValueNotDefine(billDet[k].BA) + `</td>\n-              <td>`+ getValueNotDefine(billDet[k].AD) + `</td>\n-              </tr>`;\n-          }\n-          div += ` </table>\n-          `;\n-        }\n-        div += ` \n-        </div>    \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table>\n-          <tr>\n-            <td>Total</td>\n-            <td></td>\n-            <td></td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      <td>DUE DAYS : </td>\n-      <td>TOTAL `+ BLS[i].PCS + `</td>\n-      <td>`+ valuetoFixed(BLS[i].MTS) + `</td>\n-      <td></td>\n-      <td align=\"right\">`+ valuetoFixed(BLS[i].GAMT) + `</td>\n-      </tr>\n-      </table>\n-    <hr class=\"pdfhr\">\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-        if (getValueNotDefineNo(BLS[i].aia) != 0) {\n-          div += `\n-          <tr>\n-           <td style=\"text-align:right;width:100%;\"colspan=\"3\">INSURANCE ADD : `+ valuetoFixed(BLS[i].aia) + `</td>\n-          </tr>\n-        `;\n-        }\n-        if (getValueNotDefineNo(BLS[i].AA1) != 0) {\n-          div += `\n-          <tr>\n-           <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL ADD : `+ valuetoFixed(BLS[i].AA1) + `</td>\n-          </tr>\n-        `;\n-        }\n-\n-        if (getValueNotDefineNo(BLS[i].O_LS) != 0) {\n-          div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL LESS : `+ valuetoFixed(BLS[i].O_LS) + `</td>\n-          </tr>\n-        `;\n-        }\n-        if (getValueNotDefineNo(BLS[i].LA1RT) != 0) {\n-          div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA1RMK) + ` \n-         `+ valuetoFixed(BLS[i].GAMT) + ` X \n-         <strong>`+ BLS[i].LA1RT + ` % </strong> \n-         `+ BLS[i].LA1AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-        }\n-        if (getValueNotDefineNo(BLS[i].LA2RT) != 0) {\n-          div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA2RMK) + ` \n-         `+ BLS[i].LA2qty + ` X \n-         <strong>`+ BLS[i].LA2RT + ` % </strong> \n-         `+ BLS[i].LA2AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-        }\n-        if (getValueNotDefineNo(BLS[i].LA3RT) != 0) {\n-          div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA3RMK) + ` \n-         `+ BLS[i].LA3qty + ` X \n-         <strong>`+ BLS[i].LA3RT + ` % </strong> \n-         `+ BLS[i].LA3AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-        }\n-        if (parseInt(BLS[i].VTAMT) != 0) {\n-          // console.log(partyStateCode, firmStateCode);\n-          if (parseInt(partyStateCode) == parseInt(firmStateCode)) {\n-            if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n-              div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\"colspan=\"3\">CGST @ `+ BLS[i].VTRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n-              </tr>\n-              `;\n-            }\n-            if (BLS[i].ADVTRT != null && parseInt(BLS[i].ADVTRT) != 0) {\n-              div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\" colspan=\"3\">SGST @ `+ BLS[i].ADRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].ADAMT) + `</td>\n-              </tr>\n-              `;\n-            }\n-          } else {\n-            if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n-              div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\" colspan=\"3\">IGST @ `+ getValueNotDefine(BLS[i].VTRT) + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` =  ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n-              </tr>\n-              `;\n-            }\n-          }\n-        }\n-\n-        div += `\n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"font-weight:bold;font-size:15px;\">    \n-      <td style=\"text-align:left;\">REMARK:  `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      <td style=\"text-align:left;\"> </td>\n-      <td align=\"right\">NET AMOUNT </td>\n-      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      \n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"2\"></td>\n-      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-      \n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\">TERMS</td>\n-      </tr>\n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n-      </tr>\n-    </table>\n-    </div>\n-      `;\n-        BILL = getValueNotDefine(BLS[i].BLL);\n-        var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-        document.title = \"BILL NO \" + BILL;\n-      \n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase() \n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-        var BillName = 'TAX INVOICE';\n-        var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-        if (BLS[i].DT != \"os\") {\n-          BillName = SERIESArr[0].SERIES;\n-        }\n-        BillName=\"\";\n-        firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-        partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-        COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-        COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-        var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-        // console.log(partyArray)\n-        partyStateCode = '';\n-        var pcode = '';\n-        var city = '';\n-        var broker = '';\n-        var label = '';\n-        var MO = '';\n-        var ATYPE = '';\n-        var AD1 = '';\n-        var AD2 = '';\n-        var GST = '';\n-        var ST = '';\n-        var dhara = '';\n-        var partyStateCode = '';\n-        var lbl = '';\n-        if (partyArray.length > 0) {\n-          pcode = getValueNotDefine(partyArray[0].partyname);\n-          city = getValueNotDefine(partyArray[0].city);\n-          broker = getValueNotDefine(partyArray[0].broker);\n-          label = getValueNotDefine(partyArray[0].label);\n-          MO = getValueNotDefine(partyArray[0].MO);\n-          ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-          AD1 = getValueNotDefine(partyArray[0].AD1);\n-          AD2 = getValueNotDefine(partyArray[0].AD2);\n-          GST = getValueNotDefine(partyArray[0].GST);\n-          GST = GST == null || GST == '' ? '' : GST;\n-          ST = getValueNotDefine(partyArray[0].ST);\n-          dhara = getValueNotDefineNo(partyArray[0].dhara);\n-          partyStateCode = (GST).substring(0, 2);\n-          lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-        }\n-        // console.table(firmArray)\n-        var CO_ADD1 = \"\";\n-        var CO_ADD2 = \"\";\n-        var CO_ADD3 = \"\";\n-        var CO_ADD4 = \"\";\n-        var CO_CITY = \"\";\n-        var CO_COMPANY_GSTIN = \"\";\n-        var CO_PANNO = \"\";\n-        var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-        if (ACTYPE != \"AGENCY\") {\n-          MainFirmName = firmArray[0].FIRM;\n-          CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-          CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-          CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-          CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-          CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-          CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-          CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-        } else {\n-          var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-          if (SuppArray.length > 0) {\n-            CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-            CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-            CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-            CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-            CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n-            CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-            CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n-          }\n-        }\n-        console.log(BLS[i].DT)\n-        div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , `+ city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:33%;\">\n-        `;\n-\n-        DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-        // DET = DETdata.filter(function (data) {\n-        //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-        //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-        //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-        // })\n-        console.log(DET);\n-        if (DET.length > 0) {\n-          div += `\n-          <table  class=\"\" style=\"font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td>NET AMT</td>\n-          <td>ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-          var sr = 0;\n-          var billDet = DET[0].billDetails;\n-          billDet = billDet.sort(function (a, b) {\n-            return parseInt(a.SR) - parseInt(b.SR);\n-          })\n-          for (var k = 0; k < billDet.length; k++) {\n-            ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-            var ccdpcode = \"\";\n-            if (ccode.length > 0) {\n-              ccdpcode = getValueNotDefine(ccode[0].partyname);\n-            }\n-            var RATE = parseFloat(billDet[k].RATE);\n-            var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-            var finalRate = RATE + (DHARA * RATE / 100);\n-            sr += 1;\n-            div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td>`+ getValueNotDefine(billDet[k].BA) + `</td>\n-              <td>`+ getValueNotDefine(billDet[k].AD) + `</td>\n-              </tr>`;\n-          }\n-          div += ` </table>\n-          `;\n-        }\n-        div += ` \n-        </div>    \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table>\n-          <tr>\n-            <td></td>\n-            <td></td>\n-            <td></td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      <td>DUE DAYS : </td>\n-      <td>TOTAL `+ BLS[i].PCS + `</td>\n-      <td>`+ valuetoFixed(BLS[i].MTS) + `</td>\n-      <td></td>\n-      <td align=\"right\">`+ valuetoFixed(BLS[i].GAMT) + `</td>\n-      </tr>\n-      </table>\n-    <hr class=\"pdfhr\">\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-        if (getValueNotDefineNo(BLS[i].aia) != 0) {\n-          div += `\n-          <tr>\n-           <td style=\"text-align:right;width:100%;\"colspan=\"3\">INSURANCE ADD : `+ valuetoFixed(BLS[i].aia) + `</td>\n-          </tr>\n-        `;\n-        }\n-        if (getValueNotDefineNo(BLS[i].AA1) != 0) {\n-          div += `\n-          <tr>\n-           <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL ADD : `+ valuetoFixed(BLS[i].AA1) + `</td>\n-          </tr>\n-        `;\n-        }\n-\n-        if (getValueNotDefineNo(BLS[i].O_LS) != 0) {\n-          div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL LESS : `+ valuetoFixed(BLS[i].O_LS) + `</td>\n-          </tr>\n-        `;\n-        }\n-        if (getValueNotDefineNo(BLS[i].LA1RT) != 0) {\n-          div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA1RMK) + ` \n-         `+ valuetoFixed(BLS[i].GAMT) + ` X \n-         <strong>`+ BLS[i].LA1RT + ` % </strong> \n-         `+ BLS[i].LA1AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-        }\n-        if (getValueNotDefineNo(BLS[i].LA2RT) != 0) {\n-          div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA2RMK) + ` \n-         `+ BLS[i].LA2qty + ` X \n-         <strong>`+ BLS[i].LA2RT + ` % </strong> \n-         `+ BLS[i].LA2AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-        }\n-        if (getValueNotDefineNo(BLS[i].LA3RT) != 0) {\n-          div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA3RMK) + ` \n-         `+ BLS[i].LA3qty + ` X \n-         <strong>`+ BLS[i].LA3RT + ` % </strong> \n-         `+ BLS[i].LA3AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-        }\n-        if (parseInt(BLS[i].VTAMT) != 0) {\n-          // console.log(partyStateCode, firmStateCode);\n-          if (parseInt(partyStateCode) == parseInt(firmStateCode)) {\n-            if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n-              div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\"colspan=\"3\">CGST @ `+ BLS[i].VTRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n-              </tr>\n-              `;\n-            }\n-            if (BLS[i].ADVTRT != null && parseInt(BLS[i].ADVTRT) != 0) {\n-              div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\" colspan=\"3\">SGST @ `+ BLS[i].ADRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].ADAMT) + `</td>\n-              </tr>\n-              `;\n-            }\n-          } else {\n-            if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n-              div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\" colspan=\"3\">IGST @ `+ getValueNotDefine(BLS[i].VTRT) + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` =  ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n-              </tr>\n-              `;\n-            }\n-          }\n-        }\n-\n-        div += `\n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"font-weight:bold;font-size:15px;\">    \n-      <td style=\"text-align:left;\">REMARK:  `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      <td style=\"text-align:left;\"> </td>\n-      <td align=\"right\">NET AMOUNT </td>\n-      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      \n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"2\"></td>\n-      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-      \n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\">TERMS</td>\n-      </tr>\n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n-      </tr>\n-    </table>\n-    </div>\n-      `;\n-        BILL = getValueNotDefine(BLS[i].BLL);\n-        var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-        document.title = \"BILL NO \" + BILL;\n-      \n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase() \n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-        var BillName = 'TAX INVOICE';\n-        var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-        if (BLS[i].DT != \"os\") {\n-          BillName = SERIESArr[0].SERIES;\n-        }\n-        BillName=\"\";\n-        firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-        partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-        COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-        COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-        var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-        // console.log(partyArray)\n-        partyStateCode = '';\n-        var pcode = '';\n-        var city = '';\n-        var broker = '';\n-        var label = '';\n-        var MO = '';\n-        var ATYPE = '';\n-        var AD1 = '';\n-        var AD2 = '';\n-        var GST = '';\n-        var ST = '';\n-        var dhara = '';\n-        var partyStateCode = '';\n-        var lbl = '';\n-        if (partyArray.length > 0) {\n-          pcode = getValueNotDefine(partyArray[0].partyname);\n-          city = getValueNotDefine(partyArray[0].city);\n-          broker = getValueNotDefine(partyArray[0].broker);\n-          label = getValueNotDefine(partyArray[0].label);\n-          MO = getValueNotDefine(partyArray[0].MO);\n-          ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-          AD1 = getValueNotDefine(partyArray[0].AD1);\n-          AD2 = getValueNotDefine(partyArray[0].AD2);\n-          GST = getValueNotDefine(partyArray[0].GST);\n-          GST = GST == null || GST == '' ? '' : GST;\n-          ST = getValueNotDefine(partyArray[0].ST);\n-          dhara = getValueNotDefineNo(partyArray[0].dhara);\n-          partyStateCode = (GST).substring(0, 2);\n-          lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-        }\n-        // console.table(firmArray)\n-        var CO_ADD1 = \"\";\n-        var CO_ADD2 = \"\";\n-        var CO_ADD3 = \"\";\n-        var CO_ADD4 = \"\";\n-        var CO_CITY = \"\";\n-        var CO_COMPANY_GSTIN = \"\";\n-        var CO_PANNO = \"\";\n-        var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-        if (ACTYPE != \"AGENCY\") {\n-          MainFirmName = firmArray[0].FIRM;\n-          CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-          CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-          CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-          CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-          CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-          CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-          CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-        } else {\n-          var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-          if (SuppArray.length > 0) {\n-            CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-            CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-            CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-            CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-            CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n-            CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-            CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n-          }\n-        }\n-        console.log(BLS[i].DT)\n-        div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , `+ city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:33%;\">\n-        `;\n-\n-        DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-        // DET = DETdata.filter(function (data) {\n-        //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-        //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-        //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-        // })\n-        console.log(DET);\n-        if (DET.length > 0) {\n-          div += `\n-          <table  class=\"\" style=\"font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td>NET AMT</td>\n-          <td>ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-          var sr = 0;\n-          var billDet = DET[0].billDetails;\n-          billDet = billDet.sort(function (a, b) {\n-            return parseInt(a.SR) - parseInt(b.SR);\n-          })\n-          for (var k = 0; k < billDet.length; k++) {\n-            ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-            var ccdpcode = \"\";\n-            if (ccode.length > 0) {\n-              ccdpcode = getValueNotDefine(ccode[0].partyname);\n-            }\n-            var RATE = parseFloat(billDet[k].RATE);\n-            var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-            var finalRate = RATE + (DHARA * RATE / 100);\n-            sr += 1;\n-            div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td>`+ getValueNotDefine(billDet[k].BA) + `</td>\n-              <td>`+ getValueNotDefine(billDet[k].AD) + `</td>\n-              </tr>`;\n-          }\n-          div += ` </table>\n-          `;\n-        }\n-        div += ` \n-        </div>    \n-      <table style=\"width:100%;\">\n-      \n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table>\n-          <tr>\n-            <td></td>\n-            <td></td>\n-            <td></td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      <td>DUE DAYS : </td>\n-      <td>TOTAL `+ BLS[i].PCS + `</td>\n-      <td>`+ valuetoFixed(BLS[i].MTS) + `</td>\n-      <td></td>\n-      <td align=\"right\">`+ valuetoFixed(BLS[i].GAMT) + `</td>\n-      </tr>\n-      </table>\n-    <hr class=\"pdfhr\">\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-        if (getValueNotDefineNo(BLS[i].aia) != 0) {\n-          div += `\n-          <tr>\n-           <td style=\"text-align:right;width:100%;\"colspan=\"3\">INSURANCE ADD : `+ valuetoFixed(BLS[i].aia) + `</td>\n-          </tr>\n-        `;\n-        }\n-        if (getValueNotDefineNo(BLS[i].AA1) != 0) {\n-          div += `\n-          <tr>\n-           <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL ADD : `+ valuetoFixed(BLS[i].AA1) + `</td>\n-          </tr>\n-        `;\n-        }\n-\n-        if (getValueNotDefineNo(BLS[i].O_LS) != 0) {\n-          div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL LESS : `+ valuetoFixed(BLS[i].O_LS) + `</td>\n-          </tr>\n-        `;\n-        }\n-        if (getValueNotDefineNo(BLS[i].LA1RT) != 0) {\n-          div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA1RMK) + ` \n-         `+ valuetoFixed(BLS[i].GAMT) + ` X \n-         <strong>`+ BLS[i].LA1RT + ` % </strong> \n-         `+ BLS[i].LA1AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-        }\n-        if (getValueNotDefineNo(BLS[i].LA2RT) != 0) {\n-          div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA2RMK) + ` \n-         `+ BLS[i].LA2qty + ` X \n-         <strong>`+ BLS[i].LA2RT + ` % </strong> \n-         `+ BLS[i].LA2AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-        }\n-        if (getValueNotDefineNo(BLS[i].LA3RT) != 0) {\n-          div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA3RMK) + ` \n-         `+ BLS[i].LA3qty + ` X \n-         <strong>`+ BLS[i].LA3RT + ` % </strong> \n-         `+ BLS[i].LA3AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-        }\n-        if (parseInt(BLS[i].VTAMT) != 0) {\n-          // console.log(partyStateCode, firmStateCode);\n-          if (parseInt(partyStateCode) == parseInt(firmStateCode)) {\n-            if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n-              div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\"colspan=\"3\">CGST @ `+ BLS[i].VTRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n-              </tr>\n-              `;\n-            }\n-            if (BLS[i].ADVTRT != null && parseInt(BLS[i].ADVTRT) != 0) {\n-              div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\" colspan=\"3\">SGST @ `+ BLS[i].ADRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].ADAMT) + `</td>\n-              </tr>\n-              `;\n-            }\n-          } else {\n-            if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n-              div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\" colspan=\"3\">IGST @ `+ getValueNotDefine(BLS[i].VTRT) + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` =  ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n-              </tr>\n-              `;\n-            }\n-          }\n-        }\n-\n-        div += `\n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"font-weight:bold;font-size:15px;\">    \n-      <td style=\"text-align:left;\">REMARK:  `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      <td style=\"text-align:left;\"> </td>\n-      <td align=\"right\">NET AMOUNT </td>\n-      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      \n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"2\"></td>\n-      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-      \n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\">TERMS</td>\n-      </tr>\n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n-      </tr>\n-    </table>\n-    </div>\n-      `;\n-        BILL = getValueNotDefine(BLS[i].BLL);\n-        var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-        document.title = \"BILL NO \" + BILL;\n-      \n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase() \n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-        var BillName = 'TAX INVOICE';\n-        var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-        if (BLS[i].DT != \"os\") {\n-          BillName = SERIESArr[0].SERIES;\n-        }\n-        BillName=\"\";\n-        firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-        partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-        COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-        COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-        var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-        // console.log(partyArray)\n-        partyStateCode = '';\n-        var pcode = '';\n-        var city = '';\n-        var broker = '';\n-        var label = '';\n-        var MO = '';\n-        var ATYPE = '';\n-        var AD1 = '';\n-        var AD2 = '';\n-        var GST = '';\n-        var ST = '';\n-        var dhara = '';\n-        var partyStateCode = '';\n-        var lbl = '';\n-        if (partyArray.length > 0) {\n-          pcode = getValueNotDefine(partyArray[0].partyname);\n-          city = getValueNotDefine(partyArray[0].city);\n-          broker = getValueNotDefine(partyArray[0].broker);\n-          label = getValueNotDefine(partyArray[0].label);\n-          MO = getValueNotDefine(partyArray[0].MO);\n-          ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-          AD1 = getValueNotDefine(partyArray[0].AD1);\n-          AD2 = getValueNotDefine(partyArray[0].AD2);\n-          GST = getValueNotDefine(partyArray[0].GST);\n-          GST = GST == null || GST == '' ? '' : GST;\n-          ST = getValueNotDefine(partyArray[0].ST);\n-          dhara = getValueNotDefineNo(partyArray[0].dhara);\n-          partyStateCode = (GST).substring(0, 2);\n-          lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-        }\n-        // console.table(firmArray)\n-        var CO_ADD1 = \"\";\n-        var CO_ADD2 = \"\";\n-        var CO_ADD3 = \"\";\n-        var CO_ADD4 = \"\";\n-        var CO_CITY = \"\";\n-        var CO_COMPANY_GSTIN = \"\";\n-        var CO_PANNO = \"\";\n-        var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-        if (ACTYPE != \"AGENCY\") {\n-          MainFirmName = firmArray[0].FIRM;\n-          CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-          CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-          CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-          CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-          CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-          CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-          CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-        } else {\n-          var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-          if (SuppArray.length > 0) {\n-            CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-            CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-            CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-            CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-            CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n-            CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-            CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n-          }\n-        }\n-        console.log(BLS[i].DT)\n-        div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , `+ city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:33%;\">\n-        `;\n-\n-        DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-        // DET = DETdata.filter(function (data) {\n-        //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-        //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-        //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-        // })\n-        console.log(DET);\n-        if (DET.length > 0) {\n-          div += `\n-          <table  class=\"\" style=\"font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td>NET AMT</td>\n-          <td>ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-          var sr = 0;\n-          var billDet = DET[0].billDetails;\n-          billDet = billDet.sort(function (a, b) {\n-            return parseInt(a.SR) - parseInt(b.SR);\n-          })\n-          for (var k = 0; k < billDet.length; k++) {\n-            ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-            var ccdpcode = \"\";\n-            if (ccode.length > 0) {\n-              ccdpcode = getValueNotDefine(ccode[0].partyname);\n-            }\n-            var RATE = parseFloat(billDet[k].RATE);\n-            var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-            var finalRate = RATE + (DHARA * RATE / 100);\n-            sr += 1;\n-            div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td>`+ getValueNotDefine(billDet[k].BA) + `</td>\n-              <td>`+ getValueNotDefine(billDet[k].AD) + `</td>\n-              </tr>`;\n-          }\n-          div += ` </table>\n-          `;\n-        }\n-        div += ` \n-        </div>    \n-      <table style=\"width:100%;\">\n-      \n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-      <td>DUE DAYS : </td>\n-      <td>TOTAL `+ BLS[i].PCS + `</td>\n-      <td>`+ valuetoFixed(BLS[i].MTS) + `</td>\n-      <td></td>\n-      <td align=\"right\">`+ valuetoFixed(BLS[i].GAMT) + `</td>\n-      </tr>\n-      </table>\n-    <hr class=\"pdfhr\">\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-        if (getValueNotDefineNo(BLS[i].aia) != 0) {\n-          div += `\n-          <tr>\n-           <td style=\"text-align:right;width:100%;\"colspan=\"3\">INSURANCE ADD : `+ valuetoFixed(BLS[i].aia) + `</td>\n-          </tr>\n-        `;\n-        }\n-        if (getValueNotDefineNo(BLS[i].AA1) != 0) {\n-          div += `\n-          <tr>\n-           <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL ADD : `+ valuetoFixed(BLS[i].AA1) + `</td>\n-          </tr>\n-        `;\n-        }\n-\n-        if (getValueNotDefineNo(BLS[i].O_LS) != 0) {\n-          div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL LESS : `+ valuetoFixed(BLS[i].O_LS) + `</td>\n-          </tr>\n-        `;\n-        }\n-        if (getValueNotDefineNo(BLS[i].LA1RT) != 0) {\n-          div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA1RMK) + ` \n-         `+ valuetoFixed(BLS[i].GAMT) + ` X \n-         <strong>`+ BLS[i].LA1RT + ` % </strong> \n-         `+ BLS[i].LA1AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-        }\n-        if (getValueNotDefineNo(BLS[i].LA2RT) != 0) {\n-          div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA2RMK) + ` \n-         `+ BLS[i].LA2qty + ` X \n-         <strong>`+ BLS[i].LA2RT + ` % </strong> \n-         `+ BLS[i].LA2AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-        }\n-        if (getValueNotDefineNo(BLS[i].LA3RT) != 0) {\n-          div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA3RMK) + ` \n-         `+ BLS[i].LA3qty + ` X \n-         <strong>`+ BLS[i].LA3RT + ` % </strong> \n-         `+ BLS[i].LA3AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-        }\n-        if (parseInt(BLS[i].VTAMT) != 0) {\n-          // console.log(partyStateCode, firmStateCode);\n-          if (parseInt(partyStateCode) == parseInt(firmStateCode)) {\n-            if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n-              div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\"colspan=\"3\">CGST @ `+ BLS[i].VTRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n-              </tr>\n-              `;\n-            }\n-            if (BLS[i].ADVTRT != null && parseInt(BLS[i].ADVTRT) != 0) {\n-              div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\" colspan=\"3\">SGST @ `+ BLS[i].ADRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].ADAMT) + `</td>\n-              </tr>\n-              `;\n-            }\n-          } else {\n-            if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n-              div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\" colspan=\"3\">IGST @ `+ getValueNotDefine(BLS[i].VTRT) + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` =  ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n-              </tr>\n-              `;\n-            }\n-          }\n-        }\n-\n-        div += `\n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"font-weight:bold;font-size:15px;\">    \n-      <td style=\"text-align:left;\">REMARK:  `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      <td style=\"text-align:left;\"> </td>\n-      <td align=\"right\">NET AMOUNT </td>\n-      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      \n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"2\"></td>\n-      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-      \n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\">TERMS</td>\n-      </tr>\n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n-      </tr>\n-    </table>\n-    </div>\n-      `;\n-        BILL = getValueNotDefine(BLS[i].BLL);\n-        var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-        document.title = \"BILL NO \" + BILL;\n-      \n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase() \n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-        var BillName = 'TAX INVOICE';\n-        var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-        if (BLS[i].DT != \"os\") {\n-          BillName = SERIESArr[0].SERIES;\n-        }\n-        BillName=\"\";\n-        firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-        partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-        COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-        COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-        var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-        // console.log(partyArray)\n-        partyStateCode = '';\n-        var pcode = '';\n-        var city = '';\n-        var broker = '';\n-        var label = '';\n-        var MO = '';\n-        var ATYPE = '';\n-        var AD1 = '';\n-        var AD2 = '';\n-        var GST = '';\n-        var ST = '';\n-        var dhara = '';\n-        var partyStateCode = '';\n-        var lbl = '';\n-        if (partyArray.length > 0) {\n-          pcode = getValueNotDefine(partyArray[0].partyname);\n-          city = getValueNotDefine(partyArray[0].city);\n-          broker = getValueNotDefine(partyArray[0].broker);\n-          label = getValueNotDefine(partyArray[0].label);\n-          MO = getValueNotDefine(partyArray[0].MO);\n-          ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-          AD1 = getValueNotDefine(partyArray[0].AD1);\n-          AD2 = getValueNotDefine(partyArray[0].AD2);\n-          GST = getValueNotDefine(partyArray[0].GST);\n-          GST = GST == null || GST == '' ? '' : GST;\n-          ST = getValueNotDefine(partyArray[0].ST);\n-          dhara = getValueNotDefineNo(partyArray[0].dhara);\n-          partyStateCode = (GST).substring(0, 2);\n-          lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-        }\n-        // console.table(firmArray)\n-        var CO_ADD1 = \"\";\n-        var CO_ADD2 = \"\";\n-        var CO_ADD3 = \"\";\n-        var CO_ADD4 = \"\";\n-        var CO_CITY = \"\";\n-        var CO_COMPANY_GSTIN = \"\";\n-        var CO_PANNO = \"\";\n-        var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-        if (ACTYPE != \"AGENCY\") {\n-          MainFirmName = firmArray[0].FIRM;\n-          CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-          CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-          CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-          CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-          CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-          CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-          CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-        } else {\n-          var SuppArray = getPartyDetailsBySendCode(BLS[i].ccd);\n-          if (SuppArray.length > 0) {\n-            CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n-            CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n-            CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n-            CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n-            CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n-            CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-            CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n-          }\n-        }\n-        console.log(BLS[i].DT)\n-        div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PARTY NAME : `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\">VOUCHER NO: `+ (BLS[i].VNO) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , `+ city + `  </td>\n-      <td style=\"text-align:left;\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:33%;\">\n-        `;\n-\n-        DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-        // DET = DETdata.filter(function (data) {\n-        //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-        //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-        //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-        // })\n-        console.log(DET);\n-        if (DET.length > 0) {\n-          div += `\n-          <table  class=\"\" style=\"font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td>NET AMT</td>\n-          <td>ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-          var sr = 0;\n-          var billDet = DET[0].billDetails;\n-          billDet = billDet.sort(function (a, b) {\n-            return parseInt(a.SR) - parseInt(b.SR);\n-          })\n-          for (var k = 0; k < billDet.length; k++) {\n-            ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-            var ccdpcode = \"\";\n-            if (ccode.length > 0) {\n-              ccdpcode = getValueNotDefine(ccode[0].partyname);\n-            }\n-            var RATE = parseFloat(billDet[k].RATE);\n-            var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-            var finalRate = RATE + (DHARA * RATE / 100);\n-            sr += 1;\n-            div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].Bl) + `</td>\n-              <td>`+ getValueNotDefine(billDet[k].BA) + `</td>\n-              <td>`+ getValueNotDefine(billDet[k].AD) + `</td>\n-              </tr>`;\n-          }\n-          div += ` </table>\n-          `;\n-        }\n-        div += ` \n-        </div>    \n-      <table style=\"width:100%;\">\n-      \n-      <tr style=\"width:100%;\"class=\"upperCase bold\">\n-      <td colspan=\"5\">A/C NO : `+ getValueNotDefine(firmArray[0].ADDRESS3) + ` IFSC : ` + getValueNotDefine(firmArray[0].ADDRESS4) + `</td>\n-      </tr>      \n-      <tr style=\"width:100%;\"class=\"upperCase bold\">        \n-        <td colspan=\"5\"><hr class=\"pdfhr\">  </td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-      <td>DUE DAYS : </td>\n-      <td>TOTAL `+ BLS[i].PCS + `</td>\n-      <td>`+ valuetoFixed(BLS[i].MTS) + `</td>\n-      <td></td>\n-      <td align=\"right\">`+ valuetoFixed(BLS[i].GAMT) + `</td>\n-      </tr>\n-      </table>\n-    <hr class=\"pdfhr\">\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-        if (getValueNotDefineNo(BLS[i].aia) != 0) {\n-          div += `\n-          <tr>\n-           <td style=\"text-align:right;width:100%;\"colspan=\"3\">INSURANCE ADD : `+ valuetoFixed(BLS[i].aia) + `</td>\n-          </tr>\n-        `;\n-        }\n-        if (getValueNotDefineNo(BLS[i].AA1) != 0) {\n-          div += `\n-          <tr>\n-           <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL ADD : `+ valuetoFixed(BLS[i].AA1) + `</td>\n-          </tr>\n-        `;\n-        }\n-\n-        if (getValueNotDefineNo(BLS[i].O_LS) != 0) {\n-          div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL LESS : `+ valuetoFixed(BLS[i].O_LS) + `</td>\n-          </tr>\n-        `;\n-        }\n-        if (getValueNotDefineNo(BLS[i].LA1RT) != 0) {\n-          div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA1RMK) + ` \n-         `+ valuetoFixed(BLS[i].GAMT) + ` X \n-         <strong>`+ BLS[i].LA1RT + ` % </strong> \n-         `+ BLS[i].LA1AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-        }\n-        if (getValueNotDefineNo(BLS[i].LA2RT) != 0) {\n-          div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA2RMK) + ` \n-         `+ BLS[i].LA2qty + ` X \n-         <strong>`+ BLS[i].LA2RT + ` % </strong> \n-         `+ BLS[i].LA2AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-        }\n-        if (getValueNotDefineNo(BLS[i].LA3RT) != 0) {\n-          div += `\n-          <tr>\n-        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n-         `+ getValueNotDefine(BLS[i].LA3RMK) + ` \n-         `+ BLS[i].LA3qty + ` X \n-         <strong>`+ BLS[i].LA3RT + ` % </strong> \n-         `+ BLS[i].LA3AMT + ` \n-        </td>\n-          </tr>\n-        `;\n-        }\n-        if (parseInt(BLS[i].VTAMT) != 0) {\n-          // console.log(partyStateCode, firmStateCode);\n-          if (parseInt(partyStateCode) == parseInt(firmStateCode)) {\n-            if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n-              div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\"colspan=\"3\">CGST @ `+ BLS[i].VTRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n-              </tr>\n-              `;\n-            }\n-            if (BLS[i].ADVTRT != null && parseInt(BLS[i].ADVTRT) != 0) {\n-              div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\" colspan=\"3\">SGST @ `+ BLS[i].ADRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` = ` + valuetoFixed(BLS[i].ADAMT) + `</td>\n-              </tr>\n-              `;\n-            }\n-          } else {\n-            if (BLS[i].VTRT != null && parseInt(BLS[i].VTRT) != 0) {\n-              div += `<tr>    \n-              <td style=\"text-align:right;width:100%;\" colspan=\"3\">IGST @ `+ getValueNotDefine(BLS[i].VTRT) + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].GAMT) + ` =  ` + valuetoFixed(BLS[i].VTAMT) + `</td>\n-              </tr>\n-              `;\n-            }\n-          }\n-        }\n-\n-        div += `\n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"font-weight:bold;font-size:15px;\">    \n-      <td style=\"text-align:left;\">REMARK:  `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      <td style=\"text-align:left;\"> </td>\n-      <td align=\"right\">NET AMOUNT </td>\n-      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      \n-      <tr>\n-      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"2\"></td>\n-      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-      \n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\">TERMS</td>\n-      </tr>\n-      <tr class=\"upperCase \">\n-      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n-      </tr>\n-      \n-      <tr class=\"upperCase\">\n-      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n-      </tr>\n-    </table>\n-    </div>\n-      `;\n-        BILL = getValueNotDefine(BLS[i].BLL);\n-        var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-        document.title = \"BILL NO \" + BILL;\n-      \n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n"
                },
                {
                    "date": 1637306188111,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -172,9 +172,9 @@\n       <td style=\"text-align:left;\">PH: `+SuppMO+`,`+SuppPH1+`</td>\n       </tr>\n       \n       <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> SUPPLIER GROUP : `+ GST + ` </td>\n+      <td style=\"text-align:left;\"colspan=\"2\"> SUPPLIER GROUP : `+ SuppGROUP + ` </td>\n       <td style=\"text-align:left;\"> </td>\n       </tr>\n       \n \n"
                },
                {
                    "date": 1637306321487,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -92,9 +92,9 @@\n       var SuppCOMPANY_GSTIN=\"\";\n       var SuppPANNO=\"\";\n       var SuppMO=\"\";\n       var SuppPH1=\"\";\n-      var SuppGROUP=\"\";\n+      var SuppGROUPcode=\"\";\n       console.log(SuppArray,BLS[i].ccd)\n       if (SuppArray.length > 0) {\n         SuppName = getValueNotDefine(SuppArray[0].partyname);\n         SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n@@ -105,10 +105,10 @@\n         SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n         SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n         SuppMO = getValueNotDefine(SuppArray[0].MO);\n         SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n-        SuppGROUP = getValueNotDefine(SuppArray[0].GCODE);\n-\n+        SuppGROUPcode = getValueNotDefine(SuppArray[0].GCODE);\n+        suppGroupArr=getGroupDetailsBySendCode(SuppGROUPcode);\n       }\n       console.log(BLS[i].DT)\n       document.title = BLS[i].VNO;\n       div += `\n"
                },
                {
                    "date": 1637306380106,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -93,8 +93,9 @@\n       var SuppPANNO=\"\";\n       var SuppMO=\"\";\n       var SuppPH1=\"\";\n       var SuppGROUPcode=\"\";\n+      var SuppGroupName=\"\";\n       console.log(SuppArray,BLS[i].ccd)\n       if (SuppArray.length > 0) {\n         SuppName = getValueNotDefine(SuppArray[0].partyname);\n         SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n@@ -107,8 +108,11 @@\n         SuppMO = getValueNotDefine(SuppArray[0].MO);\n         SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n         SuppGROUPcode = getValueNotDefine(SuppArray[0].GCODE);\n         suppGroupArr=getGroupDetailsBySendCode(SuppGROUPcode);\n+        if(suppGroupArr.length>0){\n+          SuppGroupName=suppGroupArr[0].\n+        }\n       }\n       console.log(BLS[i].DT)\n       document.title = BLS[i].VNO;\n       div += `\n"
                },
                {
                    "date": 1637306396370,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -109,9 +109,9 @@\n         SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n         SuppGROUPcode = getValueNotDefine(SuppArray[0].GCODE);\n         suppGroupArr=getGroupDetailsBySendCode(SuppGROUPcode);\n         if(suppGroupArr.length>0){\n-          SuppGroupName=suppGroupArr[0].\n+          SuppGroupName=suppGroupArr[0].partyname;\n         }\n       }\n       console.log(BLS[i].DT)\n       document.title = BLS[i].VNO;\n"
                },
                {
                    "date": 1637306402981,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -176,9 +176,9 @@\n       <td style=\"text-align:left;\">PH: `+SuppMO+`,`+SuppPH1+`</td>\n       </tr>\n       \n       <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> SUPPLIER GROUP : `+ SuppGROUP + ` </td>\n+      <td style=\"text-align:left;\"colspan=\"2\"> SUPPLIER GROUP : `+ SuppGroupName + ` </td>\n       <td style=\"text-align:left;\"> </td>\n       </tr>\n       \n \n"
                },
                {
                    "date": 1637306488870,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -181,8 +181,12 @@\n       <td style=\"text-align:left;\"> </td>\n       </tr>\n       \n \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n+      </tr>\n+      \n       <tr>\n       <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n       </tr>\n       \n"
                },
                {
                    "date": 1637306565550,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -180,8 +180,12 @@\n       <td style=\"text-align:left;\"colspan=\"2\"> SUPPLIER GROUP : `+ SuppGroupName + ` </td>\n       <td style=\"text-align:left;\"> </td>\n       </tr>\n       \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n \n       <tr  class=\"upperCase\">\n       <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n       </tr>\n@@ -277,9 +281,9 @@\n       </tr>\n \n \n       <tr STYLE=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\">CHEQUE NO :   `+ getValueNotDefine(BLS[i].DCNO) + `</td>\n+      <td style=\"text-align:left;\">CHEQUE NO :  </td>\n       <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n       <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n       </tr>\n       \n"
                },
                {
                    "date": 1637306733867,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -181,10 +181,10 @@\n       <td style=\"text-align:left;\"> </td>\n       </tr>\n       \n       <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n+      <td style=\"text-align:left;\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n+      <td style=\"text-align:left;\">CHQ/DD. DATE :`+ getValueNotDefine(BLS[i].DCNO) + `</td>\n       </tr>\n \n       <tr  class=\"upperCase\">\n       <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n"
                },
                {
                    "date": 1637306909177,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -182,9 +182,9 @@\n       </tr>\n       \n       <tr  class=\"upperCase\">\n       <td style=\"text-align:left;\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n-      <td style=\"text-align:left;\">CHQ/DD. DATE :`+ getValueNotDefine(BLS[i].DCNO) + `</td>\n+      <td style=\"text-align:left;\">CHQ/DD. DATE :`+ formatDate(BLS[i].OD) + `</td>\n       </tr>\n \n       <tr  class=\"upperCase\">\n       <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n"
                },
                {
                    "date": 1637307063788,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -183,8 +183,9 @@\n       \n       <tr  class=\"upperCase\">\n       <td style=\"text-align:left;\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n       <td style=\"text-align:left;\">CHQ/DD. DATE :`+ formatDate(BLS[i].OD) + `</td>\n+      <td style=\"text-align:left;\">AMOUNT :`+ formatDate(BLS[i].OD) + `</td>\n       </tr>\n \n       <tr  class=\"upperCase\">\n       <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n@@ -274,8 +275,10 @@\n     <table style=\"width:100%;font-size:12px;\">   \n      \n `;\n \n+var chqAmt= parseFloat(BLS[i].DRA)+parseFloat(BLS[i].CRA);\n+\n       div += `\n       <tr>\n       <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n       </tr>\n"
                },
                {
                    "date": 1637307087527,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -82,21 +82,21 @@\n       CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n       CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n       CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n       var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n-      var SuppName=\"\";\n-      var SuppADD1=\"\";\n-      var SuppADD2=\"\";\n-      var SuppADD3=\"\";\n-      var SuppADD4=\"\";\n-      var SuppCITY=\"\";\n-      var SuppCOMPANY_GSTIN=\"\";\n-      var SuppPANNO=\"\";\n-      var SuppMO=\"\";\n-      var SuppPH1=\"\";\n-      var SuppGROUPcode=\"\";\n-      var SuppGroupName=\"\";\n-      console.log(SuppArray,BLS[i].ccd)\n+      var SuppName = \"\";\n+      var SuppADD1 = \"\";\n+      var SuppADD2 = \"\";\n+      var SuppADD3 = \"\";\n+      var SuppADD4 = \"\";\n+      var SuppCITY = \"\";\n+      var SuppCOMPANY_GSTIN = \"\";\n+      var SuppPANNO = \"\";\n+      var SuppMO = \"\";\n+      var SuppPH1 = \"\";\n+      var SuppGROUPcode = \"\";\n+      var SuppGroupName = \"\";\n+      console.log(SuppArray, BLS[i].ccd)\n       if (SuppArray.length > 0) {\n         SuppName = getValueNotDefine(SuppArray[0].partyname);\n         SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n         SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n@@ -107,15 +107,18 @@\n         SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n         SuppMO = getValueNotDefine(SuppArray[0].MO);\n         SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n         SuppGROUPcode = getValueNotDefine(SuppArray[0].GCODE);\n-        suppGroupArr=getGroupDetailsBySendCode(SuppGROUPcode);\n-        if(suppGroupArr.length>0){\n-          SuppGroupName=suppGroupArr[0].partyname;\n+        suppGroupArr = getGroupDetailsBySendCode(SuppGROUPcode);\n+        if (suppGroupArr.length > 0) {\n+          SuppGroupName = suppGroupArr[0].partyname;\n         }\n       }\n       console.log(BLS[i].DT)\n       document.title = BLS[i].VNO;\n+\n+      var chqAmt = parseFloat(BLS[i].DRA) + parseFloat(BLS[i].CRA);\n+\n       div += `\n         <div class=\"page\" style=\"min-height: auto;\">\n       <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n \n@@ -167,14 +170,14 @@\n       </tr>\n \n       <tr  class=\"upperCase\">\n       <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\"> `+ SuppADD2 + ` ,`+SuppCITY+`</td>\n+      <td style=\"text-align:left;\"> `+ SuppADD2 + ` ,` + SuppCITY + `</td>\n       </tr>\n \n       <tr  class=\"upperCase\">\n       <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\">PH: `+SuppMO+`,`+SuppPH1+`</td>\n+      <td style=\"text-align:left;\">PH: `+ SuppMO + `,` + SuppPH1 + `</td>\n       </tr>\n       \n       <tr  class=\"upperCase\">\n       <td style=\"text-align:left;\"colspan=\"2\"> SUPPLIER GROUP : `+ SuppGroupName + ` </td>\n@@ -183,9 +186,9 @@\n       \n       <tr  class=\"upperCase\">\n       <td style=\"text-align:left;\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n       <td style=\"text-align:left;\">CHQ/DD. DATE :`+ formatDate(BLS[i].OD) + `</td>\n-      <td style=\"text-align:left;\">AMOUNT :`+ formatDate(BLS[i].OD) + `</td>\n+      <td style=\"text-align:left;\">AMOUNT :`+ chqAmt + `</td>\n       </tr>\n \n       <tr  class=\"upperCase\">\n       <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n@@ -275,10 +278,8 @@\n     <table style=\"width:100%;font-size:12px;\">   \n      \n `;\n \n-var chqAmt= parseFloat(BLS[i].DRA)+parseFloat(BLS[i].CRA);\n-\n       div += `\n       <tr>\n       <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n       </tr>\n"
                },
                {
                    "date": 1637307111472,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -186,9 +186,9 @@\n       \n       <tr  class=\"upperCase\">\n       <td style=\"text-align:left;\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n       <td style=\"text-align:left;\">CHQ/DD. DATE :`+ formatDate(BLS[i].OD) + `</td>\n-      <td style=\"text-align:left;\">AMOUNT :`+ chqAmt + `</td>\n+      <td style=\"text-align:left;\">AMOUNT :`+ parseFloat(chqAmt).toFixed(2) + `</td>\n       </tr>\n \n       <tr  class=\"upperCase\">\n       <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n"
                },
                {
                    "date": 1637307159299,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -184,17 +184,17 @@\n       <td style=\"text-align:left;\"> </td>\n       </tr>\n       \n       <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n       <td style=\"text-align:left;\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n       <td style=\"text-align:left;\">CHQ/DD. DATE :`+ formatDate(BLS[i].OD) + `</td>\n       <td style=\"text-align:left;\">AMOUNT :`+ parseFloat(chqAmt).toFixed(2) + `</td>\n       </tr>\n \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n-      </tr>\n-      \n       <tr>\n       <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n       </tr>\n       \n"
                },
                {
                    "date": 1637307170213,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -191,8 +191,9 @@\n       <tr  class=\"upperCase\">\n       <td style=\"text-align:left;\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n       <td style=\"text-align:left;\">CHQ/DD. DATE :`+ formatDate(BLS[i].OD) + `</td>\n       <td style=\"text-align:left;\">AMOUNT :`+ parseFloat(chqAmt).toFixed(2) + `</td>\n+      <td style=\"text-align:left;\">AMOUNT :`+ parseFloat(chqAmt).toFixed(2) + `</td>\n       </tr>\n \n       <tr>\n       <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n"
                },
                {
                    "date": 1637307206819,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,323 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      MainFirmName = firmArray[0].FIRM;\n+      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n+      var SuppName = \"\";\n+      var SuppADD1 = \"\";\n+      var SuppADD2 = \"\";\n+      var SuppADD3 = \"\";\n+      var SuppADD4 = \"\";\n+      var SuppCITY = \"\";\n+      var SuppCOMPANY_GSTIN = \"\";\n+      var SuppPANNO = \"\";\n+      var SuppMO = \"\";\n+      var SuppPH1 = \"\";\n+      var SuppGROUPcode = \"\";\n+      var SuppGroupName = \"\";\n+      console.log(SuppArray, BLS[i].ccd)\n+      if (SuppArray.length > 0) {\n+        SuppName = getValueNotDefine(SuppArray[0].partyname);\n+        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n+        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n+        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n+        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n+        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n+        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        SuppMO = getValueNotDefine(SuppArray[0].MO);\n+        SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n+        SuppGROUPcode = getValueNotDefine(SuppArray[0].GCODE);\n+        suppGroupArr = getGroupDetailsBySendCode(SuppGROUPcode);\n+        if (suppGroupArr.length > 0) {\n+          SuppGroupName = suppGroupArr[0].partyname;\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      document.title = BLS[i].VNO;\n+\n+      var chqAmt = parseFloat(BLS[i].DRA) + parseFloat(BLS[i].CRA);\n+\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n+      </tr>\n+      \n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n+      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\"> `+ SuppADD2 + ` ,` + SuppCITY + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\">PH: `+ SuppMO + `,` + SuppPH1 + `</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> SUPPLIER GROUP : `+ SuppGroupName + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n+      <td style=\"text-align:left;\">CHQ/DD. DATE :`+ formatDate(BLS[i].OD) + `</td>\n+      <td style=\"text-align:left;\">AMOUNT :`+ parseFloat(chqAmt).toFixed(2) + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:20%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA += BA;\n+          totalAD += AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      </tr>\n+      \n+\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637307371850,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,332 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      MainFirmName = firmArray[0].FIRM;\n+      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n+      var SuppName = \"\";\n+      var SuppADD1 = \"\";\n+      var SuppADD2 = \"\";\n+      var SuppADD3 = \"\";\n+      var SuppADD4 = \"\";\n+      var SuppCITY = \"\";\n+      var SuppCOMPANY_GSTIN = \"\";\n+      var SuppPANNO = \"\";\n+      var SuppMO = \"\";\n+      var SuppPH1 = \"\";\n+      var SuppGROUPcode = \"\";\n+      var SuppGroupName = \"\";\n+      console.log(SuppArray, BLS[i].ccd)\n+      if (SuppArray.length > 0) {\n+        SuppName = getValueNotDefine(SuppArray[0].partyname);\n+        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n+        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n+        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n+        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n+        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n+        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        SuppMO = getValueNotDefine(SuppArray[0].MO);\n+        SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n+        SuppGROUPcode = getValueNotDefine(SuppArray[0].GCODE);\n+        suppGroupArr = getGroupDetailsBySendCode(SuppGROUPcode);\n+        if (suppGroupArr.length > 0) {\n+          SuppGroupName = suppGroupArr[0].partyname;\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      document.title = BLS[i].VNO;\n+\n+      var chqAmt = parseFloat(BLS[i].DRA) + parseFloat(BLS[i].CRA);\n+\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n+      </tr>\n+      \n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n+      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\"> `+ SuppADD2 + ` ,` + SuppCITY + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\">PH: `+ SuppMO + `,` + SuppPH1 + `</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> SUPPLIER GROUP : `+ SuppGroupName + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n+      <td style=\"text-align:left;\">CHQ/DD. DATE :`+ formatDate(BLS[i].OD) + `</td>\n+      <td style=\"text-align:left;\">AMOUNT :`+ parseFloat(chqAmt).toFixed(2) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"3\">DRAWEE BANK: `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      </tr>\n+      \n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:20%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA += BA;\n+          totalAD += AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      </tr>\n+      \n+\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637307395529,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,332 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      MainFirmName = firmArray[0].FIRM;\n+      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n+      var SuppName = \"\";\n+      var SuppADD1 = \"\";\n+      var SuppADD2 = \"\";\n+      var SuppADD3 = \"\";\n+      var SuppADD4 = \"\";\n+      var SuppCITY = \"\";\n+      var SuppCOMPANY_GSTIN = \"\";\n+      var SuppPANNO = \"\";\n+      var SuppMO = \"\";\n+      var SuppPH1 = \"\";\n+      var SuppGROUPcode = \"\";\n+      var SuppGroupName = \"\";\n+      console.log(SuppArray, BLS[i].ccd)\n+      if (SuppArray.length > 0) {\n+        SuppName = getValueNotDefine(SuppArray[0].partyname);\n+        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n+        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n+        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n+        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n+        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n+        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        SuppMO = getValueNotDefine(SuppArray[0].MO);\n+        SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n+        SuppGROUPcode = getValueNotDefine(SuppArray[0].GCODE);\n+        suppGroupArr = getGroupDetailsBySendCode(SuppGROUPcode);\n+        if (suppGroupArr.length > 0) {\n+          SuppGroupName = suppGroupArr[0].partyname;\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      document.title = BLS[i].VNO;\n+\n+      var chqAmt = parseFloat(BLS[i].DRA) + parseFloat(BLS[i].CRA);\n+\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n+      </tr>\n+      \n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n+      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\"> `+ SuppADD2 + ` ,` + SuppCITY + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\">PH: `+ SuppMO + `,` + SuppPH1 + `</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;font-weight:bolder;\"colspan=\"2\"> SUPPLIER GROUP : `+ SuppGroupName + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n+      <td style=\"text-align:left;\">CHQ/DD. DATE :`+ formatDate(BLS[i].OD) + `</td>\n+      <td style=\"text-align:left;\">AMOUNT :`+ parseFloat(chqAmt).toFixed(2) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"3\">DRAWEE BANK: `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      </tr>\n+      \n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:20%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA += BA;\n+          totalAD += AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      </tr>\n+      \n+\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637307405957,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,327 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      MainFirmName = firmArray[0].FIRM;\n+      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n+      var SuppName = \"\";\n+      var SuppADD1 = \"\";\n+      var SuppADD2 = \"\";\n+      var SuppADD3 = \"\";\n+      var SuppADD4 = \"\";\n+      var SuppCITY = \"\";\n+      var SuppCOMPANY_GSTIN = \"\";\n+      var SuppPANNO = \"\";\n+      var SuppMO = \"\";\n+      var SuppPH1 = \"\";\n+      var SuppGROUPcode = \"\";\n+      var SuppGroupName = \"\";\n+      console.log(SuppArray, BLS[i].ccd)\n+      if (SuppArray.length > 0) {\n+        SuppName = getValueNotDefine(SuppArray[0].partyname);\n+        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n+        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n+        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n+        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n+        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n+        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        SuppMO = getValueNotDefine(SuppArray[0].MO);\n+        SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n+        SuppGROUPcode = getValueNotDefine(SuppArray[0].GCODE);\n+        suppGroupArr = getGroupDetailsBySendCode(SuppGROUPcode);\n+        if (suppGroupArr.length > 0) {\n+          SuppGroupName = suppGroupArr[0].partyname;\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      document.title = BLS[i].VNO;\n+\n+      var chqAmt = parseFloat(BLS[i].DRA) + parseFloat(BLS[i].CRA);\n+\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n+      </tr>\n+      \n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n+      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\"> `+ SuppADD2 + ` ,` + SuppCITY + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\">PH: `+ SuppMO + `,` + SuppPH1 + `</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;font-weight:bolder;\"colspan=\"2\"> SUPPLIER GROUP : `+ SuppGroupName + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n+      <td style=\"text-align:left;\">CHQ/DD. DATE :`+ formatDate(BLS[i].OD) + `</td>\n+      <td style=\"text-align:left;\">AMOUNT :`+ parseFloat(chqAmt).toFixed(2) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"3\">DRAWEE BANK: `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:20%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA).toFixed(2);\n+          var AD = parseFloat(billDet[k].AD).toFixed(2);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA += BA;\n+          totalAD += AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      </tr>\n+      \n+\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637307438307,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,327 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      MainFirmName = firmArray[0].FIRM;\n+      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n+      var SuppName = \"\";\n+      var SuppADD1 = \"\";\n+      var SuppADD2 = \"\";\n+      var SuppADD3 = \"\";\n+      var SuppADD4 = \"\";\n+      var SuppCITY = \"\";\n+      var SuppCOMPANY_GSTIN = \"\";\n+      var SuppPANNO = \"\";\n+      var SuppMO = \"\";\n+      var SuppPH1 = \"\";\n+      var SuppGROUPcode = \"\";\n+      var SuppGroupName = \"\";\n+      console.log(SuppArray, BLS[i].ccd)\n+      if (SuppArray.length > 0) {\n+        SuppName = getValueNotDefine(SuppArray[0].partyname);\n+        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n+        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n+        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n+        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n+        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n+        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        SuppMO = getValueNotDefine(SuppArray[0].MO);\n+        SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n+        SuppGROUPcode = getValueNotDefine(SuppArray[0].GCODE);\n+        suppGroupArr = getGroupDetailsBySendCode(SuppGROUPcode);\n+        if (suppGroupArr.length > 0) {\n+          SuppGroupName = suppGroupArr[0].partyname;\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      document.title = BLS[i].VNO;\n+\n+      var chqAmt = parseFloat(BLS[i].DRA) + parseFloat(BLS[i].CRA);\n+\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n+      </tr>\n+      \n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n+      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\"> `+ SuppADD2 + ` ,` + SuppCITY + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\">PH: `+ SuppMO + `,` + SuppPH1 + `</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;font-weight:bolder;\"colspan=\"2\"> SUPPLIER GROUP : `+ SuppGroupName + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n+      <td style=\"text-align:left;\">CHQ/DD. DATE :`+ formatDate(BLS[i].OD) + `</td>\n+      <td style=\"text-align:left;\">AMOUNT :`+ parseFloat(chqAmt).toFixed(2) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"3\">DRAWEE BANK: `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:20%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA);\n+          var AD = parseFloat(billDet[k].AD);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n+              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n+              </tr>`;\n+\n+          totalBA += BA;\n+          totalAD += AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      </tr>\n+      \n+\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637307459676,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,327 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      MainFirmName = firmArray[0].FIRM;\n+      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n+      var SuppName = \"\";\n+      var SuppADD1 = \"\";\n+      var SuppADD2 = \"\";\n+      var SuppADD3 = \"\";\n+      var SuppADD4 = \"\";\n+      var SuppCITY = \"\";\n+      var SuppCOMPANY_GSTIN = \"\";\n+      var SuppPANNO = \"\";\n+      var SuppMO = \"\";\n+      var SuppPH1 = \"\";\n+      var SuppGROUPcode = \"\";\n+      var SuppGroupName = \"\";\n+      console.log(SuppArray, BLS[i].ccd)\n+      if (SuppArray.length > 0) {\n+        SuppName = getValueNotDefine(SuppArray[0].partyname);\n+        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n+        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n+        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n+        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n+        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n+        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        SuppMO = getValueNotDefine(SuppArray[0].MO);\n+        SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n+        SuppGROUPcode = getValueNotDefine(SuppArray[0].GCODE);\n+        suppGroupArr = getGroupDetailsBySendCode(SuppGROUPcode);\n+        if (suppGroupArr.length > 0) {\n+          SuppGroupName = suppGroupArr[0].partyname;\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      document.title = BLS[i].VNO;\n+\n+      var chqAmt = parseFloat(BLS[i].DRA) + parseFloat(BLS[i].CRA);\n+\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n+      </tr>\n+      \n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n+      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\"> `+ SuppADD2 + ` ,` + SuppCITY + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\">PH: `+ SuppMO + `,` + SuppPH1 + `</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;font-weight:bolder;\"colspan=\"2\"> SUPPLIER GROUP : `+ SuppGroupName + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n+      <td style=\"text-align:left;\">CHQ/DD. DATE :`+ formatDate(BLS[i].OD) + `</td>\n+      <td style=\"text-align:left;\">AMOUNT :`+ parseFloat(chqAmt).toFixed(2) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"3\">DRAWEE BANK: `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:20%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA);\n+          var AD = parseFloat(billDet[k].AD);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ parseFloat(BA).toFixed(2) + `</td>\n+              <td class=\"alignRight\">`+ parseFloat(AD).toFixed(2) + `</td>\n+              </tr>`;\n+\n+          totalBA += BA;\n+          totalAD += AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      </tr>\n+      \n+\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637307603895,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,328 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      MainFirmName = firmArray[0].FIRM;\n+      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n+      var SuppName = \"\";\n+      var SuppADD1 = \"\";\n+      var SuppADD2 = \"\";\n+      var SuppADD3 = \"\";\n+      var SuppADD4 = \"\";\n+      var SuppCITY = \"\";\n+      var SuppCOMPANY_GSTIN = \"\";\n+      var SuppPANNO = \"\";\n+      var SuppMO = \"\";\n+      var SuppPH1 = \"\";\n+      var SuppGROUPcode = \"\";\n+      var SuppGroupName = \"\";\n+      console.log(SuppArray, BLS[i].ccd)\n+      if (SuppArray.length > 0) {\n+        SuppName = getValueNotDefine(SuppArray[0].partyname);\n+        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n+        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n+        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n+        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n+        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n+        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        SuppMO = getValueNotDefine(SuppArray[0].MO);\n+        SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n+        SuppGROUPcode = getValueNotDefine(SuppArray[0].GCODE);\n+        suppGroupArr = getGroupDetailsBySendCode(SuppGROUPcode);\n+        if (suppGroupArr.length > 0) {\n+          SuppGroupName = suppGroupArr[0].partyname;\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      document.title = BLS[i].VNO;\n+\n+      var chqAmt = parseFloat(BLS[i].DRA) + parseFloat(BLS[i].CRA);\n+\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n+      </tr>\n+      \n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n+      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\"> `+ SuppADD2 + ` ,` + SuppCITY + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\">PH: `+ SuppMO + `,` + SuppPH1 + `</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;font-weight:bolder;\"colspan=\"2\"> SUPPLIER GROUP : `+ SuppGroupName + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n+      <td style=\"text-align:left;\">CHQ/DD. DATE :`+ formatDate(BLS[i].OD) + `</td>\n+      <td style=\"text-align:left;\">AMOUNT :`+ parseFloat(chqAmt).toFixed(2) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"3\">DRAWEE BANK: `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:20%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA);\n+          var AD = parseFloat(billDet[k].AD);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ parseFloat(BA).toFixed(2) + `</td>\n+              <td class=\"alignRight\">`+ parseFloat(AD).toFixed(2) + `</td>\n+              </tr>`;\n+\n+          totalBA += BA;\n+          totalAD += AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      <td  colspan=\"3\"style=\"text-align:left;\">COMM. AMT `+ getValueNotDefine(BLS[i].CM) + `</td>\n+      </tr>\n+      \n+\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637307620810,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,328 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      MainFirmName = firmArray[0].FIRM;\n+      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n+      var SuppName = \"\";\n+      var SuppADD1 = \"\";\n+      var SuppADD2 = \"\";\n+      var SuppADD3 = \"\";\n+      var SuppADD4 = \"\";\n+      var SuppCITY = \"\";\n+      var SuppCOMPANY_GSTIN = \"\";\n+      var SuppPANNO = \"\";\n+      var SuppMO = \"\";\n+      var SuppPH1 = \"\";\n+      var SuppGROUPcode = \"\";\n+      var SuppGroupName = \"\";\n+      console.log(SuppArray, BLS[i].ccd)\n+      if (SuppArray.length > 0) {\n+        SuppName = getValueNotDefine(SuppArray[0].partyname);\n+        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n+        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n+        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n+        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n+        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n+        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        SuppMO = getValueNotDefine(SuppArray[0].MO);\n+        SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n+        SuppGROUPcode = getValueNotDefine(SuppArray[0].GCODE);\n+        suppGroupArr = getGroupDetailsBySendCode(SuppGROUPcode);\n+        if (suppGroupArr.length > 0) {\n+          SuppGroupName = suppGroupArr[0].partyname;\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      document.title = BLS[i].VNO;\n+\n+      var chqAmt = parseFloat(BLS[i].DRA) + parseFloat(BLS[i].CRA);\n+\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n+      </tr>\n+      \n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n+      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\"> `+ SuppADD2 + ` ,` + SuppCITY + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\">PH: `+ SuppMO + `,` + SuppPH1 + `</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;font-weight:bolder;\"colspan=\"2\"> SUPPLIER GROUP : `+ SuppGroupName + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n+      <td style=\"text-align:left;\">CHQ/DD. DATE :`+ formatDate(BLS[i].OD) + `</td>\n+      <td style=\"text-align:left;\">AMOUNT :`+ parseFloat(chqAmt).toFixed(2) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"3\">DRAWEE BANK: `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:20%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA);\n+          var AD = parseFloat(billDet[k].AD);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ parseFloat(BA).toFixed(2) + `</td>\n+              <td class=\"alignRight\">`+ parseFloat(AD).toFixed(2) + `</td>\n+              </tr>`;\n+\n+          totalBA += BA;\n+          totalAD += AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"2\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      <td  colspan=\"1\"style=\"text-align:RIGHT;\">COMM. AMT `+ getValueNotDefine(BLS[i].CM) + `</td>\n+      </tr>\n+      \n+\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637307633070,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,328 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      MainFirmName = firmArray[0].FIRM;\n+      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n+      var SuppName = \"\";\n+      var SuppADD1 = \"\";\n+      var SuppADD2 = \"\";\n+      var SuppADD3 = \"\";\n+      var SuppADD4 = \"\";\n+      var SuppCITY = \"\";\n+      var SuppCOMPANY_GSTIN = \"\";\n+      var SuppPANNO = \"\";\n+      var SuppMO = \"\";\n+      var SuppPH1 = \"\";\n+      var SuppGROUPcode = \"\";\n+      var SuppGroupName = \"\";\n+      console.log(SuppArray, BLS[i].ccd)\n+      if (SuppArray.length > 0) {\n+        SuppName = getValueNotDefine(SuppArray[0].partyname);\n+        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n+        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n+        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n+        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n+        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n+        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        SuppMO = getValueNotDefine(SuppArray[0].MO);\n+        SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n+        SuppGROUPcode = getValueNotDefine(SuppArray[0].GCODE);\n+        suppGroupArr = getGroupDetailsBySendCode(SuppGROUPcode);\n+        if (suppGroupArr.length > 0) {\n+          SuppGroupName = suppGroupArr[0].partyname;\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      document.title = BLS[i].VNO;\n+\n+      var chqAmt = parseFloat(BLS[i].DRA) + parseFloat(BLS[i].CRA);\n+\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n+      </tr>\n+      \n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n+      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\"> `+ SuppADD2 + ` ,` + SuppCITY + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\">PH: `+ SuppMO + `,` + SuppPH1 + `</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;font-weight:bolder;\"colspan=\"2\"> SUPPLIER GROUP : `+ SuppGroupName + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n+      <td style=\"text-align:left;\">CHQ/DD. DATE :`+ formatDate(BLS[i].OD) + `</td>\n+      <td style=\"text-align:left;\">AMOUNT :`+ parseFloat(chqAmt).toFixed(2) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"3\">DRAWEE BANK: `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:20%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA);\n+          var AD = parseFloat(billDet[k].AD);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ parseFloat(BA).toFixed(2) + `</td>\n+              <td class=\"alignRight\">`+ parseFloat(AD).toFixed(2) + `</td>\n+              </tr>`;\n+\n+          totalBA += BA;\n+          totalAD += AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"2\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      <td  colspan=\"1\"style=\"text-align:RIGHT;\">COMM. AMT `+ getValueNotDefineNo(BLS[i].CM) + `</td>\n+      </tr>\n+      \n+\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637308018889,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,328 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      MainFirmName = firmArray[0].FIRM;\n+      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n+      var SuppName = \"\";\n+      var SuppADD1 = \"\";\n+      var SuppADD2 = \"\";\n+      var SuppADD3 = \"\";\n+      var SuppADD4 = \"\";\n+      var SuppCITY = \"\";\n+      var SuppCOMPANY_GSTIN = \"\";\n+      var SuppPANNO = \"\";\n+      var SuppMO = \"\";\n+      var SuppPH1 = \"\";\n+      var SuppGROUPcode = \"\";\n+      var SuppGroupName = \"\";\n+      console.log(SuppArray, BLS[i].ccd)\n+      if (SuppArray.length > 0) {\n+        SuppName = getValueNotDefine(SuppArray[0].partyname);\n+        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n+        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n+        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n+        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n+        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n+        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        SuppMO = getValueNotDefine(SuppArray[0].MO);\n+        SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n+        SuppGROUPcode = getValueNotDefine(SuppArray[0].GCODE);\n+        suppGroupArr = getGroupDetailsBySendCode(SuppGROUPcode);\n+        if (suppGroupArr.length > 0) {\n+          SuppGroupName = suppGroupArr[0].partyname;\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      document.title = BLS[i].VNO;\n+\n+      var chqAmt = parseFloat(BLS[i].DRA) + parseFloat(BLS[i].CRA);\n+\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n+      </tr>\n+      \n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n+      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\"> `+ SuppADD2 + ` ,` + SuppCITY + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\">PH: `+ SuppMO + `,` + SuppPH1 + `</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;font-weight:bolder;\"colspan=\"2\"> SUPPLIER GROUP : `+ SuppGroupName + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n+      <td style=\"text-align:left;\">CHQ/DD. DATE :`+ formatDate(BLS[i].OD) + `</td>\n+      <td style=\"text-align:left;\">AMOUNT :`+ parseFloat(chqAmt).toFixed(2) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"3\">DRAWEE BANK: `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:20%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA);\n+          var AD = parseFloat(billDet[k].AD);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ parseFloat(BA).toFixed(2) + `</td>\n+              <td class=\"alignRight\">`+ parseFloat(AD).toFixed(2) + `</td>\n+              </tr>`;\n+\n+          totalBA += BA;\n+          totalAD += AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"2\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      <td  colspan=\"1\"style=\"text-align:RIGHT;\">COMM. AMT `+ getValueNotDefine(BLS[i].CM) + `</td>\n+      </tr>\n+      \n+\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637308288223,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,334 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      MainFirmName = firmArray[0].FIRM;\n+      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n+      var SuppName = \"\";\n+      var SuppADD1 = \"\";\n+      var SuppADD2 = \"\";\n+      var SuppADD3 = \"\";\n+      var SuppADD4 = \"\";\n+      var SuppCITY = \"\";\n+      var SuppCOMPANY_GSTIN = \"\";\n+      var SuppPANNO = \"\";\n+      var SuppMO = \"\";\n+      var SuppPH1 = \"\";\n+      var SuppGROUPcode = \"\";\n+      var SuppGroupName = \"\";\n+      console.log(SuppArray, BLS[i].ccd)\n+      if (SuppArray.length > 0) {\n+        SuppName = getValueNotDefine(SuppArray[0].partyname);\n+        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n+        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n+        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n+        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n+        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n+        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        SuppMO = getValueNotDefine(SuppArray[0].MO);\n+        SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n+        SuppGROUPcode = getValueNotDefine(SuppArray[0].GCODE);\n+        suppGroupArr = getGroupDetailsBySendCode(SuppGROUPcode);\n+        if (suppGroupArr.length > 0) {\n+          SuppGroupName = suppGroupArr[0].partyname;\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      document.title = BLS[i].VNO;\n+\n+      var chqAmt = parseFloat(BLS[i].DRA) + parseFloat(BLS[i].CRA);\n+\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n+      </tr>\n+      \n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n+      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\"> `+ SuppADD2 + ` ,` + SuppCITY + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\">PH: `+ SuppMO + `,` + SuppPH1 + `</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;font-weight:bolder;\"colspan=\"2\"> SUPPLIER GROUP : `+ SuppGroupName + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n+      <td style=\"text-align:left;\">CHQ/DD. DATE :`+ formatDate(BLS[i].OD) + `</td>\n+      <td style=\"text-align:left;\">AMOUNT :`+ parseFloat(chqAmt).toFixed(2) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"3\">DRAWEE BANK: `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:20%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA);\n+          var AD = parseFloat(billDet[k].AD);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ parseFloat(BA).toFixed(2) + `</td>\n+              <td class=\"alignRight\">`+ parseFloat(AD).toFixed(2) + `</td>\n+              </tr>`;\n+\n+          totalBA += BA;\n+          totalAD += AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"2\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      <td  colspan=\"1\"style=\"text-align:RIGHT;\">COMM. AMT `+ getValueNotDefine(BLS[i].CM) + `</td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"></td>\n+      </tr>\n+      <tr>\n+      <td colspan=\"3\"></td>\n+      </tr>\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637308297514,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,340 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      MainFirmName = firmArray[0].FIRM;\n+      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n+      var SuppName = \"\";\n+      var SuppADD1 = \"\";\n+      var SuppADD2 = \"\";\n+      var SuppADD3 = \"\";\n+      var SuppADD4 = \"\";\n+      var SuppCITY = \"\";\n+      var SuppCOMPANY_GSTIN = \"\";\n+      var SuppPANNO = \"\";\n+      var SuppMO = \"\";\n+      var SuppPH1 = \"\";\n+      var SuppGROUPcode = \"\";\n+      var SuppGroupName = \"\";\n+      console.log(SuppArray, BLS[i].ccd)\n+      if (SuppArray.length > 0) {\n+        SuppName = getValueNotDefine(SuppArray[0].partyname);\n+        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n+        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n+        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n+        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n+        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n+        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        SuppMO = getValueNotDefine(SuppArray[0].MO);\n+        SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n+        SuppGROUPcode = getValueNotDefine(SuppArray[0].GCODE);\n+        suppGroupArr = getGroupDetailsBySendCode(SuppGROUPcode);\n+        if (suppGroupArr.length > 0) {\n+          SuppGroupName = suppGroupArr[0].partyname;\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      document.title = BLS[i].VNO;\n+\n+      var chqAmt = parseFloat(BLS[i].DRA) + parseFloat(BLS[i].CRA);\n+\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n+      </tr>\n+      \n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n+      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\"> `+ SuppADD2 + ` ,` + SuppCITY + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\">PH: `+ SuppMO + `,` + SuppPH1 + `</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;font-weight:bolder;\"colspan=\"2\"> SUPPLIER GROUP : `+ SuppGroupName + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n+      <td style=\"text-align:left;\">CHQ/DD. DATE :`+ formatDate(BLS[i].OD) + `</td>\n+      <td style=\"text-align:left;\">AMOUNT :`+ parseFloat(chqAmt).toFixed(2) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"3\">DRAWEE BANK: `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:20%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA);\n+          var AD = parseFloat(billDet[k].AD);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ parseFloat(BA).toFixed(2) + `</td>\n+              <td class=\"alignRight\">`+ parseFloat(AD).toFixed(2) + `</td>\n+              </tr>`;\n+\n+          totalBA += BA;\n+          totalAD += AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"2\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      <td  colspan=\"1\"style=\"text-align:RIGHT;\">COMM. AMT `+ getValueNotDefine(BLS[i].CM) + `</td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"></td>\n+      </tr>\n+      <tr>\n+      <td colspan=\"3\"></td>\n+      </tr>\n+      <tr>\n+      <td colspan=\"3\"></td>\n+      </tr>\n+      <tr>\n+      <td colspan=\"3\"></td>\n+      </tr>\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637308312222,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,340 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      MainFirmName = firmArray[0].FIRM;\n+      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n+      var SuppName = \"\";\n+      var SuppADD1 = \"\";\n+      var SuppADD2 = \"\";\n+      var SuppADD3 = \"\";\n+      var SuppADD4 = \"\";\n+      var SuppCITY = \"\";\n+      var SuppCOMPANY_GSTIN = \"\";\n+      var SuppPANNO = \"\";\n+      var SuppMO = \"\";\n+      var SuppPH1 = \"\";\n+      var SuppGROUPcode = \"\";\n+      var SuppGroupName = \"\";\n+      console.log(SuppArray, BLS[i].ccd)\n+      if (SuppArray.length > 0) {\n+        SuppName = getValueNotDefine(SuppArray[0].partyname);\n+        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n+        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n+        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n+        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n+        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n+        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        SuppMO = getValueNotDefine(SuppArray[0].MO);\n+        SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n+        SuppGROUPcode = getValueNotDefine(SuppArray[0].GCODE);\n+        suppGroupArr = getGroupDetailsBySendCode(SuppGROUPcode);\n+        if (suppGroupArr.length > 0) {\n+          SuppGroupName = suppGroupArr[0].partyname;\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      document.title = BLS[i].VNO;\n+\n+      var chqAmt = parseFloat(BLS[i].DRA) + parseFloat(BLS[i].CRA);\n+\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n+      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n+      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n+      </tr>\n+      \n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n+      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\"> `+ SuppADD2 + ` ,` + SuppCITY + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\">PH: `+ SuppMO + `,` + SuppPH1 + `</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;font-weight:bolder;\"colspan=\"2\"> SUPPLIER GROUP : `+ SuppGroupName + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n+      <td style=\"text-align:left;\">CHQ/DD. DATE :`+ formatDate(BLS[i].OD) + `</td>\n+      <td style=\"text-align:left;\">AMOUNT :`+ parseFloat(chqAmt).toFixed(2) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"3\">DRAWEE BANK: `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:15%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA);\n+          var AD = parseFloat(billDet[k].AD);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ parseFloat(BA).toFixed(2) + `</td>\n+              <td class=\"alignRight\">`+ parseFloat(AD).toFixed(2) + `</td>\n+              </tr>`;\n+\n+          totalBA += BA;\n+          totalAD += AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"2\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      <td  colspan=\"1\"style=\"text-align:RIGHT;\">COMM. AMT `+ getValueNotDefine(BLS[i].CM) + `</td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"></td>\n+      </tr>\n+      <tr>\n+      <td colspan=\"3\"></td>\n+      </tr>\n+      <tr>\n+      <td colspan=\"3\"></td>\n+      </tr>\n+      <tr>\n+      <td colspan=\"3\"></td>\n+      </tr>\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637308363058,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,334 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      MainFirmName = firmArray[0].FIRM;\n+      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n+      var SuppName = \"\";\n+      var SuppADD1 = \"\";\n+      var SuppADD2 = \"\";\n+      var SuppADD3 = \"\";\n+      var SuppADD4 = \"\";\n+      var SuppCITY = \"\";\n+      var SuppCOMPANY_GSTIN = \"\";\n+      var SuppPANNO = \"\";\n+      var SuppMO = \"\";\n+      var SuppPH1 = \"\";\n+      var SuppGROUPcode = \"\";\n+      var SuppGroupName = \"\";\n+      console.log(SuppArray, BLS[i].ccd)\n+      if (SuppArray.length > 0) {\n+        SuppName = getValueNotDefine(SuppArray[0].partyname);\n+        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n+        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n+        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n+        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n+        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n+        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        SuppMO = getValueNotDefine(SuppArray[0].MO);\n+        SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n+        SuppGROUPcode = getValueNotDefine(SuppArray[0].GCODE);\n+        suppGroupArr = getGroupDetailsBySendCode(SuppGROUPcode);\n+        if (suppGroupArr.length > 0) {\n+          SuppGroupName = suppGroupArr[0].partyname;\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      document.title = BLS[i].VNO;\n+\n+      var chqAmt = parseFloat(BLS[i].DRA) + parseFloat(BLS[i].CRA);\n+\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n+      </tr>\n+      \n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n+      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\"> `+ SuppADD2 + ` ,` + SuppCITY + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\">PH: `+ SuppMO + `,` + SuppPH1 + `</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;font-weight:bolder;\"colspan=\"2\"> SUPPLIER GROUP : `+ SuppGroupName + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n+      <td style=\"text-align:left;\">CHQ/DD. DATE :`+ formatDate(BLS[i].OD) + `</td>\n+      <td style=\"text-align:left;\">AMOUNT :`+ parseFloat(chqAmt).toFixed(2) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"3\">DRAWEE BANK: `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:15%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA);\n+          var AD = parseFloat(billDet[k].AD);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ parseFloat(BA).toFixed(2) + `</td>\n+              <td class=\"alignRight\">`+ parseFloat(AD).toFixed(2) + `</td>\n+              </tr>`;\n+\n+          totalBA += BA;\n+          totalAD += AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"2\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      <td  colspan=\"1\"style=\"text-align:RIGHT;\">COMM. AMT `+ getValueNotDefine(BLS[i].CM) + `</td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"></td>\n+      </tr>\n+      <tr>\n+      <td colspan=\"3\"></td>\n+      </tr>\n+      <tr>\n+      <td colspan=\"3\"></td>\n+      </tr>\n+      <tr>\n+      <td colspan=\"3\"></td>\n+      </tr>\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637308426973,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,334 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      MainFirmName = firmArray[0].FIRM;\n+      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n+      var SuppName = \"\";\n+      var SuppADD1 = \"\";\n+      var SuppADD2 = \"\";\n+      var SuppADD3 = \"\";\n+      var SuppADD4 = \"\";\n+      var SuppCITY = \"\";\n+      var SuppCOMPANY_GSTIN = \"\";\n+      var SuppPANNO = \"\";\n+      var SuppMO = \"\";\n+      var SuppPH1 = \"\";\n+      var SuppGROUPcode = \"\";\n+      var SuppGroupName = \"\";\n+      console.log(SuppArray, BLS[i].ccd)\n+      if (SuppArray.length > 0) {\n+        SuppName = getValueNotDefine(SuppArray[0].partyname);\n+        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n+        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n+        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n+        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n+        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n+        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        SuppMO = getValueNotDefine(SuppArray[0].MO);\n+        SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n+        SuppGROUPcode = getValueNotDefine(SuppArray[0].GCODE);\n+        suppGroupArr = getGroupDetailsBySendCode(SuppGROUPcode);\n+        if (suppGroupArr.length > 0) {\n+          SuppGroupName = suppGroupArr[0].partyname;\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      document.title = BLS[i].VNO;\n+\n+      var chqAmt = parseFloat(BLS[i].DRA) + parseFloat(BLS[i].CRA);\n+\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n+      </tr>\n+      \n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n+      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\"> `+ SuppADD2 + ` ,` + SuppCITY + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\">PH: `+ SuppMO + `,` + SuppPH1 + `</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;font-weight:bolder;\"colspan=\"2\"> SUPPLIER GROUP : `+ SuppGroupName + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n+      <td style=\"text-align:left;\">CHQ/DD. DATE :`+ formatDate(BLS[i].OD) + `</td>\n+      <td style=\"text-align:left;\">AMOUNT :`+ parseFloat(chqAmt).toFixed(2) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"3\">DRAWEE BANK: `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:15%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA);\n+          var AD = parseFloat(billDet[k].AD);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ parseFloat(BA).toFixed(2) + `</td>\n+              <td class=\"alignRight\">`+ parseFloat(AD).toFixed(2) + `</td>\n+              </tr>`;\n+\n+          totalBA += BA;\n+          totalAD += AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"2\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      <td  colspan=\"1\"style=\"text-align:RIGHT;\"><P class=\"hideCommAmt\">COMM. AMT `+ getValueNotDefine(BLS[i].CM) + `</p></td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"></td>\n+      </tr>\n+      <tr>\n+      <td colspan=\"3\"></td>\n+      </tr>\n+      <tr>\n+      <td colspan=\"3\"></td>\n+      </tr>\n+      <tr>\n+      <td colspan=\"3\"></td>\n+      </tr>\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637308470656,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,334 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      MainFirmName = firmArray[0].FIRM;\n+      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n+      var SuppName = \"\";\n+      var SuppADD1 = \"\";\n+      var SuppADD2 = \"\";\n+      var SuppADD3 = \"\";\n+      var SuppADD4 = \"\";\n+      var SuppCITY = \"\";\n+      var SuppCOMPANY_GSTIN = \"\";\n+      var SuppPANNO = \"\";\n+      var SuppMO = \"\";\n+      var SuppPH1 = \"\";\n+      var SuppGROUPcode = \"\";\n+      var SuppGroupName = \"\";\n+      console.log(SuppArray, BLS[i].ccd)\n+      if (SuppArray.length > 0) {\n+        SuppName = getValueNotDefine(SuppArray[0].partyname);\n+        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n+        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n+        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n+        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n+        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n+        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        SuppMO = getValueNotDefine(SuppArray[0].MO);\n+        SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n+        SuppGROUPcode = getValueNotDefine(SuppArray[0].GCODE);\n+        suppGroupArr = getGroupDetailsBySendCode(SuppGROUPcode);\n+        if (suppGroupArr.length > 0) {\n+          SuppGroupName = suppGroupArr[0].partyname;\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      document.title = BLS[i].VNO;\n+\n+      var chqAmt = parseFloat(BLS[i].DRA) + parseFloat(BLS[i].CRA);\n+\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">VOUCHER  NO .`+ BLS[i].VNO + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n+      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n+      </tr>\n+      \n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n+      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\"> `+ SuppADD2 + ` ,` + SuppCITY + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\">PH: `+ SuppMO + `,` + SuppPH1 + `</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;font-weight:bolder;\"colspan=\"2\"> SUPPLIER GROUP : `+ SuppGroupName + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n+      <td style=\"text-align:left;\">CHQ/DD. DATE :`+ formatDate(BLS[i].OD) + `</td>\n+      <td style=\"text-align:left;\">AMOUNT :`+ parseFloat(chqAmt).toFixed(2) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"3\">DRAWEE BANK: `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:15%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA);\n+          var AD = parseFloat(billDet[k].AD);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ parseFloat(BA).toFixed(2) + `</td>\n+              <td class=\"alignRight\">`+ parseFloat(AD).toFixed(2) + `</td>\n+              </tr>`;\n+\n+          totalBA += BA;\n+          totalAD += AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"2\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      <td  colspan=\"1\"style=\"text-align:RIGHT;\"><P class=\"hideCommAmt\">COMM. AMT `+ getValueNotDefine(BLS[i].CM) + `</p></td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"></td>\n+      </tr>\n+      <tr>\n+      <td colspan=\"3\"></td>\n+      </tr>\n+      <tr>\n+      <td colspan=\"3\"></td>\n+      </tr>\n+      <tr>\n+      <td colspan=\"3\"></td>\n+      </tr>\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637308500798,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,334 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      MainFirmName = firmArray[0].FIRM;\n+      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n+      var SuppName = \"\";\n+      var SuppADD1 = \"\";\n+      var SuppADD2 = \"\";\n+      var SuppADD3 = \"\";\n+      var SuppADD4 = \"\";\n+      var SuppCITY = \"\";\n+      var SuppCOMPANY_GSTIN = \"\";\n+      var SuppPANNO = \"\";\n+      var SuppMO = \"\";\n+      var SuppPH1 = \"\";\n+      var SuppGROUPcode = \"\";\n+      var SuppGroupName = \"\";\n+      console.log(SuppArray, BLS[i].ccd)\n+      if (SuppArray.length > 0) {\n+        SuppName = getValueNotDefine(SuppArray[0].partyname);\n+        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n+        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n+        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n+        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n+        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n+        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        SuppMO = getValueNotDefine(SuppArray[0].MO);\n+        SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n+        SuppGROUPcode = getValueNotDefine(SuppArray[0].GCODE);\n+        suppGroupArr = getGroupDetailsBySendCode(SuppGROUPcode);\n+        if (suppGroupArr.length > 0) {\n+          SuppGroupName = suppGroupArr[0].partyname;\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      document.title = BLS[i].VNO;\n+\n+      var chqAmt = parseFloat(BLS[i].DRA) + parseFloat(BLS[i].CRA);\n+\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">VOUCHER  NO .`+ BLS[i].VNO + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n+      <td style=\"text-align:left;\"><p class=\"hideSupplierName\">  TO  : `+ SuppName + ` </p> </td>\n+      </tr>\n+      \n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n+      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\"> `+ SuppADD2 + ` ,` + SuppCITY + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\">PH: `+ SuppMO + `,` + SuppPH1 + `</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;font-weight:bolder;\"colspan=\"2\"> SUPPLIER GROUP : `+ SuppGroupName + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n+      <td style=\"text-align:left;\">CHQ/DD. DATE :`+ formatDate(BLS[i].OD) + `</td>\n+      <td style=\"text-align:left;\">AMOUNT :`+ parseFloat(chqAmt).toFixed(2) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"3\">DRAWEE BANK: `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:15%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA);\n+          var AD = parseFloat(billDet[k].AD);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ parseFloat(BA).toFixed(2) + `</td>\n+              <td class=\"alignRight\">`+ parseFloat(AD).toFixed(2) + `</td>\n+              </tr>`;\n+\n+          totalBA += BA;\n+          totalAD += AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"2\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      <td  colspan=\"1\"style=\"text-align:RIGHT;\"><P class=\"hideCommAmt\">COMM. AMT `+ getValueNotDefine(BLS[i].CM) + `</p></td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"></td>\n+      </tr>\n+      <tr>\n+      <td colspan=\"3\"></td>\n+      </tr>\n+      <tr>\n+      <td colspan=\"3\"></td>\n+      </tr>\n+      <tr>\n+      <td colspan=\"3\"></td>\n+      </tr>\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    // hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637308507181,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,334 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      MainFirmName = firmArray[0].FIRM;\n+      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n+      var SuppName = \"\";\n+      var SuppADD1 = \"\";\n+      var SuppADD2 = \"\";\n+      var SuppADD3 = \"\";\n+      var SuppADD4 = \"\";\n+      var SuppCITY = \"\";\n+      var SuppCOMPANY_GSTIN = \"\";\n+      var SuppPANNO = \"\";\n+      var SuppMO = \"\";\n+      var SuppPH1 = \"\";\n+      var SuppGROUPcode = \"\";\n+      var SuppGroupName = \"\";\n+      console.log(SuppArray, BLS[i].ccd)\n+      if (SuppArray.length > 0) {\n+        SuppName = getValueNotDefine(SuppArray[0].partyname);\n+        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n+        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n+        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n+        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n+        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n+        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        SuppMO = getValueNotDefine(SuppArray[0].MO);\n+        SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n+        SuppGROUPcode = getValueNotDefine(SuppArray[0].GCODE);\n+        suppGroupArr = getGroupDetailsBySendCode(SuppGROUPcode);\n+        if (suppGroupArr.length > 0) {\n+          SuppGroupName = suppGroupArr[0].partyname;\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      document.title = BLS[i].VNO;\n+\n+      var chqAmt = parseFloat(BLS[i].DRA) + parseFloat(BLS[i].CRA);\n+\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">VOUCHER  NO .`+ BLS[i].VNO + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n+      <td style=\"text-align:left;\"><p class=\"hideSupplierName\">  TO  : `+ SuppName + ` </p> </td>\n+      </tr>\n+      \n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n+      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\"> `+ SuppADD2 + ` ,` + SuppCITY + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\">PH: `+ SuppMO + `,` + SuppPH1 + `</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;font-weight:bolder;\"colspan=\"2\"> SUPPLIER GROUP : `+ SuppGroupName + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n+      <td style=\"text-align:left;\">CHQ/DD. DATE :`+ formatDate(BLS[i].OD) + `</td>\n+      <td style=\"text-align:left;\">AMOUNT :`+ parseFloat(chqAmt).toFixed(2) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"3\">DRAWEE BANK: `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:15%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA);\n+          var AD = parseFloat(billDet[k].AD);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ parseFloat(BA).toFixed(2) + `</td>\n+              <td class=\"alignRight\">`+ parseFloat(AD).toFixed(2) + `</td>\n+              </tr>`;\n+\n+          totalBA += BA;\n+          totalAD += AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"2\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      <td  colspan=\"1\"style=\"text-align:RIGHT;\"><P class=\"hideCommAmt\">COMM. AMT `+ getValueNotDefine(BLS[i].CM) + `</p></td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"></td>\n+      </tr>\n+      <tr>\n+      <td colspan=\"3\"></td>\n+      </tr>\n+      <tr>\n+      <td colspan=\"3\"></td>\n+      </tr>\n+      <tr>\n+      <td colspan=\"3\"></td>\n+      </tr>\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637308621536,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,334 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      MainFirmName = firmArray[0].FIRM;\n+      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n+      var SuppName = \"\";\n+      var SuppADD1 = \"\";\n+      var SuppADD2 = \"\";\n+      var SuppADD3 = \"\";\n+      var SuppADD4 = \"\";\n+      var SuppCITY = \"\";\n+      var SuppCOMPANY_GSTIN = \"\";\n+      var SuppPANNO = \"\";\n+      var SuppMO = \"\";\n+      var SuppPH1 = \"\";\n+      var SuppGROUPcode = \"\";\n+      var SuppGroupName = \"\";\n+      console.log(SuppArray, BLS[i].ccd)\n+      if (SuppArray.length > 0) {\n+        SuppName = getValueNotDefine(SuppArray[0].partyname);\n+        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n+        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n+        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n+        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n+        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n+        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        SuppMO = getValueNotDefine(SuppArray[0].MO);\n+        SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n+        SuppGROUPcode = getValueNotDefine(SuppArray[0].GCODE);\n+        suppGroupArr = getGroupDetailsBySendCode(SuppGROUPcode);\n+        if (suppGroupArr.length > 0) {\n+          SuppGroupName = suppGroupArr[0].partyname;\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      document.title = BLS[i].VNO;\n+\n+      var chqAmt = parseFloat(BLS[i].DRA) + parseFloat(BLS[i].CRA);\n+\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">VOUCHER  NO .`+ BLS[i].VNO + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n+      <td style=\"text-align:left;\"><p class=\"hideSupplierName\">  TO  : `+ SuppName + ` </p> </td>\n+      </tr>\n+      \n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n+      <td style=\"text-align:left;\"> <p class=\"hideSupplierName\">    `+ SuppADD1 + ` </p> </td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\"><p class=\"hideSupplierName\">  `+ SuppADD2 + ` ,` + SuppCITY + ` </p></td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"><p class=\"hideSupplierName\"> PH: `+ SuppMO + `,` + SuppPH1 + ` </p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;font-weight:bolder;\"colspan=\"2\"> SUPPLIER GROUP : `+ SuppGroupName + ` </td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n+      <td style=\"text-align:left;\">CHQ/DD. DATE :`+ formatDate(BLS[i].OD) + `</td>\n+      <td style=\"text-align:left;\">AMOUNT :`+ parseFloat(chqAmt).toFixed(2) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"3\">DRAWEE BANK: `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:15%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA);\n+          var AD = parseFloat(billDet[k].AD);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ parseFloat(BA).toFixed(2) + `</td>\n+              <td class=\"alignRight\">`+ parseFloat(AD).toFixed(2) + `</td>\n+              </tr>`;\n+\n+          totalBA += BA;\n+          totalAD += AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"2\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      <td  colspan=\"1\"style=\"text-align:RIGHT;\"><P class=\"hideCommAmt\">COMM. AMT `+ getValueNotDefine(BLS[i].CM) + `</p></td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"></td>\n+      </tr>\n+      <tr>\n+      <td colspan=\"3\"></td>\n+      </tr>\n+      <tr>\n+      <td colspan=\"3\"></td>\n+      </tr>\n+      <tr>\n+      <td colspan=\"3\"></td>\n+      </tr>\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637308691430,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,334 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      MainFirmName = firmArray[0].FIRM;\n+      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n+      var SuppName = \"\";\n+      var SuppADD1 = \"\";\n+      var SuppADD2 = \"\";\n+      var SuppADD3 = \"\";\n+      var SuppADD4 = \"\";\n+      var SuppCITY = \"\";\n+      var SuppCOMPANY_GSTIN = \"\";\n+      var SuppPANNO = \"\";\n+      var SuppMO = \"\";\n+      var SuppPH1 = \"\";\n+      var SuppGROUPcode = \"\";\n+      var SuppGroupName = \"\";\n+      console.log(SuppArray, BLS[i].ccd)\n+      if (SuppArray.length > 0) {\n+        SuppName = getValueNotDefine(SuppArray[0].partyname);\n+        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n+        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n+        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n+        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n+        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n+        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        SuppMO = getValueNotDefine(SuppArray[0].MO);\n+        SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n+        SuppGROUPcode = getValueNotDefine(SuppArray[0].GCODE);\n+        suppGroupArr = getGroupDetailsBySendCode(SuppGROUPcode);\n+        if (suppGroupArr.length > 0) {\n+          SuppGroupName = suppGroupArr[0].partyname;\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      document.title = BLS[i].VNO;\n+\n+      var chqAmt = parseFloat(BLS[i].DRA) + parseFloat(BLS[i].CRA);\n+\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">VOUCHER  NO .`+ BLS[i].VNO + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n+      <td style=\"text-align:left;\"><p class=\"hideSupplierName\">  TO  : `+ SuppName + ` </p> </td>\n+      </tr>\n+      \n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n+      <td style=\"text-align:left;\"> <p class=\"hideSupplierName\">    `+ SuppADD1 + ` </p> </td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\"><p class=\"hideSupplierName\">  `+ SuppADD2 + ` ,` + SuppCITY + ` </p></td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"><p class=\"hideSupplierName\"> PH: `+ SuppMO + `,` + SuppPH1 + ` </p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;font-weight:bolder;\"colspan=\"2\"> <p class=\"supplierGroupname\">SUPPLIER GROUP : `+ SuppGroupName + ` </p></td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n+      <td style=\"text-align:left;\">CHQ/DD. DATE :`+ formatDate(BLS[i].OD) + `</td>\n+      <td style=\"text-align:left;\">AMOUNT :`+ parseFloat(chqAmt).toFixed(2) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"3\">DRAWEE BANK: `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:15%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA);\n+          var AD = parseFloat(billDet[k].AD);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ parseFloat(BA).toFixed(2) + `</td>\n+              <td class=\"alignRight\">`+ parseFloat(AD).toFixed(2) + `</td>\n+              </tr>`;\n+\n+          totalBA += BA;\n+          totalAD += AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"2\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      <td  colspan=\"1\"style=\"text-align:RIGHT;\"><P class=\"hideCommAmt\">COMM. AMT `+ getValueNotDefine(BLS[i].CM) + `</p></td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"></td>\n+      </tr>\n+      <tr>\n+      <td colspan=\"3\"></td>\n+      </tr>\n+      <tr>\n+      <td colspan=\"3\"></td>\n+      </tr>\n+      <tr>\n+      <td colspan=\"3\"></td>\n+      </tr>\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637308708460,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,334 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      MainFirmName = firmArray[0].FIRM;\n+      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n+      var SuppName = \"\";\n+      var SuppADD1 = \"\";\n+      var SuppADD2 = \"\";\n+      var SuppADD3 = \"\";\n+      var SuppADD4 = \"\";\n+      var SuppCITY = \"\";\n+      var SuppCOMPANY_GSTIN = \"\";\n+      var SuppPANNO = \"\";\n+      var SuppMO = \"\";\n+      var SuppPH1 = \"\";\n+      var SuppGROUPcode = \"\";\n+      var SuppGroupName = \"\";\n+      console.log(SuppArray, BLS[i].ccd)\n+      if (SuppArray.length > 0) {\n+        SuppName = getValueNotDefine(SuppArray[0].partyname);\n+        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n+        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n+        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n+        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n+        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n+        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        SuppMO = getValueNotDefine(SuppArray[0].MO);\n+        SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n+        SuppGROUPcode = getValueNotDefine(SuppArray[0].GCODE);\n+        suppGroupArr = getGroupDetailsBySendCode(SuppGROUPcode);\n+        if (suppGroupArr.length > 0) {\n+          SuppGroupName = suppGroupArr[0].partyname;\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      document.title = BLS[i].VNO;\n+\n+      var chqAmt = parseFloat(BLS[i].DRA) + parseFloat(BLS[i].CRA);\n+\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">VOUCHER  NO .`+ BLS[i].VNO + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n+      <td style=\"text-align:left;\"><p class=\"hideSupplierName\">  TO  : `+ SuppName + ` </p> </td>\n+      </tr>\n+      \n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n+      <td style=\"text-align:left;\"> <p class=\"hideSupplierName\">    `+ SuppADD1 + ` </p> </td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\"><p class=\"hideSupplierName\">  `+ SuppADD2 + ` ,` + SuppCITY + ` </p></td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"><p class=\"hideSupplierName\"> PH: `+ SuppMO + `,` + SuppPH1 + ` </p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;font-weight:bolder;\"colspan=\"2\"> <p class=\"hidesupplierGroupname\">SUPPLIER GROUP : `+ SuppGroupName + ` </p></td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n+      <td style=\"text-align:left;\">CHQ/DD. DATE :`+ formatDate(BLS[i].OD) + `</td>\n+      <td style=\"text-align:left;\">AMOUNT :`+ parseFloat(chqAmt).toFixed(2) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"3\">DRAWEE BANK: `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:15%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA);\n+          var AD = parseFloat(billDet[k].AD);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ parseFloat(BA).toFixed(2) + `</td>\n+              <td class=\"alignRight\">`+ parseFloat(AD).toFixed(2) + `</td>\n+              </tr>`;\n+\n+          totalBA += BA;\n+          totalAD += AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"2\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      <td  colspan=\"1\"style=\"text-align:RIGHT;\"><P class=\"hideCommAmt\">COMM. AMT `+ getValueNotDefine(BLS[i].CM) + `</p></td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"></td>\n+      </tr>\n+      <tr>\n+      <td colspan=\"3\"></td>\n+      </tr>\n+      <tr>\n+      <td colspan=\"3\"></td>\n+      </tr>\n+      <tr>\n+      <td colspan=\"3\"></td>\n+      </tr>\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637308748223,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,334 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      MainFirmName = firmArray[0].FIRM;\n+      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n+      var SuppName = \"\";\n+      var SuppADD1 = \"\";\n+      var SuppADD2 = \"\";\n+      var SuppADD3 = \"\";\n+      var SuppADD4 = \"\";\n+      var SuppCITY = \"\";\n+      var SuppCOMPANY_GSTIN = \"\";\n+      var SuppPANNO = \"\";\n+      var SuppMO = \"\";\n+      var SuppPH1 = \"\";\n+      var SuppGROUPcode = \"\";\n+      var SuppGroupName = \"\";\n+      console.log(SuppArray, BLS[i].ccd)\n+      if (SuppArray.length > 0) {\n+        SuppName = getValueNotDefine(SuppArray[0].partyname);\n+        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n+        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n+        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n+        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n+        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n+        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        SuppMO = getValueNotDefine(SuppArray[0].MO);\n+        SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n+        SuppGROUPcode = getValueNotDefine(SuppArray[0].GCODE);\n+        suppGroupArr = getGroupDetailsBySendCode(SuppGROUPcode);\n+        if (suppGroupArr.length > 0) {\n+          SuppGroupName = suppGroupArr[0].partyname;\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      document.title = BLS[i].VNO;\n+\n+      var chqAmt = parseFloat(BLS[i].DRA) + parseFloat(BLS[i].CRA);\n+\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">VOUCHER  NO .`+ BLS[i].VNO + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n+      <td style=\"text-align:left;\"><p class=\"hideSupplierName\">  TO  : `+ SuppName + ` </p> </td>\n+      </tr>\n+      \n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n+      <td style=\"text-align:left;\"> <p class=\"hideSupplierName\">    `+ SuppADD1 + ` </p> </td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\"><p class=\"hideSupplierName\">  `+ SuppADD2 + ` ,` + SuppCITY + ` </p></td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"><p class=\"hideSupplierName\"> PH: `+ SuppMO + `,` + SuppPH1 + ` </p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;font-weight:bolder;\"colspan=\"2\"> <p class=\"hidesupplierGroupname\">SUPPLIER GROUP : `+ SuppGroupName + ` </p></td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n+      <td style=\"text-align:left;\">CHQ/DD. DATE :`+ formatDate(BLS[i].OD) + `</td>\n+      <td style=\"text-align:left;\">AMOUNT :`+ parseFloat(chqAmt).toFixed(2) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"3\">DRAWEE BANK: `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:15%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA);\n+          var AD = parseFloat(billDet[k].AD);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ parseFloat(BA).toFixed(2) + `</td>\n+              <td class=\"alignRight\">`+ parseFloat(AD).toFixed(2) + `</td>\n+              </tr>`;\n+\n+          totalBA += BA;\n+          totalAD += AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"2\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      <td  colspan=\"1\"style=\"text-align:RIGHT;\"><P class=\"hideCommAmt\">COMM. AMT `+ getValueNotDefine(BLS[i].CM) + `</p></td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"></td>\n+      </tr>\n+      <tr>\n+      <td colspan=\"3\"></td>\n+      </tr>\n+      <tr>\n+      <td colspan=\"3\"></td>\n+      </tr>\n+      <tr>\n+      <td colspan=\"3\"></td>\n+      </tr>\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637308817682,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -178,9 +178,9 @@\n       <td style=\"text-align:left;\"> </td>\n       </tr>\n       \n       <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n+      <td style=\"text-align:left;\"colspan=\"3\"><p class=\"hideMSG1\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</p></td>\n       </tr>\n       \n       <tr  class=\"upperCase\">\n       <td style=\"text-align:left;\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n@@ -331,7300 +331,4 @@\n   } catch (error) {\n     noteError(error);\n   }\n }\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      MainFirmName = firmArray[0].FIRM;\n-      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n-      var SuppName = \"\";\n-      var SuppADD1 = \"\";\n-      var SuppADD2 = \"\";\n-      var SuppADD3 = \"\";\n-      var SuppADD4 = \"\";\n-      var SuppCITY = \"\";\n-      var SuppCOMPANY_GSTIN = \"\";\n-      var SuppPANNO = \"\";\n-      var SuppMO = \"\";\n-      var SuppPH1 = \"\";\n-      var SuppGROUPcode = \"\";\n-      var SuppGroupName = \"\";\n-      console.log(SuppArray, BLS[i].ccd)\n-      if (SuppArray.length > 0) {\n-        SuppName = getValueNotDefine(SuppArray[0].partyname);\n-        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n-        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n-        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n-        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n-        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n-        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        SuppMO = getValueNotDefine(SuppArray[0].MO);\n-        SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n-        SuppGROUPcode = getValueNotDefine(SuppArray[0].GCODE);\n-        suppGroupArr = getGroupDetailsBySendCode(SuppGROUPcode);\n-        if (suppGroupArr.length > 0) {\n-          SuppGroupName = suppGroupArr[0].partyname;\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      document.title = BLS[i].VNO;\n-\n-      var chqAmt = parseFloat(BLS[i].DRA) + parseFloat(BLS[i].CRA);\n-\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">VOUCHER  NO .`+ BLS[i].VNO + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n-      <td style=\"text-align:left;\"><p class=\"hideSupplierName\">  TO  : `+ SuppName + ` </p> </td>\n-      </tr>\n-      \n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n-      <td style=\"text-align:left;\"> <p class=\"hideSupplierName\">    `+ SuppADD1 + ` </p> </td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\"><p class=\"hideSupplierName\">  `+ SuppADD2 + ` ,` + SuppCITY + ` </p></td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"><p class=\"hideSupplierName\"> PH: `+ SuppMO + `,` + SuppPH1 + ` </p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;font-weight:bolder;\"colspan=\"2\"> <p class=\"hidesupplierGroupname\">SUPPLIER GROUP : `+ SuppGroupName + ` </p></td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n-      <td style=\"text-align:left;\">CHQ/DD. DATE :`+ formatDate(BLS[i].OD) + `</td>\n-      <td style=\"text-align:left;\">AMOUNT :`+ parseFloat(chqAmt).toFixed(2) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"3\">DRAWEE BANK: `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:15%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA);\n-          var AD = parseFloat(billDet[k].AD);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ parseFloat(BA).toFixed(2) + `</td>\n-              <td class=\"alignRight\">`+ parseFloat(AD).toFixed(2) + `</td>\n-              </tr>`;\n-\n-          totalBA += BA;\n-          totalAD += AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"2\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      <td  colspan=\"1\"style=\"text-align:RIGHT;\"><P class=\"hideCommAmt\">COMM. AMT `+ getValueNotDefine(BLS[i].CM) + `</p></td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"></td>\n-      </tr>\n-      <tr>\n-      <td colspan=\"3\"></td>\n-      </tr>\n-      <tr>\n-      <td colspan=\"3\"></td>\n-      </tr>\n-      <tr>\n-      <td colspan=\"3\"></td>\n-      </tr>\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      MainFirmName = firmArray[0].FIRM;\n-      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n-      var SuppName = \"\";\n-      var SuppADD1 = \"\";\n-      var SuppADD2 = \"\";\n-      var SuppADD3 = \"\";\n-      var SuppADD4 = \"\";\n-      var SuppCITY = \"\";\n-      var SuppCOMPANY_GSTIN = \"\";\n-      var SuppPANNO = \"\";\n-      var SuppMO = \"\";\n-      var SuppPH1 = \"\";\n-      var SuppGROUPcode = \"\";\n-      var SuppGroupName = \"\";\n-      console.log(SuppArray, BLS[i].ccd)\n-      if (SuppArray.length > 0) {\n-        SuppName = getValueNotDefine(SuppArray[0].partyname);\n-        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n-        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n-        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n-        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n-        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n-        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        SuppMO = getValueNotDefine(SuppArray[0].MO);\n-        SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n-        SuppGROUPcode = getValueNotDefine(SuppArray[0].GCODE);\n-        suppGroupArr = getGroupDetailsBySendCode(SuppGROUPcode);\n-        if (suppGroupArr.length > 0) {\n-          SuppGroupName = suppGroupArr[0].partyname;\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      document.title = BLS[i].VNO;\n-\n-      var chqAmt = parseFloat(BLS[i].DRA) + parseFloat(BLS[i].CRA);\n-\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">VOUCHER  NO .`+ BLS[i].VNO + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n-      <td style=\"text-align:left;\"><p class=\"hideSupplierName\">  TO  : `+ SuppName + ` </p> </td>\n-      </tr>\n-      \n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n-      <td style=\"text-align:left;\"> <p class=\"hideSupplierName\">    `+ SuppADD1 + ` </p> </td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\"><p class=\"hideSupplierName\">  `+ SuppADD2 + ` ,` + SuppCITY + ` </p></td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"><p class=\"hideSupplierName\"> PH: `+ SuppMO + `,` + SuppPH1 + ` </p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;font-weight:bolder;\"colspan=\"2\"> <p class=\"supplierGroupname\">SUPPLIER GROUP : `+ SuppGroupName + ` </p></td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n-      <td style=\"text-align:left;\">CHQ/DD. DATE :`+ formatDate(BLS[i].OD) + `</td>\n-      <td style=\"text-align:left;\">AMOUNT :`+ parseFloat(chqAmt).toFixed(2) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"3\">DRAWEE BANK: `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:15%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA);\n-          var AD = parseFloat(billDet[k].AD);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ parseFloat(BA).toFixed(2) + `</td>\n-              <td class=\"alignRight\">`+ parseFloat(AD).toFixed(2) + `</td>\n-              </tr>`;\n-\n-          totalBA += BA;\n-          totalAD += AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"2\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      <td  colspan=\"1\"style=\"text-align:RIGHT;\"><P class=\"hideCommAmt\">COMM. AMT `+ getValueNotDefine(BLS[i].CM) + `</p></td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"></td>\n-      </tr>\n-      <tr>\n-      <td colspan=\"3\"></td>\n-      </tr>\n-      <tr>\n-      <td colspan=\"3\"></td>\n-      </tr>\n-      <tr>\n-      <td colspan=\"3\"></td>\n-      </tr>\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      MainFirmName = firmArray[0].FIRM;\n-      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n-      var SuppName = \"\";\n-      var SuppADD1 = \"\";\n-      var SuppADD2 = \"\";\n-      var SuppADD3 = \"\";\n-      var SuppADD4 = \"\";\n-      var SuppCITY = \"\";\n-      var SuppCOMPANY_GSTIN = \"\";\n-      var SuppPANNO = \"\";\n-      var SuppMO = \"\";\n-      var SuppPH1 = \"\";\n-      var SuppGROUPcode = \"\";\n-      var SuppGroupName = \"\";\n-      console.log(SuppArray, BLS[i].ccd)\n-      if (SuppArray.length > 0) {\n-        SuppName = getValueNotDefine(SuppArray[0].partyname);\n-        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n-        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n-        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n-        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n-        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n-        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        SuppMO = getValueNotDefine(SuppArray[0].MO);\n-        SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n-        SuppGROUPcode = getValueNotDefine(SuppArray[0].GCODE);\n-        suppGroupArr = getGroupDetailsBySendCode(SuppGROUPcode);\n-        if (suppGroupArr.length > 0) {\n-          SuppGroupName = suppGroupArr[0].partyname;\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      document.title = BLS[i].VNO;\n-\n-      var chqAmt = parseFloat(BLS[i].DRA) + parseFloat(BLS[i].CRA);\n-\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">VOUCHER  NO .`+ BLS[i].VNO + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n-      <td style=\"text-align:left;\"><p class=\"hideSupplierName\">  TO  : `+ SuppName + ` </p> </td>\n-      </tr>\n-      \n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n-      <td style=\"text-align:left;\"> <p class=\"hideSupplierName\">    `+ SuppADD1 + ` </p> </td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\"><p class=\"hideSupplierName\">  `+ SuppADD2 + ` ,` + SuppCITY + ` </p></td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"><p class=\"hideSupplierName\"> PH: `+ SuppMO + `,` + SuppPH1 + ` </p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;font-weight:bolder;\"colspan=\"2\"> SUPPLIER GROUP : `+ SuppGroupName + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n-      <td style=\"text-align:left;\">CHQ/DD. DATE :`+ formatDate(BLS[i].OD) + `</td>\n-      <td style=\"text-align:left;\">AMOUNT :`+ parseFloat(chqAmt).toFixed(2) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"3\">DRAWEE BANK: `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:15%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA);\n-          var AD = parseFloat(billDet[k].AD);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ parseFloat(BA).toFixed(2) + `</td>\n-              <td class=\"alignRight\">`+ parseFloat(AD).toFixed(2) + `</td>\n-              </tr>`;\n-\n-          totalBA += BA;\n-          totalAD += AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"2\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      <td  colspan=\"1\"style=\"text-align:RIGHT;\"><P class=\"hideCommAmt\">COMM. AMT `+ getValueNotDefine(BLS[i].CM) + `</p></td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"></td>\n-      </tr>\n-      <tr>\n-      <td colspan=\"3\"></td>\n-      </tr>\n-      <tr>\n-      <td colspan=\"3\"></td>\n-      </tr>\n-      <tr>\n-      <td colspan=\"3\"></td>\n-      </tr>\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      MainFirmName = firmArray[0].FIRM;\n-      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n-      var SuppName = \"\";\n-      var SuppADD1 = \"\";\n-      var SuppADD2 = \"\";\n-      var SuppADD3 = \"\";\n-      var SuppADD4 = \"\";\n-      var SuppCITY = \"\";\n-      var SuppCOMPANY_GSTIN = \"\";\n-      var SuppPANNO = \"\";\n-      var SuppMO = \"\";\n-      var SuppPH1 = \"\";\n-      var SuppGROUPcode = \"\";\n-      var SuppGroupName = \"\";\n-      console.log(SuppArray, BLS[i].ccd)\n-      if (SuppArray.length > 0) {\n-        SuppName = getValueNotDefine(SuppArray[0].partyname);\n-        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n-        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n-        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n-        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n-        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n-        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        SuppMO = getValueNotDefine(SuppArray[0].MO);\n-        SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n-        SuppGROUPcode = getValueNotDefine(SuppArray[0].GCODE);\n-        suppGroupArr = getGroupDetailsBySendCode(SuppGROUPcode);\n-        if (suppGroupArr.length > 0) {\n-          SuppGroupName = suppGroupArr[0].partyname;\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      document.title = BLS[i].VNO;\n-\n-      var chqAmt = parseFloat(BLS[i].DRA) + parseFloat(BLS[i].CRA);\n-\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">VOUCHER  NO .`+ BLS[i].VNO + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n-      <td style=\"text-align:left;\"><p class=\"hideSupplierName\">  TO  : `+ SuppName + ` </p> </td>\n-      </tr>\n-      \n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n-      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\"> `+ SuppADD2 + ` ,` + SuppCITY + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\">PH: `+ SuppMO + `,` + SuppPH1 + `</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;font-weight:bolder;\"colspan=\"2\"> SUPPLIER GROUP : `+ SuppGroupName + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n-      <td style=\"text-align:left;\">CHQ/DD. DATE :`+ formatDate(BLS[i].OD) + `</td>\n-      <td style=\"text-align:left;\">AMOUNT :`+ parseFloat(chqAmt).toFixed(2) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"3\">DRAWEE BANK: `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:15%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA);\n-          var AD = parseFloat(billDet[k].AD);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ parseFloat(BA).toFixed(2) + `</td>\n-              <td class=\"alignRight\">`+ parseFloat(AD).toFixed(2) + `</td>\n-              </tr>`;\n-\n-          totalBA += BA;\n-          totalAD += AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"2\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      <td  colspan=\"1\"style=\"text-align:RIGHT;\"><P class=\"hideCommAmt\">COMM. AMT `+ getValueNotDefine(BLS[i].CM) + `</p></td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"></td>\n-      </tr>\n-      <tr>\n-      <td colspan=\"3\"></td>\n-      </tr>\n-      <tr>\n-      <td colspan=\"3\"></td>\n-      </tr>\n-      <tr>\n-      <td colspan=\"3\"></td>\n-      </tr>\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      MainFirmName = firmArray[0].FIRM;\n-      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n-      var SuppName = \"\";\n-      var SuppADD1 = \"\";\n-      var SuppADD2 = \"\";\n-      var SuppADD3 = \"\";\n-      var SuppADD4 = \"\";\n-      var SuppCITY = \"\";\n-      var SuppCOMPANY_GSTIN = \"\";\n-      var SuppPANNO = \"\";\n-      var SuppMO = \"\";\n-      var SuppPH1 = \"\";\n-      var SuppGROUPcode = \"\";\n-      var SuppGroupName = \"\";\n-      console.log(SuppArray, BLS[i].ccd)\n-      if (SuppArray.length > 0) {\n-        SuppName = getValueNotDefine(SuppArray[0].partyname);\n-        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n-        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n-        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n-        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n-        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n-        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        SuppMO = getValueNotDefine(SuppArray[0].MO);\n-        SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n-        SuppGROUPcode = getValueNotDefine(SuppArray[0].GCODE);\n-        suppGroupArr = getGroupDetailsBySendCode(SuppGROUPcode);\n-        if (suppGroupArr.length > 0) {\n-          SuppGroupName = suppGroupArr[0].partyname;\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      document.title = BLS[i].VNO;\n-\n-      var chqAmt = parseFloat(BLS[i].DRA) + parseFloat(BLS[i].CRA);\n-\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">VOUCHER  NO .`+ BLS[i].VNO + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n-      <td style=\"text-align:left;\"><p class=\"hideSupplierName\">  TO  : `+ SuppName + ` </p> </td>\n-      </tr>\n-      \n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n-      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\"> `+ SuppADD2 + ` ,` + SuppCITY + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\">PH: `+ SuppMO + `,` + SuppPH1 + `</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;font-weight:bolder;\"colspan=\"2\"> SUPPLIER GROUP : `+ SuppGroupName + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n-      <td style=\"text-align:left;\">CHQ/DD. DATE :`+ formatDate(BLS[i].OD) + `</td>\n-      <td style=\"text-align:left;\">AMOUNT :`+ parseFloat(chqAmt).toFixed(2) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"3\">DRAWEE BANK: `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:15%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA);\n-          var AD = parseFloat(billDet[k].AD);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ parseFloat(BA).toFixed(2) + `</td>\n-              <td class=\"alignRight\">`+ parseFloat(AD).toFixed(2) + `</td>\n-              </tr>`;\n-\n-          totalBA += BA;\n-          totalAD += AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"2\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      <td  colspan=\"1\"style=\"text-align:RIGHT;\"><P class=\"hideCommAmt\">COMM. AMT `+ getValueNotDefine(BLS[i].CM) + `</p></td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"></td>\n-      </tr>\n-      <tr>\n-      <td colspan=\"3\"></td>\n-      </tr>\n-      <tr>\n-      <td colspan=\"3\"></td>\n-      </tr>\n-      <tr>\n-      <td colspan=\"3\"></td>\n-      </tr>\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      MainFirmName = firmArray[0].FIRM;\n-      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n-      var SuppName = \"\";\n-      var SuppADD1 = \"\";\n-      var SuppADD2 = \"\";\n-      var SuppADD3 = \"\";\n-      var SuppADD4 = \"\";\n-      var SuppCITY = \"\";\n-      var SuppCOMPANY_GSTIN = \"\";\n-      var SuppPANNO = \"\";\n-      var SuppMO = \"\";\n-      var SuppPH1 = \"\";\n-      var SuppGROUPcode = \"\";\n-      var SuppGroupName = \"\";\n-      console.log(SuppArray, BLS[i].ccd)\n-      if (SuppArray.length > 0) {\n-        SuppName = getValueNotDefine(SuppArray[0].partyname);\n-        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n-        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n-        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n-        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n-        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n-        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        SuppMO = getValueNotDefine(SuppArray[0].MO);\n-        SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n-        SuppGROUPcode = getValueNotDefine(SuppArray[0].GCODE);\n-        suppGroupArr = getGroupDetailsBySendCode(SuppGROUPcode);\n-        if (suppGroupArr.length > 0) {\n-          SuppGroupName = suppGroupArr[0].partyname;\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      document.title = BLS[i].VNO;\n-\n-      var chqAmt = parseFloat(BLS[i].DRA) + parseFloat(BLS[i].CRA);\n-\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">VOUCHER  NO .`+ BLS[i].VNO + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n-      </tr>\n-      \n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n-      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\"> `+ SuppADD2 + ` ,` + SuppCITY + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\">PH: `+ SuppMO + `,` + SuppPH1 + `</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;font-weight:bolder;\"colspan=\"2\"> SUPPLIER GROUP : `+ SuppGroupName + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n-      <td style=\"text-align:left;\">CHQ/DD. DATE :`+ formatDate(BLS[i].OD) + `</td>\n-      <td style=\"text-align:left;\">AMOUNT :`+ parseFloat(chqAmt).toFixed(2) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"3\">DRAWEE BANK: `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:15%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA);\n-          var AD = parseFloat(billDet[k].AD);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ parseFloat(BA).toFixed(2) + `</td>\n-              <td class=\"alignRight\">`+ parseFloat(AD).toFixed(2) + `</td>\n-              </tr>`;\n-\n-          totalBA += BA;\n-          totalAD += AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"2\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      <td  colspan=\"1\"style=\"text-align:RIGHT;\"><P class=\"hideCommAmt\">COMM. AMT `+ getValueNotDefine(BLS[i].CM) + `</p></td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"></td>\n-      </tr>\n-      <tr>\n-      <td colspan=\"3\"></td>\n-      </tr>\n-      <tr>\n-      <td colspan=\"3\"></td>\n-      </tr>\n-      <tr>\n-      <td colspan=\"3\"></td>\n-      </tr>\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      MainFirmName = firmArray[0].FIRM;\n-      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n-      var SuppName = \"\";\n-      var SuppADD1 = \"\";\n-      var SuppADD2 = \"\";\n-      var SuppADD3 = \"\";\n-      var SuppADD4 = \"\";\n-      var SuppCITY = \"\";\n-      var SuppCOMPANY_GSTIN = \"\";\n-      var SuppPANNO = \"\";\n-      var SuppMO = \"\";\n-      var SuppPH1 = \"\";\n-      var SuppGROUPcode = \"\";\n-      var SuppGroupName = \"\";\n-      console.log(SuppArray, BLS[i].ccd)\n-      if (SuppArray.length > 0) {\n-        SuppName = getValueNotDefine(SuppArray[0].partyname);\n-        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n-        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n-        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n-        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n-        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n-        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        SuppMO = getValueNotDefine(SuppArray[0].MO);\n-        SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n-        SuppGROUPcode = getValueNotDefine(SuppArray[0].GCODE);\n-        suppGroupArr = getGroupDetailsBySendCode(SuppGROUPcode);\n-        if (suppGroupArr.length > 0) {\n-          SuppGroupName = suppGroupArr[0].partyname;\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      document.title = BLS[i].VNO;\n-\n-      var chqAmt = parseFloat(BLS[i].DRA) + parseFloat(BLS[i].CRA);\n-\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n-      </tr>\n-      \n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n-      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\"> `+ SuppADD2 + ` ,` + SuppCITY + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\">PH: `+ SuppMO + `,` + SuppPH1 + `</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;font-weight:bolder;\"colspan=\"2\"> SUPPLIER GROUP : `+ SuppGroupName + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n-      <td style=\"text-align:left;\">CHQ/DD. DATE :`+ formatDate(BLS[i].OD) + `</td>\n-      <td style=\"text-align:left;\">AMOUNT :`+ parseFloat(chqAmt).toFixed(2) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"3\">DRAWEE BANK: `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:15%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA);\n-          var AD = parseFloat(billDet[k].AD);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ parseFloat(BA).toFixed(2) + `</td>\n-              <td class=\"alignRight\">`+ parseFloat(AD).toFixed(2) + `</td>\n-              </tr>`;\n-\n-          totalBA += BA;\n-          totalAD += AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"2\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      <td  colspan=\"1\"style=\"text-align:RIGHT;\"><P class=\"hideCommAmt\">COMM. AMT `+ getValueNotDefine(BLS[i].CM) + `</p></td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"></td>\n-      </tr>\n-      <tr>\n-      <td colspan=\"3\"></td>\n-      </tr>\n-      <tr>\n-      <td colspan=\"3\"></td>\n-      </tr>\n-      <tr>\n-      <td colspan=\"3\"></td>\n-      </tr>\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      MainFirmName = firmArray[0].FIRM;\n-      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n-      var SuppName = \"\";\n-      var SuppADD1 = \"\";\n-      var SuppADD2 = \"\";\n-      var SuppADD3 = \"\";\n-      var SuppADD4 = \"\";\n-      var SuppCITY = \"\";\n-      var SuppCOMPANY_GSTIN = \"\";\n-      var SuppPANNO = \"\";\n-      var SuppMO = \"\";\n-      var SuppPH1 = \"\";\n-      var SuppGROUPcode = \"\";\n-      var SuppGroupName = \"\";\n-      console.log(SuppArray, BLS[i].ccd)\n-      if (SuppArray.length > 0) {\n-        SuppName = getValueNotDefine(SuppArray[0].partyname);\n-        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n-        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n-        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n-        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n-        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n-        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        SuppMO = getValueNotDefine(SuppArray[0].MO);\n-        SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n-        SuppGROUPcode = getValueNotDefine(SuppArray[0].GCODE);\n-        suppGroupArr = getGroupDetailsBySendCode(SuppGROUPcode);\n-        if (suppGroupArr.length > 0) {\n-          SuppGroupName = suppGroupArr[0].partyname;\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      document.title = BLS[i].VNO;\n-\n-      var chqAmt = parseFloat(BLS[i].DRA) + parseFloat(BLS[i].CRA);\n-\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n-      </tr>\n-      \n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n-      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\"> `+ SuppADD2 + ` ,` + SuppCITY + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\">PH: `+ SuppMO + `,` + SuppPH1 + `</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;font-weight:bolder;\"colspan=\"2\"> SUPPLIER GROUP : `+ SuppGroupName + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n-      <td style=\"text-align:left;\">CHQ/DD. DATE :`+ formatDate(BLS[i].OD) + `</td>\n-      <td style=\"text-align:left;\">AMOUNT :`+ parseFloat(chqAmt).toFixed(2) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"3\">DRAWEE BANK: `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:15%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA);\n-          var AD = parseFloat(billDet[k].AD);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ parseFloat(BA).toFixed(2) + `</td>\n-              <td class=\"alignRight\">`+ parseFloat(AD).toFixed(2) + `</td>\n-              </tr>`;\n-\n-          totalBA += BA;\n-          totalAD += AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"2\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      <td  colspan=\"1\"style=\"text-align:RIGHT;\">COMM. AMT `+ getValueNotDefine(BLS[i].CM) + `</td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"></td>\n-      </tr>\n-      <tr>\n-      <td colspan=\"3\"></td>\n-      </tr>\n-      <tr>\n-      <td colspan=\"3\"></td>\n-      </tr>\n-      <tr>\n-      <td colspan=\"3\"></td>\n-      </tr>\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      MainFirmName = firmArray[0].FIRM;\n-      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n-      var SuppName = \"\";\n-      var SuppADD1 = \"\";\n-      var SuppADD2 = \"\";\n-      var SuppADD3 = \"\";\n-      var SuppADD4 = \"\";\n-      var SuppCITY = \"\";\n-      var SuppCOMPANY_GSTIN = \"\";\n-      var SuppPANNO = \"\";\n-      var SuppMO = \"\";\n-      var SuppPH1 = \"\";\n-      var SuppGROUPcode = \"\";\n-      var SuppGroupName = \"\";\n-      console.log(SuppArray, BLS[i].ccd)\n-      if (SuppArray.length > 0) {\n-        SuppName = getValueNotDefine(SuppArray[0].partyname);\n-        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n-        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n-        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n-        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n-        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n-        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        SuppMO = getValueNotDefine(SuppArray[0].MO);\n-        SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n-        SuppGROUPcode = getValueNotDefine(SuppArray[0].GCODE);\n-        suppGroupArr = getGroupDetailsBySendCode(SuppGROUPcode);\n-        if (suppGroupArr.length > 0) {\n-          SuppGroupName = suppGroupArr[0].partyname;\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      document.title = BLS[i].VNO;\n-\n-      var chqAmt = parseFloat(BLS[i].DRA) + parseFloat(BLS[i].CRA);\n-\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n-      </tr>\n-      \n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n-      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\"> `+ SuppADD2 + ` ,` + SuppCITY + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\">PH: `+ SuppMO + `,` + SuppPH1 + `</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;font-weight:bolder;\"colspan=\"2\"> SUPPLIER GROUP : `+ SuppGroupName + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n-      <td style=\"text-align:left;\">CHQ/DD. DATE :`+ formatDate(BLS[i].OD) + `</td>\n-      <td style=\"text-align:left;\">AMOUNT :`+ parseFloat(chqAmt).toFixed(2) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"3\">DRAWEE BANK: `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:15%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA);\n-          var AD = parseFloat(billDet[k].AD);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ parseFloat(BA).toFixed(2) + `</td>\n-              <td class=\"alignRight\">`+ parseFloat(AD).toFixed(2) + `</td>\n-              </tr>`;\n-\n-          totalBA += BA;\n-          totalAD += AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"2\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      <td  colspan=\"1\"style=\"text-align:RIGHT;\">COMM. AMT `+ getValueNotDefine(BLS[i].CM) + `</td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"></td>\n-      </tr>\n-      <tr>\n-      <td colspan=\"3\"></td>\n-      </tr>\n-      <tr>\n-      <td colspan=\"3\"></td>\n-      </tr>\n-      <tr>\n-      <td colspan=\"3\"></td>\n-      </tr>\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      MainFirmName = firmArray[0].FIRM;\n-      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n-      var SuppName = \"\";\n-      var SuppADD1 = \"\";\n-      var SuppADD2 = \"\";\n-      var SuppADD3 = \"\";\n-      var SuppADD4 = \"\";\n-      var SuppCITY = \"\";\n-      var SuppCOMPANY_GSTIN = \"\";\n-      var SuppPANNO = \"\";\n-      var SuppMO = \"\";\n-      var SuppPH1 = \"\";\n-      var SuppGROUPcode = \"\";\n-      var SuppGroupName = \"\";\n-      console.log(SuppArray, BLS[i].ccd)\n-      if (SuppArray.length > 0) {\n-        SuppName = getValueNotDefine(SuppArray[0].partyname);\n-        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n-        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n-        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n-        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n-        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n-        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        SuppMO = getValueNotDefine(SuppArray[0].MO);\n-        SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n-        SuppGROUPcode = getValueNotDefine(SuppArray[0].GCODE);\n-        suppGroupArr = getGroupDetailsBySendCode(SuppGROUPcode);\n-        if (suppGroupArr.length > 0) {\n-          SuppGroupName = suppGroupArr[0].partyname;\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      document.title = BLS[i].VNO;\n-\n-      var chqAmt = parseFloat(BLS[i].DRA) + parseFloat(BLS[i].CRA);\n-\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n-      </tr>\n-      \n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n-      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\"> `+ SuppADD2 + ` ,` + SuppCITY + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\">PH: `+ SuppMO + `,` + SuppPH1 + `</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;font-weight:bolder;\"colspan=\"2\"> SUPPLIER GROUP : `+ SuppGroupName + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n-      <td style=\"text-align:left;\">CHQ/DD. DATE :`+ formatDate(BLS[i].OD) + `</td>\n-      <td style=\"text-align:left;\">AMOUNT :`+ parseFloat(chqAmt).toFixed(2) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"3\">DRAWEE BANK: `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:20%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA);\n-          var AD = parseFloat(billDet[k].AD);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ parseFloat(BA).toFixed(2) + `</td>\n-              <td class=\"alignRight\">`+ parseFloat(AD).toFixed(2) + `</td>\n-              </tr>`;\n-\n-          totalBA += BA;\n-          totalAD += AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"2\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      <td  colspan=\"1\"style=\"text-align:RIGHT;\">COMM. AMT `+ getValueNotDefine(BLS[i].CM) + `</td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"></td>\n-      </tr>\n-      <tr>\n-      <td colspan=\"3\"></td>\n-      </tr>\n-      <tr>\n-      <td colspan=\"3\"></td>\n-      </tr>\n-      <tr>\n-      <td colspan=\"3\"></td>\n-      </tr>\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      MainFirmName = firmArray[0].FIRM;\n-      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n-      var SuppName = \"\";\n-      var SuppADD1 = \"\";\n-      var SuppADD2 = \"\";\n-      var SuppADD3 = \"\";\n-      var SuppADD4 = \"\";\n-      var SuppCITY = \"\";\n-      var SuppCOMPANY_GSTIN = \"\";\n-      var SuppPANNO = \"\";\n-      var SuppMO = \"\";\n-      var SuppPH1 = \"\";\n-      var SuppGROUPcode = \"\";\n-      var SuppGroupName = \"\";\n-      console.log(SuppArray, BLS[i].ccd)\n-      if (SuppArray.length > 0) {\n-        SuppName = getValueNotDefine(SuppArray[0].partyname);\n-        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n-        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n-        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n-        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n-        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n-        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        SuppMO = getValueNotDefine(SuppArray[0].MO);\n-        SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n-        SuppGROUPcode = getValueNotDefine(SuppArray[0].GCODE);\n-        suppGroupArr = getGroupDetailsBySendCode(SuppGROUPcode);\n-        if (suppGroupArr.length > 0) {\n-          SuppGroupName = suppGroupArr[0].partyname;\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      document.title = BLS[i].VNO;\n-\n-      var chqAmt = parseFloat(BLS[i].DRA) + parseFloat(BLS[i].CRA);\n-\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n-      </tr>\n-      \n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n-      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\"> `+ SuppADD2 + ` ,` + SuppCITY + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\">PH: `+ SuppMO + `,` + SuppPH1 + `</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;font-weight:bolder;\"colspan=\"2\"> SUPPLIER GROUP : `+ SuppGroupName + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n-      <td style=\"text-align:left;\">CHQ/DD. DATE :`+ formatDate(BLS[i].OD) + `</td>\n-      <td style=\"text-align:left;\">AMOUNT :`+ parseFloat(chqAmt).toFixed(2) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"3\">DRAWEE BANK: `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:20%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA);\n-          var AD = parseFloat(billDet[k].AD);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ parseFloat(BA).toFixed(2) + `</td>\n-              <td class=\"alignRight\">`+ parseFloat(AD).toFixed(2) + `</td>\n-              </tr>`;\n-\n-          totalBA += BA;\n-          totalAD += AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"2\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      <td  colspan=\"1\"style=\"text-align:RIGHT;\">COMM. AMT `+ getValueNotDefine(BLS[i].CM) + `</td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"></td>\n-      </tr>\n-      <tr>\n-      <td colspan=\"3\"></td>\n-      </tr>\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      MainFirmName = firmArray[0].FIRM;\n-      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n-      var SuppName = \"\";\n-      var SuppADD1 = \"\";\n-      var SuppADD2 = \"\";\n-      var SuppADD3 = \"\";\n-      var SuppADD4 = \"\";\n-      var SuppCITY = \"\";\n-      var SuppCOMPANY_GSTIN = \"\";\n-      var SuppPANNO = \"\";\n-      var SuppMO = \"\";\n-      var SuppPH1 = \"\";\n-      var SuppGROUPcode = \"\";\n-      var SuppGroupName = \"\";\n-      console.log(SuppArray, BLS[i].ccd)\n-      if (SuppArray.length > 0) {\n-        SuppName = getValueNotDefine(SuppArray[0].partyname);\n-        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n-        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n-        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n-        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n-        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n-        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        SuppMO = getValueNotDefine(SuppArray[0].MO);\n-        SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n-        SuppGROUPcode = getValueNotDefine(SuppArray[0].GCODE);\n-        suppGroupArr = getGroupDetailsBySendCode(SuppGROUPcode);\n-        if (suppGroupArr.length > 0) {\n-          SuppGroupName = suppGroupArr[0].partyname;\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      document.title = BLS[i].VNO;\n-\n-      var chqAmt = parseFloat(BLS[i].DRA) + parseFloat(BLS[i].CRA);\n-\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n-      </tr>\n-      \n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n-      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\"> `+ SuppADD2 + ` ,` + SuppCITY + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\">PH: `+ SuppMO + `,` + SuppPH1 + `</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;font-weight:bolder;\"colspan=\"2\"> SUPPLIER GROUP : `+ SuppGroupName + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n-      <td style=\"text-align:left;\">CHQ/DD. DATE :`+ formatDate(BLS[i].OD) + `</td>\n-      <td style=\"text-align:left;\">AMOUNT :`+ parseFloat(chqAmt).toFixed(2) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"3\">DRAWEE BANK: `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:20%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA);\n-          var AD = parseFloat(billDet[k].AD);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ parseFloat(BA).toFixed(2) + `</td>\n-              <td class=\"alignRight\">`+ parseFloat(AD).toFixed(2) + `</td>\n-              </tr>`;\n-\n-          totalBA += BA;\n-          totalAD += AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"2\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      <td  colspan=\"1\"style=\"text-align:RIGHT;\">COMM. AMT `+ getValueNotDefine(BLS[i].CM) + `</td>\n-      </tr>\n-      \n-\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      MainFirmName = firmArray[0].FIRM;\n-      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n-      var SuppName = \"\";\n-      var SuppADD1 = \"\";\n-      var SuppADD2 = \"\";\n-      var SuppADD3 = \"\";\n-      var SuppADD4 = \"\";\n-      var SuppCITY = \"\";\n-      var SuppCOMPANY_GSTIN = \"\";\n-      var SuppPANNO = \"\";\n-      var SuppMO = \"\";\n-      var SuppPH1 = \"\";\n-      var SuppGROUPcode = \"\";\n-      var SuppGroupName = \"\";\n-      console.log(SuppArray, BLS[i].ccd)\n-      if (SuppArray.length > 0) {\n-        SuppName = getValueNotDefine(SuppArray[0].partyname);\n-        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n-        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n-        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n-        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n-        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n-        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        SuppMO = getValueNotDefine(SuppArray[0].MO);\n-        SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n-        SuppGROUPcode = getValueNotDefine(SuppArray[0].GCODE);\n-        suppGroupArr = getGroupDetailsBySendCode(SuppGROUPcode);\n-        if (suppGroupArr.length > 0) {\n-          SuppGroupName = suppGroupArr[0].partyname;\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      document.title = BLS[i].VNO;\n-\n-      var chqAmt = parseFloat(BLS[i].DRA) + parseFloat(BLS[i].CRA);\n-\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n-      </tr>\n-      \n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n-      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\"> `+ SuppADD2 + ` ,` + SuppCITY + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\">PH: `+ SuppMO + `,` + SuppPH1 + `</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;font-weight:bolder;\"colspan=\"2\"> SUPPLIER GROUP : `+ SuppGroupName + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n-      <td style=\"text-align:left;\">CHQ/DD. DATE :`+ formatDate(BLS[i].OD) + `</td>\n-      <td style=\"text-align:left;\">AMOUNT :`+ parseFloat(chqAmt).toFixed(2) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"3\">DRAWEE BANK: `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:20%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA);\n-          var AD = parseFloat(billDet[k].AD);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ parseFloat(BA).toFixed(2) + `</td>\n-              <td class=\"alignRight\">`+ parseFloat(AD).toFixed(2) + `</td>\n-              </tr>`;\n-\n-          totalBA += BA;\n-          totalAD += AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"2\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      <td  colspan=\"1\"style=\"text-align:RIGHT;\">COMM. AMT `+ getValueNotDefineNo(BLS[i].CM) + `</td>\n-      </tr>\n-      \n-\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      MainFirmName = firmArray[0].FIRM;\n-      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n-      var SuppName = \"\";\n-      var SuppADD1 = \"\";\n-      var SuppADD2 = \"\";\n-      var SuppADD3 = \"\";\n-      var SuppADD4 = \"\";\n-      var SuppCITY = \"\";\n-      var SuppCOMPANY_GSTIN = \"\";\n-      var SuppPANNO = \"\";\n-      var SuppMO = \"\";\n-      var SuppPH1 = \"\";\n-      var SuppGROUPcode = \"\";\n-      var SuppGroupName = \"\";\n-      console.log(SuppArray, BLS[i].ccd)\n-      if (SuppArray.length > 0) {\n-        SuppName = getValueNotDefine(SuppArray[0].partyname);\n-        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n-        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n-        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n-        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n-        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n-        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        SuppMO = getValueNotDefine(SuppArray[0].MO);\n-        SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n-        SuppGROUPcode = getValueNotDefine(SuppArray[0].GCODE);\n-        suppGroupArr = getGroupDetailsBySendCode(SuppGROUPcode);\n-        if (suppGroupArr.length > 0) {\n-          SuppGroupName = suppGroupArr[0].partyname;\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      document.title = BLS[i].VNO;\n-\n-      var chqAmt = parseFloat(BLS[i].DRA) + parseFloat(BLS[i].CRA);\n-\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n-      </tr>\n-      \n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n-      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\"> `+ SuppADD2 + ` ,` + SuppCITY + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\">PH: `+ SuppMO + `,` + SuppPH1 + `</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;font-weight:bolder;\"colspan=\"2\"> SUPPLIER GROUP : `+ SuppGroupName + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n-      <td style=\"text-align:left;\">CHQ/DD. DATE :`+ formatDate(BLS[i].OD) + `</td>\n-      <td style=\"text-align:left;\">AMOUNT :`+ parseFloat(chqAmt).toFixed(2) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"3\">DRAWEE BANK: `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:20%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA);\n-          var AD = parseFloat(billDet[k].AD);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ parseFloat(BA).toFixed(2) + `</td>\n-              <td class=\"alignRight\">`+ parseFloat(AD).toFixed(2) + `</td>\n-              </tr>`;\n-\n-          totalBA += BA;\n-          totalAD += AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"2\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      <td  colspan=\"1\"style=\"text-align:RIGHT;\">COMM. AMT `+ getValueNotDefine(BLS[i].CM) + `</td>\n-      </tr>\n-      \n-\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      MainFirmName = firmArray[0].FIRM;\n-      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n-      var SuppName = \"\";\n-      var SuppADD1 = \"\";\n-      var SuppADD2 = \"\";\n-      var SuppADD3 = \"\";\n-      var SuppADD4 = \"\";\n-      var SuppCITY = \"\";\n-      var SuppCOMPANY_GSTIN = \"\";\n-      var SuppPANNO = \"\";\n-      var SuppMO = \"\";\n-      var SuppPH1 = \"\";\n-      var SuppGROUPcode = \"\";\n-      var SuppGroupName = \"\";\n-      console.log(SuppArray, BLS[i].ccd)\n-      if (SuppArray.length > 0) {\n-        SuppName = getValueNotDefine(SuppArray[0].partyname);\n-        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n-        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n-        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n-        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n-        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n-        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        SuppMO = getValueNotDefine(SuppArray[0].MO);\n-        SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n-        SuppGROUPcode = getValueNotDefine(SuppArray[0].GCODE);\n-        suppGroupArr = getGroupDetailsBySendCode(SuppGROUPcode);\n-        if (suppGroupArr.length > 0) {\n-          SuppGroupName = suppGroupArr[0].partyname;\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      document.title = BLS[i].VNO;\n-\n-      var chqAmt = parseFloat(BLS[i].DRA) + parseFloat(BLS[i].CRA);\n-\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n-      </tr>\n-      \n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n-      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\"> `+ SuppADD2 + ` ,` + SuppCITY + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\">PH: `+ SuppMO + `,` + SuppPH1 + `</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;font-weight:bolder;\"colspan=\"2\"> SUPPLIER GROUP : `+ SuppGroupName + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n-      <td style=\"text-align:left;\">CHQ/DD. DATE :`+ formatDate(BLS[i].OD) + `</td>\n-      <td style=\"text-align:left;\">AMOUNT :`+ parseFloat(chqAmt).toFixed(2) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"3\">DRAWEE BANK: `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:20%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA);\n-          var AD = parseFloat(billDet[k].AD);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ parseFloat(BA).toFixed(2) + `</td>\n-              <td class=\"alignRight\">`+ parseFloat(AD).toFixed(2) + `</td>\n-              </tr>`;\n-\n-          totalBA += BA;\n-          totalAD += AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      <td  colspan=\"3\"style=\"text-align:left;\">COMM. AMT `+ getValueNotDefine(BLS[i].CM) + `</td>\n-      </tr>\n-      \n-\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      MainFirmName = firmArray[0].FIRM;\n-      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n-      var SuppName = \"\";\n-      var SuppADD1 = \"\";\n-      var SuppADD2 = \"\";\n-      var SuppADD3 = \"\";\n-      var SuppADD4 = \"\";\n-      var SuppCITY = \"\";\n-      var SuppCOMPANY_GSTIN = \"\";\n-      var SuppPANNO = \"\";\n-      var SuppMO = \"\";\n-      var SuppPH1 = \"\";\n-      var SuppGROUPcode = \"\";\n-      var SuppGroupName = \"\";\n-      console.log(SuppArray, BLS[i].ccd)\n-      if (SuppArray.length > 0) {\n-        SuppName = getValueNotDefine(SuppArray[0].partyname);\n-        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n-        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n-        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n-        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n-        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n-        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        SuppMO = getValueNotDefine(SuppArray[0].MO);\n-        SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n-        SuppGROUPcode = getValueNotDefine(SuppArray[0].GCODE);\n-        suppGroupArr = getGroupDetailsBySendCode(SuppGROUPcode);\n-        if (suppGroupArr.length > 0) {\n-          SuppGroupName = suppGroupArr[0].partyname;\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      document.title = BLS[i].VNO;\n-\n-      var chqAmt = parseFloat(BLS[i].DRA) + parseFloat(BLS[i].CRA);\n-\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n-      </tr>\n-      \n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n-      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\"> `+ SuppADD2 + ` ,` + SuppCITY + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\">PH: `+ SuppMO + `,` + SuppPH1 + `</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;font-weight:bolder;\"colspan=\"2\"> SUPPLIER GROUP : `+ SuppGroupName + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n-      <td style=\"text-align:left;\">CHQ/DD. DATE :`+ formatDate(BLS[i].OD) + `</td>\n-      <td style=\"text-align:left;\">AMOUNT :`+ parseFloat(chqAmt).toFixed(2) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"3\">DRAWEE BANK: `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:20%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA);\n-          var AD = parseFloat(billDet[k].AD);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ parseFloat(BA).toFixed(2) + `</td>\n-              <td class=\"alignRight\">`+ parseFloat(AD).toFixed(2) + `</td>\n-              </tr>`;\n-\n-          totalBA += BA;\n-          totalAD += AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      </tr>\n-      \n-\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      MainFirmName = firmArray[0].FIRM;\n-      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n-      var SuppName = \"\";\n-      var SuppADD1 = \"\";\n-      var SuppADD2 = \"\";\n-      var SuppADD3 = \"\";\n-      var SuppADD4 = \"\";\n-      var SuppCITY = \"\";\n-      var SuppCOMPANY_GSTIN = \"\";\n-      var SuppPANNO = \"\";\n-      var SuppMO = \"\";\n-      var SuppPH1 = \"\";\n-      var SuppGROUPcode = \"\";\n-      var SuppGroupName = \"\";\n-      console.log(SuppArray, BLS[i].ccd)\n-      if (SuppArray.length > 0) {\n-        SuppName = getValueNotDefine(SuppArray[0].partyname);\n-        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n-        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n-        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n-        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n-        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n-        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        SuppMO = getValueNotDefine(SuppArray[0].MO);\n-        SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n-        SuppGROUPcode = getValueNotDefine(SuppArray[0].GCODE);\n-        suppGroupArr = getGroupDetailsBySendCode(SuppGROUPcode);\n-        if (suppGroupArr.length > 0) {\n-          SuppGroupName = suppGroupArr[0].partyname;\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      document.title = BLS[i].VNO;\n-\n-      var chqAmt = parseFloat(BLS[i].DRA) + parseFloat(BLS[i].CRA);\n-\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n-      </tr>\n-      \n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n-      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\"> `+ SuppADD2 + ` ,` + SuppCITY + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\">PH: `+ SuppMO + `,` + SuppPH1 + `</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;font-weight:bolder;\"colspan=\"2\"> SUPPLIER GROUP : `+ SuppGroupName + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n-      <td style=\"text-align:left;\">CHQ/DD. DATE :`+ formatDate(BLS[i].OD) + `</td>\n-      <td style=\"text-align:left;\">AMOUNT :`+ parseFloat(chqAmt).toFixed(2) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"3\">DRAWEE BANK: `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:20%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA);\n-          var AD = parseFloat(billDet[k].AD);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA += BA;\n-          totalAD += AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      </tr>\n-      \n-\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      MainFirmName = firmArray[0].FIRM;\n-      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n-      var SuppName = \"\";\n-      var SuppADD1 = \"\";\n-      var SuppADD2 = \"\";\n-      var SuppADD3 = \"\";\n-      var SuppADD4 = \"\";\n-      var SuppCITY = \"\";\n-      var SuppCOMPANY_GSTIN = \"\";\n-      var SuppPANNO = \"\";\n-      var SuppMO = \"\";\n-      var SuppPH1 = \"\";\n-      var SuppGROUPcode = \"\";\n-      var SuppGroupName = \"\";\n-      console.log(SuppArray, BLS[i].ccd)\n-      if (SuppArray.length > 0) {\n-        SuppName = getValueNotDefine(SuppArray[0].partyname);\n-        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n-        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n-        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n-        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n-        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n-        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        SuppMO = getValueNotDefine(SuppArray[0].MO);\n-        SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n-        SuppGROUPcode = getValueNotDefine(SuppArray[0].GCODE);\n-        suppGroupArr = getGroupDetailsBySendCode(SuppGROUPcode);\n-        if (suppGroupArr.length > 0) {\n-          SuppGroupName = suppGroupArr[0].partyname;\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      document.title = BLS[i].VNO;\n-\n-      var chqAmt = parseFloat(BLS[i].DRA) + parseFloat(BLS[i].CRA);\n-\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n-      </tr>\n-      \n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n-      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\"> `+ SuppADD2 + ` ,` + SuppCITY + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\">PH: `+ SuppMO + `,` + SuppPH1 + `</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;font-weight:bolder;\"colspan=\"2\"> SUPPLIER GROUP : `+ SuppGroupName + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n-      <td style=\"text-align:left;\">CHQ/DD. DATE :`+ formatDate(BLS[i].OD) + `</td>\n-      <td style=\"text-align:left;\">AMOUNT :`+ parseFloat(chqAmt).toFixed(2) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"3\">DRAWEE BANK: `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:20%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA += BA;\n-          totalAD += AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      </tr>\n-      \n-\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      MainFirmName = firmArray[0].FIRM;\n-      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n-      var SuppName = \"\";\n-      var SuppADD1 = \"\";\n-      var SuppADD2 = \"\";\n-      var SuppADD3 = \"\";\n-      var SuppADD4 = \"\";\n-      var SuppCITY = \"\";\n-      var SuppCOMPANY_GSTIN = \"\";\n-      var SuppPANNO = \"\";\n-      var SuppMO = \"\";\n-      var SuppPH1 = \"\";\n-      var SuppGROUPcode = \"\";\n-      var SuppGroupName = \"\";\n-      console.log(SuppArray, BLS[i].ccd)\n-      if (SuppArray.length > 0) {\n-        SuppName = getValueNotDefine(SuppArray[0].partyname);\n-        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n-        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n-        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n-        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n-        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n-        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        SuppMO = getValueNotDefine(SuppArray[0].MO);\n-        SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n-        SuppGROUPcode = getValueNotDefine(SuppArray[0].GCODE);\n-        suppGroupArr = getGroupDetailsBySendCode(SuppGROUPcode);\n-        if (suppGroupArr.length > 0) {\n-          SuppGroupName = suppGroupArr[0].partyname;\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      document.title = BLS[i].VNO;\n-\n-      var chqAmt = parseFloat(BLS[i].DRA) + parseFloat(BLS[i].CRA);\n-\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n-      </tr>\n-      \n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n-      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\"> `+ SuppADD2 + ` ,` + SuppCITY + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\">PH: `+ SuppMO + `,` + SuppPH1 + `</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;font-weight:bolder;\"colspan=\"2\"> SUPPLIER GROUP : `+ SuppGroupName + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n-      <td style=\"text-align:left;\">CHQ/DD. DATE :`+ formatDate(BLS[i].OD) + `</td>\n-      <td style=\"text-align:left;\">AMOUNT :`+ parseFloat(chqAmt).toFixed(2) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"3\">DRAWEE BANK: `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      </tr>\n-      \n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:20%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA += BA;\n-          totalAD += AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      </tr>\n-      \n-\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      MainFirmName = firmArray[0].FIRM;\n-      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n-      var SuppName = \"\";\n-      var SuppADD1 = \"\";\n-      var SuppADD2 = \"\";\n-      var SuppADD3 = \"\";\n-      var SuppADD4 = \"\";\n-      var SuppCITY = \"\";\n-      var SuppCOMPANY_GSTIN = \"\";\n-      var SuppPANNO = \"\";\n-      var SuppMO = \"\";\n-      var SuppPH1 = \"\";\n-      var SuppGROUPcode = \"\";\n-      var SuppGroupName = \"\";\n-      console.log(SuppArray, BLS[i].ccd)\n-      if (SuppArray.length > 0) {\n-        SuppName = getValueNotDefine(SuppArray[0].partyname);\n-        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n-        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n-        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n-        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n-        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n-        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        SuppMO = getValueNotDefine(SuppArray[0].MO);\n-        SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n-        SuppGROUPcode = getValueNotDefine(SuppArray[0].GCODE);\n-        suppGroupArr = getGroupDetailsBySendCode(SuppGROUPcode);\n-        if (suppGroupArr.length > 0) {\n-          SuppGroupName = suppGroupArr[0].partyname;\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      document.title = BLS[i].VNO;\n-\n-      var chqAmt = parseFloat(BLS[i].DRA) + parseFloat(BLS[i].CRA);\n-\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n-      </tr>\n-      \n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n-      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\"> `+ SuppADD2 + ` ,` + SuppCITY + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\">PH: `+ SuppMO + `,` + SuppPH1 + `</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> SUPPLIER GROUP : `+ SuppGroupName + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n-      <td style=\"text-align:left;\">CHQ/DD. DATE :`+ formatDate(BLS[i].OD) + `</td>\n-      <td style=\"text-align:left;\">AMOUNT :`+ parseFloat(chqAmt).toFixed(2) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"3\">DRAWEE BANK: `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      </tr>\n-      \n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:20%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA += BA;\n-          totalAD += AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      </tr>\n-      \n-\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      MainFirmName = firmArray[0].FIRM;\n-      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n-      var SuppName = \"\";\n-      var SuppADD1 = \"\";\n-      var SuppADD2 = \"\";\n-      var SuppADD3 = \"\";\n-      var SuppADD4 = \"\";\n-      var SuppCITY = \"\";\n-      var SuppCOMPANY_GSTIN = \"\";\n-      var SuppPANNO = \"\";\n-      var SuppMO = \"\";\n-      var SuppPH1 = \"\";\n-      var SuppGROUPcode = \"\";\n-      var SuppGroupName = \"\";\n-      console.log(SuppArray, BLS[i].ccd)\n-      if (SuppArray.length > 0) {\n-        SuppName = getValueNotDefine(SuppArray[0].partyname);\n-        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n-        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n-        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n-        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n-        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n-        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        SuppMO = getValueNotDefine(SuppArray[0].MO);\n-        SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n-        SuppGROUPcode = getValueNotDefine(SuppArray[0].GCODE);\n-        suppGroupArr = getGroupDetailsBySendCode(SuppGROUPcode);\n-        if (suppGroupArr.length > 0) {\n-          SuppGroupName = suppGroupArr[0].partyname;\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      document.title = BLS[i].VNO;\n-\n-      var chqAmt = parseFloat(BLS[i].DRA) + parseFloat(BLS[i].CRA);\n-\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n-      </tr>\n-      \n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n-      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\"> `+ SuppADD2 + ` ,` + SuppCITY + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\">PH: `+ SuppMO + `,` + SuppPH1 + `</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> SUPPLIER GROUP : `+ SuppGroupName + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n-      <td style=\"text-align:left;\">CHQ/DD. DATE :`+ formatDate(BLS[i].OD) + `</td>\n-      <td style=\"text-align:left;\">AMOUNT :`+ parseFloat(chqAmt).toFixed(2) + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:20%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA += BA;\n-          totalAD += AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      </tr>\n-      \n-\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      MainFirmName = firmArray[0].FIRM;\n-      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n-      var SuppName = \"\";\n-      var SuppADD1 = \"\";\n-      var SuppADD2 = \"\";\n-      var SuppADD3 = \"\";\n-      var SuppADD4 = \"\";\n-      var SuppCITY = \"\";\n-      var SuppCOMPANY_GSTIN = \"\";\n-      var SuppPANNO = \"\";\n-      var SuppMO = \"\";\n-      var SuppPH1 = \"\";\n-      var SuppGROUPcode = \"\";\n-      var SuppGroupName = \"\";\n-      console.log(SuppArray, BLS[i].ccd)\n-      if (SuppArray.length > 0) {\n-        SuppName = getValueNotDefine(SuppArray[0].partyname);\n-        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n-        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n-        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n-        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n-        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n-        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        SuppMO = getValueNotDefine(SuppArray[0].MO);\n-        SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n-        SuppGROUPcode = getValueNotDefine(SuppArray[0].GCODE);\n-        suppGroupArr = getGroupDetailsBySendCode(SuppGROUPcode);\n-        if (suppGroupArr.length > 0) {\n-          SuppGroupName = suppGroupArr[0].partyname;\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      document.title = BLS[i].VNO;\n-\n-      var chqAmt = parseFloat(BLS[i].DRA) + parseFloat(BLS[i].CRA);\n-\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n-      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n-      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">PAYMENT SLIP NO .`+ BLS[i].VNO + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n-      <td style=\"text-align:left;\">  TO  : `+ SuppName + `  </td>\n-      </tr>\n-      \n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n-      <td style=\"text-align:left;\">    `+ SuppADD1 + ` </td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\"> `+ SuppADD2 + ` ,` + SuppCITY + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\">PH: `+ SuppMO + `,` + SuppPH1 + `</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> SUPPLIER GROUP : `+ SuppGroupName + ` </td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"3\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n-      <td style=\"text-align:left;\">CHQ/DD. DATE :`+ formatDate(BLS[i].OD) + `</td>\n-      <td style=\"text-align:left;\">AMOUNT :`+ parseFloat(chqAmt).toFixed(2) + `</td>\n-      <td style=\"text-align:left;\">AMOUNT :`+ parseFloat(chqAmt).toFixed(2) + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:20%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA).toFixed(2);\n-          var AD = parseFloat(billDet[k].AD).toFixed(2);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(BA) + `</td>\n-              <td class=\"alignRight\">`+ getValueNotDefine(AD) + `</td>\n-              </tr>`;\n-\n-          totalBA += BA;\n-          totalAD += AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-\n-      <tr STYLE=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\">CHEQUE NO :  </td>\n-      <td align=\"right\"> `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      <td style=\"text-align:LEFT;\">AMOUNT `+ valuetoFixed(BLS[i].BAMT) + `</td>\n-      </tr>\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"3\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      </tr>\n-      \n-\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    // hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n"
                },
                {
                    "date": 1637308850607,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -124,9 +124,9 @@\n \n       <tr  class=\"upperCase\">\n       <td style=\"text-align:left;\"></td>\n       <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+      <td style=\"text-align:right;\"></td>\n     \n       </tr>\n     \n       <tr  class=\"upperCase\">\n@@ -134,9 +134,9 @@\n       </tr>\n   \n       <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n       <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n       <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n       </tr>\n       \n       <tr  class=\"upperCase\">\n"
                },
                {
                    "date": 1637308869624,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -134,9 +134,9 @@\n       </tr>\n   \n       <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n       <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+      <td style=\"text-align:center;\"><p align=\"center\"> `+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n       <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n       </tr>\n       \n       <tr  class=\"upperCase\">\n"
                },
                {
                    "date": 1637308876163,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -134,9 +134,9 @@\n       </tr>\n   \n       <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n       <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\"><p align=\"center\"> `+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+      <td style=\"text-align:center;\"><p align=\"center\"> `+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</p></td>\n       <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n       </tr>\n       \n       <tr  class=\"upperCase\">\n"
                },
                {
                    "date": 1637308886669,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -124,9 +124,9 @@\n \n       <tr  class=\"upperCase\">\n       <td style=\"text-align:left;\"></td>\n       <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\"></td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n     \n       </tr>\n     \n       <tr  class=\"upperCase\">\n@@ -134,9 +134,9 @@\n       </tr>\n   \n       <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n       <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\"><p align=\"center\"> `+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n       <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n       </tr>\n       \n       <tr  class=\"upperCase\">\n"
                },
                {
                    "date": 1637308904595,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -122,9 +122,9 @@\n         <div class=\"page\" style=\"min-height: auto;\">\n       <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n \n       <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:left;\">-</td>\n       <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n       <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n     \n       </tr>\n"
                },
                {
                    "date": 1637308913103,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,334 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      MainFirmName = firmArray[0].FIRM;\n+      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n+      var SuppName = \"\";\n+      var SuppADD1 = \"\";\n+      var SuppADD2 = \"\";\n+      var SuppADD3 = \"\";\n+      var SuppADD4 = \"\";\n+      var SuppCITY = \"\";\n+      var SuppCOMPANY_GSTIN = \"\";\n+      var SuppPANNO = \"\";\n+      var SuppMO = \"\";\n+      var SuppPH1 = \"\";\n+      var SuppGROUPcode = \"\";\n+      var SuppGroupName = \"\";\n+      console.log(SuppArray, BLS[i].ccd)\n+      if (SuppArray.length > 0) {\n+        SuppName = getValueNotDefine(SuppArray[0].partyname);\n+        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n+        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n+        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n+        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n+        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n+        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        SuppMO = getValueNotDefine(SuppArray[0].MO);\n+        SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n+        SuppGROUPcode = getValueNotDefine(SuppArray[0].GCODE);\n+        suppGroupArr = getGroupDetailsBySendCode(SuppGROUPcode);\n+        if (suppGroupArr.length > 0) {\n+          SuppGroupName = suppGroupArr[0].partyname;\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      document.title = BLS[i].VNO;\n+\n+      var chqAmt = parseFloat(BLS[i].DRA) + parseFloat(BLS[i].CRA);\n+\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">VOUCHER  NO .`+ BLS[i].VNO + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n+      <td style=\"text-align:left;\"><p class=\"hideSupplierName\">  TO  : `+ SuppName + ` </p> </td>\n+      </tr>\n+      \n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n+      <td style=\"text-align:left;\"> <p class=\"hideSupplierName\">    `+ SuppADD1 + ` </p> </td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\"><p class=\"hideSupplierName\">  `+ SuppADD2 + ` ,` + SuppCITY + ` </p></td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"><p class=\"hideSupplierName\"> PH: `+ SuppMO + `,` + SuppPH1 + ` </p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;font-weight:bolder;\"colspan=\"2\"> <p class=\"hidesupplierGroupname\">SUPPLIER GROUP : `+ SuppGroupName + ` </p></td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"3\"><p class=\"hideMSG1\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n+      <td style=\"text-align:left;\">CHQ/DD. DATE :`+ formatDate(BLS[i].OD) + `</td>\n+      <td style=\"text-align:left;\">AMOUNT :`+ parseFloat(chqAmt).toFixed(2) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"3\">DRAWEE BANK: `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:15%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA);\n+          var AD = parseFloat(billDet[k].AD);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ parseFloat(BA).toFixed(2) + `</td>\n+              <td class=\"alignRight\">`+ parseFloat(AD).toFixed(2) + `</td>\n+              </tr>`;\n+\n+          totalBA += BA;\n+          totalAD += AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"2\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      <td  colspan=\"1\"style=\"text-align:RIGHT;\"><P class=\"hideCommAmt\">COMM. AMT `+ getValueNotDefine(BLS[i].CM) + `</p></td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"></td>\n+      </tr>\n+      <tr>\n+      <td colspan=\"3\"></td>\n+      </tr>\n+      <tr>\n+      <td colspan=\"3\"></td>\n+      </tr>\n+      <tr>\n+      <td colspan=\"3\"></td>\n+      </tr>\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1637308953599,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,334 @@\n+\n+var url = window.location.href;\n+var BLS;\n+var DET;\n+var DETdata;\n+var div = '';\n+function getProductDetails(CNO, TYPE, VNO) {\n+  console.log(DETdata)\n+  return DETdata.filter(function (data) {\n+    return data.IDE.toUpperCase() == IDE.toUpperCase()\n+  })\n+}\n+ACTYPE = getUrlParams(url, \"ACTYPE\");\n+function loadBillPdfCall() {\n+\n+  // console.log(Data);\n+\n+\n+  console.log(BLS);\n+\n+\n+\n+  if (BLS.length > 0) {\n+    for (var i = 0; i < BLS.length; i++) {\n+      var BillName = 'TAX INVOICE';\n+      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+      if (BLS[i].DT != \"os\") {\n+        BillName = SERIESArr[0].SERIES;\n+      }\n+      BillName = \"\";\n+      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+      // console.log(partyArray)\n+      partyStateCode = '';\n+      var pcode = '';\n+      var city = '';\n+      var broker = '';\n+      var label = '';\n+      var MO = '';\n+      var ATYPE = '';\n+      var AD1 = '';\n+      var AD2 = '';\n+      var GST = '';\n+      var ST = '';\n+      var dhara = '';\n+      var partyStateCode = '';\n+      var lbl = '';\n+      if (partyArray.length > 0) {\n+        pcode = getValueNotDefine(partyArray[0].partyname);\n+        city = getValueNotDefine(partyArray[0].city);\n+        broker = getValueNotDefine(partyArray[0].broker);\n+        label = getValueNotDefine(partyArray[0].label);\n+        MO = getValueNotDefine(partyArray[0].MO);\n+        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+        AD1 = getValueNotDefine(partyArray[0].AD1);\n+        AD2 = getValueNotDefine(partyArray[0].AD2);\n+        GST = getValueNotDefine(partyArray[0].GST);\n+        GST = GST == null || GST == '' ? '' : GST;\n+        ST = getValueNotDefine(partyArray[0].ST);\n+        dhara = getValueNotDefineNo(partyArray[0].dhara);\n+        partyStateCode = (GST).substring(0, 2);\n+        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+      }\n+      // console.table(firmArray)\n+      var CO_ADD1 = \"\";\n+      var CO_ADD2 = \"\";\n+      var CO_ADD3 = \"\";\n+      var CO_ADD4 = \"\";\n+      var CO_CITY = \"\";\n+      var CO_COMPANY_GSTIN = \"\";\n+      var CO_PANNO = \"\";\n+      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+\n+      MainFirmName = firmArray[0].FIRM;\n+      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n+      var SuppName = \"\";\n+      var SuppADD1 = \"\";\n+      var SuppADD2 = \"\";\n+      var SuppADD3 = \"\";\n+      var SuppADD4 = \"\";\n+      var SuppCITY = \"\";\n+      var SuppCOMPANY_GSTIN = \"\";\n+      var SuppPANNO = \"\";\n+      var SuppMO = \"\";\n+      var SuppPH1 = \"\";\n+      var SuppGROUPcode = \"\";\n+      var SuppGroupName = \"\";\n+      console.log(SuppArray, BLS[i].ccd)\n+      if (SuppArray.length > 0) {\n+        SuppName = getValueNotDefine(SuppArray[0].partyname);\n+        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n+        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n+        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n+        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n+        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n+        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n+        SuppMO = getValueNotDefine(SuppArray[0].MO);\n+        SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n+        SuppGROUPcode = getValueNotDefine(SuppArray[0].GCODE);\n+        suppGroupArr = getGroupDetailsBySendCode(SuppGROUPcode);\n+        if (suppGroupArr.length > 0) {\n+          SuppGroupName = suppGroupArr[0].partyname;\n+        }\n+      }\n+      console.log(BLS[i].DT)\n+      document.title = BLS[i].VNO;\n+\n+      var chqAmt = parseFloat(BLS[i].DRA) + parseFloat(BLS[i].CRA);\n+\n+      div += `\n+        <div class=\"page\" style=\"min-height: auto;\">\n+      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"></td>\n+      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n+      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n+    \n+      </tr>\n+    \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n+      </tr>\n+  \n+      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n+      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n+      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n+      <td style=\"text-align:left;\"colspan=\"2\">VOUCHER  NO .`+ BLS[i].VNO + `</td>\n+      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n+      <td style=\"text-align:left;\"><p class=\"hideSupplierName\">  TO  : `+ SuppName + ` </p> </td>\n+      </tr>\n+      \n+      \n+      <tr  class=\"upperCase\" style=\"\">\n+      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n+      <td style=\"text-align:left;\"> <p class=\"hideSupplierName\">    `+ SuppADD1 + ` </p> </td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n+      <td style=\"text-align:left;\"><p class=\"hideSupplierName\">  `+ SuppADD2 + ` ,` + SuppCITY + ` </p></td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n+      <td style=\"text-align:left;\"><p class=\"hideSupplierName\"> PH: `+ SuppMO + `,` + SuppPH1 + ` </p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;font-weight:bolder;\"colspan=\"2\"> <p class=\"hidesupplierGroupname\">SUPPLIER GROUP : `+ SuppGroupName + ` </p></td>\n+      <td style=\"text-align:left;\"> </td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"3\"><p class=\"hideMSG1\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</p></td>\n+      </tr>\n+      \n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n+      <td style=\"text-align:left;\">CHQ/DD. DATE :`+ formatDate(BLS[i].OD) + `</td>\n+      <td style=\"text-align:left;\">AMOUNT :`+ parseFloat(chqAmt).toFixed(2) + `</td>\n+      </tr>\n+\n+      <tr  class=\"upperCase\">\n+      <td style=\"text-align:left;\"colspan=\"3\">DRAWEE BANK: `+ getValueNotDefine(BLS[i].OC) + `</td>\n+      </tr>\n+\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+      \n+      </table>      \n+      <div style=\"min-height:15%;\">\n+        `;\n+\n+      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+      // DET = DETdata.filter(function (data) {\n+      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+      // })\n+      console.log(DET);\n+      var totalBA = 0;\n+      var totalAD = 0;\n+      if (DET.length > 0) {\n+        div += `\n+          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n+          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n+          <td>BILL NO</td>\n+          <td class=\"alignRight\">NET AMT</td>\n+          <td class=\"alignRight\">ADJUSTED</td>    \n+          <tr>\n+          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+          </tr>`;\n+        var sr = 0;\n+        var billDet = DET[0].billDetails;\n+        billDet = billDet.sort(function (a, b) {\n+          return parseInt(a.SR) - parseInt(b.SR);\n+        })\n+        for (var k = 0; k < billDet.length; k++) {\n+          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+          var ccdpcode = \"\";\n+          if (ccode.length > 0) {\n+            ccdpcode = getValueNotDefine(ccode[0].partyname);\n+          }\n+          var RATE = parseFloat(billDet[k].RATE);\n+          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+          var finalRate = RATE + (DHARA * RATE / 100);\n+          sr += 1;\n+\n+          var BA = parseFloat(billDet[k].BA);\n+          var AD = parseFloat(billDet[k].AD);\n+\n+\n+          div += `<tr class=\"upperCase\">\n+              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"alignRight\">`+ parseFloat(BA).toFixed(2) + `</td>\n+              <td class=\"alignRight\">`+ parseFloat(AD).toFixed(2) + `</td>\n+              </tr>`;\n+\n+          totalBA += BA;\n+          totalAD += AD;\n+        }\n+        div += ` </table>\n+          `;\n+      }\n+      div += ` \n+        </div>   \n+         \n+      <table style=\"width:100%;\">\n+       \n+      <tr>\n+      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      <tr style=\"width:100%;\"class=\"upperCase\">\n+        <TD>\n+        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n+          <tr>\n+            <td>Total</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+          </tr>\n+        </table>\n+        </TD>\n+\n+\n+      </table>\n+    <table style=\"width:100%;font-size:12px;\">   \n+     \n+`;\n+\n+      div += `\n+      <tr>\n+      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n+      </tr>\n+\n+      \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"2\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      <td  colspan=\"1\"style=\"text-align:RIGHT;\"><P class=\"hideCommAmt\">COMM. AMT `+ getValueNotDefine(BLS[i].CM) + `</p></td>\n+      </tr>\n+      \n+\n+      <tr>\n+      <td colspan=\"3\"></td>\n+      </tr>\n+      <tr>\n+      <td colspan=\"3\"></td>\n+      </tr>\n+      <tr>\n+      <td colspan=\"3\"></td>\n+      </tr>\n+      <tr>\n+      <td colspan=\"3\"></td>\n+      </tr>\n+      \n+      <tr STYLE=\"\">\n+      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n+      <td style=\"text-align:CENTER;\"> </td>\n+      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n+      </tr>\n+\n+    </table>\n+    </div>\n+      `;\n+      BILL = getValueNotDefine(BLS[i].BLL);\n+      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+      document.title = \"BILL NO \" + BILL;\n+\n+    }\n+\n+    div += ``;\n+    // document.body.innerHTML = div;\n+    $(\"#loader\").removeClass('has-loader');\n+    $(\"body\").append(div)\n+    hideList();\n+  } else {\n+    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+    $(\"#loader\").removeClass('has-loader');\n+  }\n+  try {\n+\n+  } catch (error) {\n+    noteError(error);\n+  }\n+}\n"
                },
                {
                    "date": 1639728154324,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -18,343 +18,10 @@\n \n   console.log(BLS);\n \n \n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      MainFirmName = firmArray[0].FIRM;\n-      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n-      var SuppName = \"\";\n-      var SuppADD1 = \"\";\n-      var SuppADD2 = \"\";\n-      var SuppADD3 = \"\";\n-      var SuppADD4 = \"\";\n-      var SuppCITY = \"\";\n-      var SuppCOMPANY_GSTIN = \"\";\n-      var SuppPANNO = \"\";\n-      var SuppMO = \"\";\n-      var SuppPH1 = \"\";\n-      var SuppGROUPcode = \"\";\n-      var SuppGroupName = \"\";\n-      console.log(SuppArray, BLS[i].ccd)\n-      if (SuppArray.length > 0) {\n-        SuppName = getValueNotDefine(SuppArray[0].partyname);\n-        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n-        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n-        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n-        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n-        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n-        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        SuppMO = getValueNotDefine(SuppArray[0].MO);\n-        SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n-        SuppGROUPcode = getValueNotDefine(SuppArray[0].GCODE);\n-        suppGroupArr = getGroupDetailsBySendCode(SuppGROUPcode);\n-        if (suppGroupArr.length > 0) {\n-          SuppGroupName = suppGroupArr[0].partyname;\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      document.title = BLS[i].VNO;\n-\n-      var chqAmt = parseFloat(BLS[i].DRA) + parseFloat(BLS[i].CRA);\n-\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"></td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">VOUCHER  NO .`+ BLS[i].VNO + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n-      <td style=\"text-align:left;\"><p class=\"hideSupplierName\">  TO  : `+ SuppName + ` </p> </td>\n-      </tr>\n-      \n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n-      <td style=\"text-align:left;\"> <p class=\"hideSupplierName\">    `+ SuppADD1 + ` </p> </td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\"><p class=\"hideSupplierName\">  `+ SuppADD2 + ` ,` + SuppCITY + ` </p></td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"><p class=\"hideSupplierName\"> PH: `+ SuppMO + `,` + SuppPH1 + ` </p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;font-weight:bolder;\"colspan=\"2\"> <p class=\"hidesupplierGroupname\">SUPPLIER GROUP : `+ SuppGroupName + ` </p></td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"3\"><p class=\"hideMSG1\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n-      <td style=\"text-align:left;\">CHQ/DD. DATE :`+ formatDate(BLS[i].OD) + `</td>\n-      <td style=\"text-align:left;\">AMOUNT :`+ parseFloat(chqAmt).toFixed(2) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"3\">DRAWEE BANK: `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:15%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA);\n-          var AD = parseFloat(billDet[k].AD);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ parseFloat(BA).toFixed(2) + `</td>\n-              <td class=\"alignRight\">`+ parseFloat(AD).toFixed(2) + `</td>\n-              </tr>`;\n-\n-          totalBA += BA;\n-          totalAD += AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"2\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      <td  colspan=\"1\"style=\"text-align:RIGHT;\"><P class=\"hideCommAmt\">COMM. AMT `+ getValueNotDefine(BLS[i].CM) + `</p></td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"></td>\n-      </tr>\n-      <tr>\n-      <td colspan=\"3\"></td>\n-      </tr>\n-      <tr>\n-      <td colspan=\"3\"></td>\n-      </tr>\n-      <tr>\n-      <td colspan=\"3\"></td>\n-      </tr>\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n   try {\n \n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n   if (BLS.length > 0) {\n     for (var i = 0; i < BLS.length; i++) {\n       var BillName = 'TAX INVOICE';\n       var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n@@ -659,344 +326,9 @@\n   } else {\n     document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n     $(\"#loader\").removeClass('has-loader');\n   }\n-  try {\n \n   } catch (error) {\n     noteError(error);\n   }\n }\n-\n-var url = window.location.href;\n-var BLS;\n-var DET;\n-var DETdata;\n-var div = '';\n-function getProductDetails(CNO, TYPE, VNO) {\n-  console.log(DETdata)\n-  return DETdata.filter(function (data) {\n-    return data.IDE.toUpperCase() == IDE.toUpperCase()\n-  })\n-}\n-ACTYPE = getUrlParams(url, \"ACTYPE\");\n-function loadBillPdfCall() {\n-\n-  // console.log(Data);\n-\n-\n-  console.log(BLS);\n-\n-\n-\n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n-\n-      MainFirmName = firmArray[0].FIRM;\n-      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n-      var SuppName = \"\";\n-      var SuppADD1 = \"\";\n-      var SuppADD2 = \"\";\n-      var SuppADD3 = \"\";\n-      var SuppADD4 = \"\";\n-      var SuppCITY = \"\";\n-      var SuppCOMPANY_GSTIN = \"\";\n-      var SuppPANNO = \"\";\n-      var SuppMO = \"\";\n-      var SuppPH1 = \"\";\n-      var SuppGROUPcode = \"\";\n-      var SuppGroupName = \"\";\n-      console.log(SuppArray, BLS[i].ccd)\n-      if (SuppArray.length > 0) {\n-        SuppName = getValueNotDefine(SuppArray[0].partyname);\n-        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n-        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n-        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n-        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n-        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n-        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        SuppMO = getValueNotDefine(SuppArray[0].MO);\n-        SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n-        SuppGROUPcode = getValueNotDefine(SuppArray[0].GCODE);\n-        suppGroupArr = getGroupDetailsBySendCode(SuppGROUPcode);\n-        if (suppGroupArr.length > 0) {\n-          SuppGroupName = suppGroupArr[0].partyname;\n-        }\n-      }\n-      console.log(BLS[i].DT)\n-      document.title = BLS[i].VNO;\n-\n-      var chqAmt = parseFloat(BLS[i].DRA) + parseFloat(BLS[i].CRA);\n-\n-      div += `\n-        <div class=\"page\" style=\"min-height: auto;\">\n-      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">-</td>\n-      <td style=\"text-align:center;\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n-      <td style=\"text-align:right;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n-    \n-      </tr>\n-    \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n-      </tr>\n-  \n-      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"><p class=\"hideCoGST\" style=\"display:none;\">GSTIN : `+ CO_COMPANY_GSTIN + `</p></td>\n-      <td style=\"text-align:center;\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n-      <td style=\"text-align:right;\"><p class=\"hideCoPanNo\" style=\"display:none;\">PAN : `+ CO_PANNO + `</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n-      <td style=\"text-align:left;\"colspan=\"2\">VOUCHER  NO .`+ BLS[i].VNO + `</td>\n-      <td style=\"text-align:left;\">  DATE : `+ formatDate(BLS[i].DT) + `  </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> FROM: `+ pcode + `</td>\n-      <td style=\"text-align:left;\"><p class=\"hideSupplierName\">  TO  : `+ SuppName + ` </p> </td>\n-      </tr>\n-      \n-      \n-      <tr  class=\"upperCase\" style=\"\">\n-      <td style=\"text-align:left;\"colspan=\"2\">CITY : `+ city + `</td>\n-      <td style=\"text-align:left;\"> <p class=\"hideSupplierName\">    `+ SuppADD1 + ` </p> </td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n-      <td style=\"text-align:left;\"><p class=\"hideSupplierName\">  `+ SuppADD2 + ` ,` + SuppCITY + ` </p></td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` , ` + city + `  </td>\n-      <td style=\"text-align:left;\"><p class=\"hideSupplierName\"> PH: `+ SuppMO + `,` + SuppPH1 + ` </p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;font-weight:bolder;\"colspan=\"2\"> <p class=\"hidesupplierGroupname\">SUPPLIER GROUP : `+ SuppGroupName + ` </p></td>\n-      <td style=\"text-align:left;\"> </td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"3\"><p class=\"hideMSG1\">WE ARE ENCLOSING FOLLOWING CHEQUE/DDS. PLEASE ACKNOWLEDGE</p></td>\n-      </tr>\n-      \n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\">CHQ/DD NO. : `+ getValueNotDefine(BLS[i].DCNO) + ` </td>\n-      <td style=\"text-align:left;\">CHQ/DD. DATE :`+ formatDate(BLS[i].OD) + `</td>\n-      <td style=\"text-align:left;\">AMOUNT :`+ parseFloat(chqAmt).toFixed(2) + `</td>\n-      </tr>\n-\n-      <tr  class=\"upperCase\">\n-      <td style=\"text-align:left;\"colspan=\"3\">DRAWEE BANK: `+ getValueNotDefine(BLS[i].OC) + `</td>\n-      </tr>\n-\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-      \n-      </table>      \n-      <div style=\"min-height:15%;\">\n-        `;\n-\n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n-          <table  class=\"\" style=\"width:100%;font-size:12px;\">\n-          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n-          <td>BILL NO</td>\n-          <td class=\"alignRight\">NET AMT</td>\n-          <td class=\"alignRight\">ADJUSTED</td>    \n-          <tr>\n-          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-          </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n-\n-          var BA = parseFloat(billDet[k].BA);\n-          var AD = parseFloat(billDet[k].AD);\n-\n-\n-          div += `<tr class=\"upperCase\">\n-              <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"alignRight\">`+ parseFloat(BA).toFixed(2) + `</td>\n-              <td class=\"alignRight\">`+ parseFloat(AD).toFixed(2) + `</td>\n-              </tr>`;\n-\n-          totalBA += BA;\n-          totalAD += AD;\n-        }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n-       \n-      <tr>\n-      <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n-            <td>Total</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-          </tr>\n-        </table>\n-        </TD>\n-\n-\n-      </table>\n-    <table style=\"width:100%;font-size:12px;\">   \n-     \n-`;\n-\n-      div += `\n-      <tr>\n-      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n-      </tr>\n-\n-      \n-      <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"2\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      <td  colspan=\"1\"style=\"text-align:RIGHT;\"><P class=\"hideCommAmt\">COMM. AMT `+ getValueNotDefine(BLS[i].CM) + `</p></td>\n-      </tr>\n-      \n-\n-      <tr>\n-      <td colspan=\"3\"></td>\n-      </tr>\n-      <tr>\n-      <td colspan=\"3\"></td>\n-      </tr>\n-      <tr>\n-      <td colspan=\"3\"></td>\n-      </tr>\n-      <tr>\n-      <td colspan=\"3\"></td>\n-      </tr>\n-      \n-      <tr STYLE=\"\">\n-      <td style=\"text-align:left;\">RECEIVER'S SIGNATURE</td>\n-      <td style=\"text-align:CENTER;\"> </td>\n-      <td style=\"text-align:RIGHT;font-weight:bold;\">FOR `+ MainFirmName + `</td>\n-      </tr>\n-\n-    </table>\n-    </div>\n-      `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n-\n-    }\n-\n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-  try {\n-\n-  } catch (error) {\n-    noteError(error);\n-  }\n-}\n"
                },
                {
                    "date": 1653228830717,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -25,9 +25,10 @@\n     for (var i = 0; i < BLS.length; i++) {\n       var BillName = 'TAX INVOICE';\n       var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n       if (BLS[i].DT != \"os\") {\n-        BillName = SERIESArr[0].SERIES;\n+        if(SERIESArr.length>0){\n+        BillName = SERIESArr[0].SERIES;}\n       }\n       BillName = \"\";\n       firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n       partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n"
                },
                {
                    "date": 1653228899696,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -20,108 +20,109 @@\n \n \n   try {\n \n-  if (BLS.length > 0) {\n-    for (var i = 0; i < BLS.length; i++) {\n-      var BillName = 'TAX INVOICE';\n-      var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n-      if (BLS[i].DT != \"os\") {\n-        if(SERIESArr.length>0){\n-        BillName = SERIESArr[0].SERIES;}\n-      }\n-      BillName = \"\";\n-      firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n-      partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n-      COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n-      COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n-      var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n-      // console.log(partyArray)\n-      partyStateCode = '';\n-      var pcode = '';\n-      var city = '';\n-      var broker = '';\n-      var label = '';\n-      var MO = '';\n-      var ATYPE = '';\n-      var AD1 = '';\n-      var AD2 = '';\n-      var GST = '';\n-      var ST = '';\n-      var dhara = '';\n-      var partyStateCode = '';\n-      var lbl = '';\n-      if (partyArray.length > 0) {\n-        pcode = getValueNotDefine(partyArray[0].partyname);\n-        city = getValueNotDefine(partyArray[0].city);\n-        broker = getValueNotDefine(partyArray[0].broker);\n-        label = getValueNotDefine(partyArray[0].label);\n-        MO = getValueNotDefine(partyArray[0].MO);\n-        ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n-        AD1 = getValueNotDefine(partyArray[0].AD1);\n-        AD2 = getValueNotDefine(partyArray[0].AD2);\n-        GST = getValueNotDefine(partyArray[0].GST);\n-        GST = GST == null || GST == '' ? '' : GST;\n-        ST = getValueNotDefine(partyArray[0].ST);\n-        dhara = getValueNotDefineNo(partyArray[0].dhara);\n-        partyStateCode = (GST).substring(0, 2);\n-        lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n-      }\n-      // console.table(firmArray)\n-      var CO_ADD1 = \"\";\n-      var CO_ADD2 = \"\";\n-      var CO_ADD3 = \"\";\n-      var CO_ADD4 = \"\";\n-      var CO_CITY = \"\";\n-      var CO_COMPANY_GSTIN = \"\";\n-      var CO_PANNO = \"\";\n-      var MainFirmName = getValueNotDefine(BLS[i].ccd);\n+    if (BLS.length > 0) {\n+      for (var i = 0; i < BLS.length; i++) {\n+        var BillName = 'TAX INVOICE';\n+        var SERIESArr = getSeriesDetailsBySendType(BLS[i].TYPE);\n+        if (BLS[i].DT != \"os\") {\n+          if (SERIESArr.length > 0) {\n+            BillName = SERIESArr[0].SERIES;\n+          }\n+        }\n+        BillName = \"\";\n+        firmArray = getFirmDetailsBySendCode(BLS[i].CNO);\n+        partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n+        COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n+        COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n+        var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n+        // console.log(partyArray)\n+        partyStateCode = '';\n+        var pcode = '';\n+        var city = '';\n+        var broker = '';\n+        var label = '';\n+        var MO = '';\n+        var ATYPE = '';\n+        var AD1 = '';\n+        var AD2 = '';\n+        var GST = '';\n+        var ST = '';\n+        var dhara = '';\n+        var partyStateCode = '';\n+        var lbl = '';\n+        if (partyArray.length > 0) {\n+          pcode = getValueNotDefine(partyArray[0].partyname);\n+          city = getValueNotDefine(partyArray[0].city);\n+          broker = getValueNotDefine(partyArray[0].broker);\n+          label = getValueNotDefine(partyArray[0].label);\n+          MO = getValueNotDefine(partyArray[0].MO);\n+          ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n+          AD1 = getValueNotDefine(partyArray[0].AD1);\n+          AD2 = getValueNotDefine(partyArray[0].AD2);\n+          GST = getValueNotDefine(partyArray[0].GST);\n+          GST = GST == null || GST == '' ? '' : GST;\n+          ST = getValueNotDefine(partyArray[0].ST);\n+          dhara = getValueNotDefineNo(partyArray[0].dhara);\n+          partyStateCode = (GST).substring(0, 2);\n+          lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n+        }\n+        // console.table(firmArray)\n+        var CO_ADD1 = \"\";\n+        var CO_ADD2 = \"\";\n+        var CO_ADD3 = \"\";\n+        var CO_ADD4 = \"\";\n+        var CO_CITY = \"\";\n+        var CO_COMPANY_GSTIN = \"\";\n+        var CO_PANNO = \"\";\n+        var MainFirmName = getValueNotDefine(BLS[i].ccd);\n \n-      MainFirmName = firmArray[0].FIRM;\n-      CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n-      CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n-      CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n-      CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n-      CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n-      CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n-      CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n-      var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n-      var SuppName = \"\";\n-      var SuppADD1 = \"\";\n-      var SuppADD2 = \"\";\n-      var SuppADD3 = \"\";\n-      var SuppADD4 = \"\";\n-      var SuppCITY = \"\";\n-      var SuppCOMPANY_GSTIN = \"\";\n-      var SuppPANNO = \"\";\n-      var SuppMO = \"\";\n-      var SuppPH1 = \"\";\n-      var SuppGROUPcode = \"\";\n-      var SuppGroupName = \"\";\n-      console.log(SuppArray, BLS[i].ccd)\n-      if (SuppArray.length > 0) {\n-        SuppName = getValueNotDefine(SuppArray[0].partyname);\n-        SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n-        SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n-        SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n-        SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n-        SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n-        SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n-        SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n-        SuppMO = getValueNotDefine(SuppArray[0].MO);\n-        SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n-        SuppGROUPcode = getValueNotDefine(SuppArray[0].GCODE);\n-        suppGroupArr = getGroupDetailsBySendCode(SuppGROUPcode);\n-        if (suppGroupArr.length > 0) {\n-          SuppGroupName = suppGroupArr[0].partyname;\n+        MainFirmName = firmArray[0].FIRM;\n+        CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n+        CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n+        CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n+        CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n+        CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n+        CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n+        CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n+        var SuppArray = getPartyDetailsBySendCode(BLS[i].RFCD);\n+        var SuppName = \"\";\n+        var SuppADD1 = \"\";\n+        var SuppADD2 = \"\";\n+        var SuppADD3 = \"\";\n+        var SuppADD4 = \"\";\n+        var SuppCITY = \"\";\n+        var SuppCOMPANY_GSTIN = \"\";\n+        var SuppPANNO = \"\";\n+        var SuppMO = \"\";\n+        var SuppPH1 = \"\";\n+        var SuppGROUPcode = \"\";\n+        var SuppGroupName = \"\";\n+        console.log(SuppArray, BLS[i].ccd)\n+        if (SuppArray.length > 0) {\n+          SuppName = getValueNotDefine(SuppArray[0].partyname);\n+          SuppADD1 = getValueNotDefine(SuppArray[0].AD1);\n+          SuppADD2 = getValueNotDefine(SuppArray[0].AD2);\n+          SuppADD3 = getValueNotDefine(SuppArray[0].AD3);\n+          SuppADD4 = getValueNotDefine(SuppArray[0].AD4);\n+          SuppCITY = getValueNotDefine(SuppArray[0].CITY1);\n+          SuppCOMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n+          SuppPANNO = getValueNotDefine(SuppArray[0].PANNO);\n+          SuppMO = getValueNotDefine(SuppArray[0].MO);\n+          SuppPH1 = getValueNotDefine(SuppArray[0].PH1);\n+          SuppGROUPcode = getValueNotDefine(SuppArray[0].GCODE);\n+          suppGroupArr = getGroupDetailsBySendCode(SuppGROUPcode);\n+          if (suppGroupArr.length > 0) {\n+            SuppGroupName = suppGroupArr[0].partyname;\n+          }\n         }\n-      }\n-      console.log(BLS[i].DT)\n-      document.title = BLS[i].VNO;\n+        console.log(BLS[i].DT)\n+        document.title = BLS[i].VNO;\n \n-      var chqAmt = parseFloat(BLS[i].DRA) + parseFloat(BLS[i].CRA);\n+        var chqAmt = parseFloat(BLS[i].DRA) + parseFloat(BLS[i].CRA);\n \n-      div += `\n+        div += `\n         <div class=\"page\" style=\"min-height: auto;\">\n       <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n \n       <tr  class=\"upperCase\">\n@@ -201,60 +202,60 @@\n       </table>      \n       <div style=\"min-height:15%;\">\n         `;\n \n-      DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n-      // DET = DETdata.filter(function (data) {\n-      //   return data.CNO.toUpperCase() == .toUpperCase() &&\n-      //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n-      //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n-      // })\n-      console.log(DET);\n-      var totalBA = 0;\n-      var totalAD = 0;\n-      if (DET.length > 0) {\n-        div += `\n+        DET = getProductDetails(BLS[i].CNO, BLS[i].TYPE, BLS[i].VNO);\n+        // DET = DETdata.filter(function (data) {\n+        //   return data.CNO.toUpperCase() == .toUpperCase() &&\n+        //     data.TYPE.toUpperCase() == BLS[i].TYPE.toUpperCase() &&\n+        //     data.VNO.toUpperCase() == BLS[i].VNO.toUpperCase();\n+        // })\n+        console.log(DET);\n+        var totalBA = 0;\n+        var totalAD = 0;\n+        if (DET.length > 0) {\n+          div += `\n           <table  class=\"\" style=\"width:100%;font-size:12px;\">\n           <tr style=\"font-weight:bold;\" class=\"upperCase\">\n           <td>BILL NO</td>\n           <td class=\"alignRight\">NET AMT</td>\n           <td class=\"alignRight\">ADJUSTED</td>    \n           <tr>\n           <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n           </tr>`;\n-        var sr = 0;\n-        var billDet = DET[0].billDetails;\n-        billDet = billDet.sort(function (a, b) {\n-          return parseInt(a.SR) - parseInt(b.SR);\n-        })\n-        for (var k = 0; k < billDet.length; k++) {\n-          ccode = getPartyDetailsBySendCode(billDet[k].SP);\n-          var ccdpcode = \"\";\n-          if (ccode.length > 0) {\n-            ccdpcode = getValueNotDefine(ccode[0].partyname);\n-          }\n-          var RATE = parseFloat(billDet[k].RATE);\n-          var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n-          var finalRate = RATE + (DHARA * RATE / 100);\n-          sr += 1;\n+          var sr = 0;\n+          var billDet = DET[0].billDetails;\n+          billDet = billDet.sort(function (a, b) {\n+            return parseInt(a.SR) - parseInt(b.SR);\n+          })\n+          for (var k = 0; k < billDet.length; k++) {\n+            ccode = getPartyDetailsBySendCode(billDet[k].SP);\n+            var ccdpcode = \"\";\n+            if (ccode.length > 0) {\n+              ccdpcode = getValueNotDefine(ccode[0].partyname);\n+            }\n+            var RATE = parseFloat(billDet[k].RATE);\n+            var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n+            var finalRate = RATE + (DHARA * RATE / 100);\n+            sr += 1;\n \n-          var BA = parseFloat(billDet[k].BA);\n-          var AD = parseFloat(billDet[k].AD);\n+            var BA = parseFloat(billDet[k].BA);\n+            var AD = parseFloat(billDet[k].AD);\n \n-\n-          div += `<tr class=\"upperCase\">\n+console.log(billDet[k]);\n+            div += `<tr class=\"upperCase\">\n               <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n               <td class=\"alignRight\">`+ parseFloat(BA).toFixed(2) + `</td>\n               <td class=\"alignRight\">`+ parseFloat(AD).toFixed(2) + `</td>\n               </tr>`;\n \n-          totalBA += BA;\n-          totalAD += AD;\n+            totalBA += BA;\n+            totalAD += AD;\n+          }\n+          div += ` </table>\n+          `;\n         }\n-        div += ` </table>\n-          `;\n-      }\n-      div += ` \n+        div += ` \n         </div>   \n          \n       <table style=\"width:100%;\">\n        \n@@ -278,9 +279,9 @@\n     <table style=\"width:100%;font-size:12px;\">   \n      \n `;\n \n-      div += `\n+        div += `\n       <tr>\n       <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n       </tr>\n \n@@ -312,24 +313,24 @@\n \n     </table>\n     </div>\n       `;\n-      BILL = getValueNotDefine(BLS[i].BLL);\n-      var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-      document.title = \"BILL NO \" + BILL;\n+        BILL = getValueNotDefine(BLS[i].BLL);\n+        var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n+        document.title = \"BILL NO \" + BILL;\n \n+      }\n+\n+      div += ``;\n+      // document.body.innerHTML = div;\n+      $(\"#loader\").removeClass('has-loader');\n+      $(\"body\").append(div)\n+      hideList();\n+    } else {\n+      document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n+      $(\"#loader\").removeClass('has-loader');\n     }\n \n-    div += ``;\n-    // document.body.innerHTML = div;\n-    $(\"#loader\").removeClass('has-loader');\n-    $(\"body\").append(div)\n-    hideList();\n-  } else {\n-    document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n-    $(\"#loader\").removeClass('has-loader');\n-  }\n-\n   } catch (error) {\n     noteError(error);\n   }\n }\n"
                },
                {
                    "date": 1655962205098,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -216,8 +216,16 @@\n           div += `\n           <table  class=\"\" style=\"width:100%;font-size:12px;\">\n           <tr style=\"font-weight:bold;\" class=\"upperCase\">\n           <td>BILL NO</td>\n+          <td>DATE</td>\n+          <td>BILL AMT</td>\n+          <td>GR AMT</td>\n+          <td>RD AMT</td>\n+          <td>DISC%</td>\n+          <td>DISC AMT</td>\n+          <td>ADD AMT</td>\n+          <td>OTH LS</td>\n           <td class=\"alignRight\">NET AMT</td>\n           <td class=\"alignRight\">ADJUSTED</td>    \n           <tr>\n           <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n@@ -240,9 +248,9 @@\n \n             var BA = parseFloat(billDet[k].BA);\n             var AD = parseFloat(billDet[k].AD);\n \n-console.log(billDet[k]);\n+// console.log(billDet[k]);\n             div += `<tr class=\"upperCase\">\n               <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n               <td class=\"alignRight\">`+ parseFloat(BA).toFixed(2) + `</td>\n               <td class=\"alignRight\">`+ parseFloat(AD).toFixed(2) + `</td>\n"
                },
                {
                    "date": 1655962271963,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -216,16 +216,16 @@\n           div += `\n           <table  class=\"\" style=\"width:100%;font-size:12px;\">\n           <tr style=\"font-weight:bold;\" class=\"upperCase\">\n           <td>BILL NO</td>\n-          <td>DATE</td>\n-          <td>BILL AMT</td>\n-          <td>GR AMT</td>\n-          <td>RD AMT</td>\n-          <td>DISC%</td>\n-          <td>DISC AMT</td>\n-          <td>ADD AMT</td>\n-          <td>OTH LS</td>\n+          <td class=\"DATE\">DATE</td>\n+          <td class=\"hideBILLAMT\">BILL AMT</td>\n+          <td class=\"hideGRAMT\">GR AMT</td>\n+          <td class=\"hideRDAMT\">RD AMT</td>\n+          <td class=\"hideDISC\">DISC%</td>\n+          <td class=\"hideDISCAMT\">DISC AMT</td>\n+          <td class=\"hideADDAMT\">ADD AMT</td>\n+          <td class=\"hideOTHLS\">OTH LS</td>\n           <td class=\"alignRight\">NET AMT</td>\n           <td class=\"alignRight\">ADJUSTED</td>    \n           <tr>\n           <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n"
                },
                {
                    "date": 1655962300519,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -251,8 +251,15 @@\n \n // console.log(billDet[k]);\n             div += `<tr class=\"upperCase\">\n               <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"hideBILLAMT\">`+ getValueNotDefine(billDet[k].DT) + `</td>\n+              <td class=\"hideGRAMT\">`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"hideRDAMT\">`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"hideDISC\">`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"hideDISCAMT\">`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"hideADDAMT\">`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"hideOTHLS\">`+ getValueNotDefine(billDet[k].BL) + `</td>\n               <td class=\"alignRight\">`+ parseFloat(BA).toFixed(2) + `</td>\n               <td class=\"alignRight\">`+ parseFloat(AD).toFixed(2) + `</td>\n               </tr>`;\n \n"
                },
                {
                    "date": 1655962313334,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -251,9 +251,9 @@\n \n // console.log(billDet[k]);\n             div += `<tr class=\"upperCase\">\n               <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"hideBILLAMT\">`+ getValueNotDefine(billDet[k].DT) + `</td>\n+              <td class=\"hideBILLAMT\">`+ getValueNotDefine(billDet[k].DTE) + `</td>\n               <td class=\"hideGRAMT\">`+ getValueNotDefine(billDet[k].BL) + `</td>\n               <td class=\"hideRDAMT\">`+ getValueNotDefine(billDet[k].BL) + `</td>\n               <td class=\"hideDISC\">`+ getValueNotDefine(billDet[k].BL) + `</td>\n               <td class=\"hideDISCAMT\">`+ getValueNotDefine(billDet[k].BL) + `</td>\n"
                },
                {
                    "date": 1655962336903,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -252,9 +252,9 @@\n // console.log(billDet[k]);\n             div += `<tr class=\"upperCase\">\n               <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n               <td class=\"hideBILLAMT\">`+ getValueNotDefine(billDet[k].DTE) + `</td>\n-              <td class=\"hideGRAMT\">`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"hideGRAMT\">`+ getValueNotDefine(billDet[k].BA) + `</td>\n               <td class=\"hideRDAMT\">`+ getValueNotDefine(billDet[k].BL) + `</td>\n               <td class=\"hideDISC\">`+ getValueNotDefine(billDet[k].BL) + `</td>\n               <td class=\"hideDISCAMT\">`+ getValueNotDefine(billDet[k].BL) + `</td>\n               <td class=\"hideADDAMT\">`+ getValueNotDefine(billDet[k].BL) + `</td>\n"
                },
                {
                    "date": 1655962389733,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -251,10 +251,10 @@\n \n // console.log(billDet[k]);\n             div += `<tr class=\"upperCase\">\n               <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"hideBILLAMT\">`+ getValueNotDefine(billDet[k].DTE) + `</td>\n-              <td class=\"hideGRAMT\">`+ getValueNotDefine(billDet[k].BA) + `</td>\n+              <td class=\"hideBILLAMT\">`+ getValueNotDefine(billDet[k].BA) + `</td>\n+              <td class=\"hideGRAMT\">`+ getValueNotDefine(billDet[k].GR) + `</td>\n               <td class=\"hideRDAMT\">`+ getValueNotDefine(billDet[k].BL) + `</td>\n               <td class=\"hideDISC\">`+ getValueNotDefine(billDet[k].BL) + `</td>\n               <td class=\"hideDISCAMT\">`+ getValueNotDefine(billDet[k].BL) + `</td>\n               <td class=\"hideADDAMT\">`+ getValueNotDefine(billDet[k].BL) + `</td>\n"
                },
                {
                    "date": 1655962400132,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -251,8 +251,9 @@\n \n // console.log(billDet[k]);\n             div += `<tr class=\"upperCase\">\n               <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"hideBILLAMT\">`+ getValueNotDefine(billDet[k].DTE) + `</td>\n               <td class=\"hideBILLAMT\">`+ getValueNotDefine(billDet[k].BA) + `</td>\n               <td class=\"hideGRAMT\">`+ getValueNotDefine(billDet[k].GR) + `</td>\n               <td class=\"hideRDAMT\">`+ getValueNotDefine(billDet[k].BL) + `</td>\n               <td class=\"hideDISC\">`+ getValueNotDefine(billDet[k].BL) + `</td>\n"
                },
                {
                    "date": 1655962420171,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -251,11 +251,11 @@\n \n // console.log(billDet[k]);\n             div += `<tr class=\"upperCase\">\n               <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"hideBILLAMT\">`+ getValueNotDefine(billDet[k].DTE) + `</td>\n+              <td >`+ getValueNotDefine(billDet[k].DTE) + `</td>\n               <td class=\"hideBILLAMT\">`+ getValueNotDefine(billDet[k].BA) + `</td>\n-              <td class=\"hideGRAMT\">`+ getValueNotDefine(billDet[k].GR) + `</td>\n+              <td class=\"hideGRAMT\">`+ getValueNotDefine(billDet[k].C) + `</td>\n               <td class=\"hideRDAMT\">`+ getValueNotDefine(billDet[k].BL) + `</td>\n               <td class=\"hideDISC\">`+ getValueNotDefine(billDet[k].BL) + `</td>\n               <td class=\"hideDISCAMT\">`+ getValueNotDefine(billDet[k].BL) + `</td>\n               <td class=\"hideADDAMT\">`+ getValueNotDefine(billDet[k].BL) + `</td>\n"
                },
                {
                    "date": 1655962435060,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -254,9 +254,9 @@\n               <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n               <td >`+ getValueNotDefine(billDet[k].DTE) + `</td>\n               <td class=\"hideBILLAMT\">`+ getValueNotDefine(billDet[k].BA) + `</td>\n               <td class=\"hideGRAMT\">`+ getValueNotDefine(billDet[k].C) + `</td>\n-              <td class=\"hideRDAMT\">`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"hideRDAMT\">`+ getValueNotDefine(billDet[k].RD) + `</td>\n               <td class=\"hideDISC\">`+ getValueNotDefine(billDet[k].BL) + `</td>\n               <td class=\"hideDISCAMT\">`+ getValueNotDefine(billDet[k].BL) + `</td>\n               <td class=\"hideADDAMT\">`+ getValueNotDefine(billDet[k].BL) + `</td>\n               <td class=\"hideOTHLS\">`+ getValueNotDefine(billDet[k].BL) + `</td>\n"
                },
                {
                    "date": 1655962464219,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -255,10 +255,10 @@\n               <td >`+ getValueNotDefine(billDet[k].DTE) + `</td>\n               <td class=\"hideBILLAMT\">`+ getValueNotDefine(billDet[k].BA) + `</td>\n               <td class=\"hideGRAMT\">`+ getValueNotDefine(billDet[k].C) + `</td>\n               <td class=\"hideRDAMT\">`+ getValueNotDefine(billDet[k].RD) + `</td>\n-              <td class=\"hideDISC\">`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"hideDISCAMT\">`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"hideDISC\">`+ getValueNotDefine(billDet[k].D) + `</td>\n+              <td class=\"hideDISCAMT\">`+ getValueNotDefine(billDet[k].DA) + `</td>\n               <td class=\"hideADDAMT\">`+ getValueNotDefine(billDet[k].BL) + `</td>\n               <td class=\"hideOTHLS\">`+ getValueNotDefine(billDet[k].BL) + `</td>\n               <td class=\"alignRight\">`+ parseFloat(BA).toFixed(2) + `</td>\n               <td class=\"alignRight\">`+ parseFloat(AD).toFixed(2) + `</td>\n"
                },
                {
                    "date": 1655962487428,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -257,10 +257,10 @@\n               <td class=\"hideGRAMT\">`+ getValueNotDefine(billDet[k].C) + `</td>\n               <td class=\"hideRDAMT\">`+ getValueNotDefine(billDet[k].RD) + `</td>\n               <td class=\"hideDISC\">`+ getValueNotDefine(billDet[k].D) + `</td>\n               <td class=\"hideDISCAMT\">`+ getValueNotDefine(billDet[k].DA) + `</td>\n-              <td class=\"hideADDAMT\">`+ getValueNotDefine(billDet[k].BL) + `</td>\n-              <td class=\"hideOTHLS\">`+ getValueNotDefine(billDet[k].BL) + `</td>\n+              <td class=\"hideADDAMT\">`+ getValueNotDefine(billDet[k].A) + `</td>\n+              <td class=\"hideOTHLS\">`+ getValueNotDefine(billDet[k].O) + `</td>\n               <td class=\"alignRight\">`+ parseFloat(BA).toFixed(2) + `</td>\n               <td class=\"alignRight\">`+ parseFloat(AD).toFixed(2) + `</td>\n               </tr>`;\n \n"
                },
                {
                    "date": 1655962580027,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -255,10 +255,10 @@\n               <td >`+ getValueNotDefine(billDet[k].DTE) + `</td>\n               <td class=\"hideBILLAMT\">`+ getValueNotDefine(billDet[k].BA) + `</td>\n               <td class=\"hideGRAMT\">`+ getValueNotDefine(billDet[k].C) + `</td>\n               <td class=\"hideRDAMT\">`+ getValueNotDefine(billDet[k].RD) + `</td>\n-              <td class=\"hideDISC\">`+ getValueNotDefine(billDet[k].D) + `</td>\n-              <td class=\"hideDISCAMT\">`+ getValueNotDefine(billDet[k].DA) + `</td>\n+              <td class=\"hideDISC\">`+ getValueNotDefine(billDet[k].DA) + `</td>\n+              <td class=\"hideDISCAMT\">`+ getValueNotDefine(billDet[k].D) + `</td>\n               <td class=\"hideADDAMT\">`+ getValueNotDefine(billDet[k].A) + `</td>\n               <td class=\"hideOTHLS\">`+ getValueNotDefine(billDet[k].O) + `</td>\n               <td class=\"alignRight\">`+ parseFloat(BA).toFixed(2) + `</td>\n               <td class=\"alignRight\">`+ parseFloat(AD).toFixed(2) + `</td>\n"
                },
                {
                    "date": 1655962630331,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -252,15 +252,22 @@\n // console.log(billDet[k]);\n             div += `<tr class=\"upperCase\">\n               <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n               <td >`+ getValueNotDefine(billDet[k].DTE) + `</td>\n-              <td class=\"hideBILLAMT\">`+ getValueNotDefine(billDet[k].BA) + `</td>\n-              <td class=\"hideGRAMT\">`+ getValueNotDefine(billDet[k].C) + `</td>\n-              <td class=\"hideRDAMT\">`+ getValueNotDefine(billDet[k].RD) + `</td>\n-              <td class=\"hideDISC\">`+ getValueNotDefine(billDet[k].DA) + `</td>\n-              <td class=\"hideDISCAMT\">`+ getValueNotDefine(billDet[k].D) + `</td>\n-              <td class=\"hideADDAMT\">`+ getValueNotDefine(billDet[k].A) + `</td>\n-              <td class=\"hideOTHLS\">`+ getValueNotDefine(billDet[k].O) + `</td>\n+              <td class=\"hideBILLAMT alignRight\n+alignRight\">`+ getValueNotDefine(billDet[k].BA) + `</td>\n+              <td class=\"hideGRAMT alignRight\n+alignRight\">`+ getValueNotDefine(billDet[k].C) + `</td>\n+              <td class=\"hideRDAMT alignRight\n+alignRight\">`+ getValueNotDefine(billDet[k].RD) + `</td>\n+              <td class=\"hideDISC alignRight\n+alignRight\">`+ getValueNotDefine(billDet[k].DA) + `</td>\n+              <td class=\"hideDISCAMT alignRight\n+alignRight\">`+ getValueNotDefine(billDet[k].D) + `</td>\n+              <td class=\"hideADDAMT alignRight\n+alignRight\">`+ getValueNotDefine(billDet[k].A) + `</td>\n+              <td class=\"hideOTHLS alignRight\n+alignRight\">`+ getValueNotDefine(billDet[k].O) + `</td>\n               <td class=\"alignRight\">`+ parseFloat(BA).toFixed(2) + `</td>\n               <td class=\"alignRight\">`+ parseFloat(AD).toFixed(2) + `</td>\n               </tr>`;\n \n"
                },
                {
                    "date": 1655962686845,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -216,16 +216,16 @@\n           div += `\n           <table  class=\"\" style=\"width:100%;font-size:12px;\">\n           <tr style=\"font-weight:bold;\" class=\"upperCase\">\n           <td>BILL NO</td>\n-          <td class=\"DATE\">DATE</td>\n-          <td class=\"hideBILLAMT\">BILL AMT</td>\n-          <td class=\"hideGRAMT\">GR AMT</td>\n-          <td class=\"hideRDAMT\">RD AMT</td>\n-          <td class=\"hideDISC\">DISC%</td>\n-          <td class=\"hideDISCAMT\">DISC AMT</td>\n-          <td class=\"hideADDAMT\">ADD AMT</td>\n-          <td class=\"hideOTHLS\">OTH LS</td>\n+          <td>DATE</td>\n+          <td class=\"hideBILLAMT alignRight\">BILL AMT</td>\n+          <td class=\"hideGRAMT alignRight\">GR AMT</td>\n+          <td class=\"hideRDAMT alignRight\">RD AMT</td>\n+          <td class=\"hideDISC alignRight\">DISC%</td>\n+          <td class=\"hideDISCAMT alignRight\">DISC AMT</td>\n+          <td class=\"hideADDAMT alignRight\">ADD AMT</td>\n+          <td class=\"hideOTHLS alignRight\">OTH LS</td>\n           <td class=\"alignRight\">NET AMT</td>\n           <td class=\"alignRight\">ADJUSTED</td>    \n           <tr>\n           <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n@@ -252,22 +252,15 @@\n // console.log(billDet[k]);\n             div += `<tr class=\"upperCase\">\n               <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n               <td >`+ getValueNotDefine(billDet[k].DTE) + `</td>\n-              <td class=\"hideBILLAMT alignRight\n-alignRight\">`+ getValueNotDefine(billDet[k].BA) + `</td>\n-              <td class=\"hideGRAMT alignRight\n-alignRight\">`+ getValueNotDefine(billDet[k].C) + `</td>\n-              <td class=\"hideRDAMT alignRight\n-alignRight\">`+ getValueNotDefine(billDet[k].RD) + `</td>\n-              <td class=\"hideDISC alignRight\n-alignRight\">`+ getValueNotDefine(billDet[k].DA) + `</td>\n-              <td class=\"hideDISCAMT alignRight\n-alignRight\">`+ getValueNotDefine(billDet[k].D) + `</td>\n-              <td class=\"hideADDAMT alignRight\n-alignRight\">`+ getValueNotDefine(billDet[k].A) + `</td>\n-              <td class=\"hideOTHLS alignRight\n-alignRight\">`+ getValueNotDefine(billDet[k].O) + `</td>\n+              <td class=\"hideBILLAMT alignRight\">`+ getValueNotDefine(billDet[k].BA) + `</td>\n+              <td class=\"hideGRAMT alignRight\">`+ getValueNotDefine(billDet[k].C) + `</td>\n+              <td class=\"hideRDAMT alignRight\">`+ getValueNotDefine(billDet[k].RD) + `</td>\n+              <td class=\"hideDISC alignRight\">`+ getValueNotDefine(billDet[k].DA) + `</td>\n+              <td class=\"hideDISCAMT alignRight\">`+ getValueNotDefine(billDet[k].D) + `</td>\n+              <td class=\"hideADDAMT alignRight\">`+ getValueNotDefine(billDet[k].A) + `</td>\n+              <td class=\"hideOTHLS alignRight\">`+ getValueNotDefine(billDet[k].O) + `</td>\n               <td class=\"alignRight\">`+ parseFloat(BA).toFixed(2) + `</td>\n               <td class=\"alignRight\">`+ parseFloat(AD).toFixed(2) + `</td>\n               </tr>`;\n \n"
                },
                {
                    "date": 1655962766429,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -283,8 +283,17 @@\n         <TD>\n         <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n           <tr>\n             <td>Total</td>\n+            \n+          <td>DATE</td>\n+          <td class=\"hideBILLAMT alignRight\">BILL AMT</td>\n+          <td class=\"hideGRAMT alignRight\">GR AMT</td>\n+          <td class=\"hideRDAMT alignRight\">RD AMT</td>\n+          <td class=\"hideDISC alignRight\">DISC%</td>\n+          <td class=\"hideDISCAMT alignRight\">DISC AMT</td>\n+          <td class=\"hideADDAMT alignRight\">ADD AMT</td>\n+          <td class=\"hideOTHLS alignRight\">OTH LS</td>\n             <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n             <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n           </tr>\n         </table>\n"
                },
                {
                    "date": 1655962774146,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -283,17 +283,16 @@\n         <TD>\n         <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n           <tr>\n             <td>Total</td>\n-            \n-          <td>DATE</td>\n-          <td class=\"hideBILLAMT alignRight\">BILL AMT</td>\n-          <td class=\"hideGRAMT alignRight\">GR AMT</td>\n-          <td class=\"hideRDAMT alignRight\">RD AMT</td>\n-          <td class=\"hideDISC alignRight\">DISC%</td>\n-          <td class=\"hideDISCAMT alignRight\">DISC AMT</td>\n-          <td class=\"hideADDAMT alignRight\">ADD AMT</td>\n-          <td class=\"hideOTHLS alignRight\">OTH LS</td>\n+            <td>DATE</td>\n+            <td class=\"hideBILLAMT alignRight\">BILL AMT</td>\n+            <td class=\"hideGRAMT alignRight\">GR AMT</td>\n+            <td class=\"hideRDAMT alignRight\">RD AMT</td>\n+            <td class=\"hideDISC alignRight\">DISC%</td>\n+            <td class=\"hideDISCAMT alignRight\">DISC AMT</td>\n+            <td class=\"hideADDAMT alignRight\">ADD AMT</td>\n+            <td class=\"hideOTHLS alignRight\">OTH LS</td>\n             <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n             <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n           </tr>\n         </table>\n"
                },
                {
                    "date": 1655962821345,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -217,16 +217,15 @@\n           <table  class=\"\" style=\"width:100%;font-size:12px;\">\n           <tr style=\"font-weight:bold;\" class=\"upperCase\">\n           <td>BILL NO</td>\n           <td>DATE</td>\n-          <td class=\"hideBILLAMT alignRight\">BILL AMT</td>\n+          <td class=\"alignRight\">BILL AMT</td>\n           <td class=\"hideGRAMT alignRight\">GR AMT</td>\n           <td class=\"hideRDAMT alignRight\">RD AMT</td>\n           <td class=\"hideDISC alignRight\">DISC%</td>\n           <td class=\"hideDISCAMT alignRight\">DISC AMT</td>\n           <td class=\"hideADDAMT alignRight\">ADD AMT</td>\n           <td class=\"hideOTHLS alignRight\">OTH LS</td>\n-          <td class=\"alignRight\">NET AMT</td>\n           <td class=\"alignRight\">ADJUSTED</td>    \n           <tr>\n           <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n           </tr>`;\n@@ -252,16 +251,15 @@\n // console.log(billDet[k]);\n             div += `<tr class=\"upperCase\">\n               <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n               <td >`+ getValueNotDefine(billDet[k].DTE) + `</td>\n-              <td class=\"hideBILLAMT alignRight\">`+ getValueNotDefine(billDet[k].BA) + `</td>\n+              <td class=\"alignRight\">`+ parseFloat(BA).toFixed(2) + `</td>\n               <td class=\"hideGRAMT alignRight\">`+ getValueNotDefine(billDet[k].C) + `</td>\n               <td class=\"hideRDAMT alignRight\">`+ getValueNotDefine(billDet[k].RD) + `</td>\n               <td class=\"hideDISC alignRight\">`+ getValueNotDefine(billDet[k].DA) + `</td>\n               <td class=\"hideDISCAMT alignRight\">`+ getValueNotDefine(billDet[k].D) + `</td>\n               <td class=\"hideADDAMT alignRight\">`+ getValueNotDefine(billDet[k].A) + `</td>\n               <td class=\"hideOTHLS alignRight\">`+ getValueNotDefine(billDet[k].O) + `</td>\n-              <td class=\"alignRight\">`+ parseFloat(BA).toFixed(2) + `</td>\n               <td class=\"alignRight\">`+ parseFloat(AD).toFixed(2) + `</td>\n               </tr>`;\n \n             totalBA += BA;\n@@ -283,18 +281,17 @@\n         <TD>\n         <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n           <tr>\n             <td>Total</td>\n-            <td>DATE</td>\n-            <td class=\"hideBILLAMT alignRight\">BILL AMT</td>\n+            <td></td>\n+            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n             <td class=\"hideGRAMT alignRight\">GR AMT</td>\n             <td class=\"hideRDAMT alignRight\">RD AMT</td>\n             <td class=\"hideDISC alignRight\">DISC%</td>\n             <td class=\"hideDISCAMT alignRight\">DISC AMT</td>\n             <td class=\"hideADDAMT alignRight\">ADD AMT</td>\n             <td class=\"hideOTHLS alignRight\">OTH LS</td>\n             <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n           </tr>\n         </table>\n         </TD>\n \n"
                },
                {
                    "date": 1655962891556,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -283,13 +283,13 @@\n           <tr>\n             <td>Total</td>\n             <td></td>\n             <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-            <td class=\"hideGRAMT alignRight\">GR AMT</td>\n-            <td class=\"hideRDAMT alignRight\">RD AMT</td>\n+            <td class=\"hideGRAMT alignRight\">GR</td>\n+            <td class=\"hideRDAMT alignRight\">RD</td>\n             <td class=\"hideDISC alignRight\">DISC%</td>\n-            <td class=\"hideDISCAMT alignRight\">DISC AMT</td>\n-            <td class=\"hideADDAMT alignRight\">ADD AMT</td>\n+            <td class=\"hideDISCAMT alignRight\">DISC</td>\n+            <td class=\"hideADDAMT alignRight\">ADD</td>\n             <td class=\"hideOTHLS alignRight\">OTH LS</td>\n             <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n           </tr>\n         </table>\n"
                },
                {
                    "date": 1655962903519,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -281,9 +281,9 @@\n         <TD>\n         <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n           <tr>\n             <td>Total</td>\n-            <td></td>\n+            <td>-</td>\n             <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n             <td class=\"hideGRAMT alignRight\">GR</td>\n             <td class=\"hideRDAMT alignRight\">RD</td>\n             <td class=\"hideDISC alignRight\">DISC%</td>\n"
                },
                {
                    "date": 1655962922379,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -280,10 +280,9 @@\n       <tr style=\"width:100%;\"class=\"upperCase\">\n         <TD>\n         <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n           <tr>\n-            <td>Total</td>\n-            <td>-</td>\n+            <td colspan=\"Total\"></td>\n             <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n             <td class=\"hideGRAMT alignRight\">GR</td>\n             <td class=\"hideRDAMT alignRight\">RD</td>\n             <td class=\"hideDISC alignRight\">DISC%</td>\n"
                },
                {
                    "date": 1655962934075,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -280,9 +280,9 @@\n       <tr style=\"width:100%;\"class=\"upperCase\">\n         <TD>\n         <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n           <tr>\n-            <td colspan=\"Total\"></td>\n+            <td colspan=\"3\">Total</td>\n             <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n             <td class=\"hideGRAMT alignRight\">GR</td>\n             <td class=\"hideRDAMT alignRight\">RD</td>\n             <td class=\"hideDISC alignRight\">DISC%</td>\n"
                },
                {
                    "date": 1655963009813,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -244,8 +244,13 @@\n             var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n             var finalRate = RATE + (DHARA * RATE / 100);\n             sr += 1;\n \n+            var C = parseFloat(billDet[k].C);\n+            var RD = parseFloat(billDet[k].RD);\n+            var D = parseFloat(billDet[k].D);\n+            var A = parseFloat(billDet[k].A);\n+            var O = parseFloat(billDet[k].O);\n             var BA = parseFloat(billDet[k].BA);\n             var AD = parseFloat(billDet[k].AD);\n \n // console.log(billDet[k]);\n"
                },
                {
                    "date": 1655963054549,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -211,8 +211,13 @@\n         // })\n         console.log(DET);\n         var totalBA = 0;\n         var totalAD = 0;\n+        var C=0;\n+var RD=0;\n+var D=0;\n+var A=0;\n+var O=0;\n         if (DET.length > 0) {\n           div += `\n           <table  class=\"\" style=\"width:100%;font-size:12px;\">\n           <tr style=\"font-weight:bold;\" class=\"upperCase\">\n"
                },
                {
                    "date": 1655963095025,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -211,13 +211,13 @@\n         // })\n         console.log(DET);\n         var totalBA = 0;\n         var totalAD = 0;\n-        var C=0;\n-var RD=0;\n-var D=0;\n-var A=0;\n-var O=0;\n+        var totalC = 0;\n+        var totalRD = 0;\n+        var totalD = 0;\n+        var totalA = 0;\n+        var totalO = 0;\n         if (DET.length > 0) {\n           div += `\n           <table  class=\"\" style=\"width:100%;font-size:12px;\">\n           <tr style=\"font-weight:bold;\" class=\"upperCase\">\n@@ -257,9 +257,9 @@\n             var O = parseFloat(billDet[k].O);\n             var BA = parseFloat(billDet[k].BA);\n             var AD = parseFloat(billDet[k].AD);\n \n-// console.log(billDet[k]);\n+            // console.log(billDet[k]);\n             div += `<tr class=\"upperCase\">\n               <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n               <td >`+ getValueNotDefine(billDet[k].DTE) + `</td>\n               <td class=\"alignRight\">`+ parseFloat(BA).toFixed(2) + `</td>\n@@ -273,8 +273,13 @@\n               </tr>`;\n \n             totalBA += BA;\n             totalAD += AD;\n+            totalC += C;\n+            totalRD += RD;\n+            totalD += D;\n+            totalA += A;\n+            totalO += O;\n           }\n           div += ` </table>\n           `;\n         }\n"
                },
                {
                    "date": 1655963132895,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -297,14 +297,14 @@\n         <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n           <tr>\n             <td colspan=\"3\">Total</td>\n             <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-            <td class=\"hideGRAMT alignRight\">GR</td>\n-            <td class=\"hideRDAMT alignRight\">RD</td>\n+            <td class=\"hideGRAMT alignRight\">`+parseFloat( C).toFixed(2)+`</td>\n+            <td class=\"hideRDAMT alignRight\">`+parseFloat(RD).toFixed(2)+`</td>\n             <td class=\"hideDISC alignRight\">DISC%</td>\n-            <td class=\"hideDISCAMT alignRight\">DISC</td>\n-            <td class=\"hideADDAMT alignRight\">ADD</td>\n-            <td class=\"hideOTHLS alignRight\">OTH LS</td>\n+            <td class=\"hideDISCAMT alignRight\">`+parseFloat( D).toFixed(2)+`</td>\n+            <td class=\"hideADDAMT alignRight\">`+parseFloat( A).toFixed(2)+`</td>\n+            <td class=\"hideOTHLS alignRight\">`+parseFloat( O).toFixed(2)+`</td>\n             <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n           </tr>\n         </table>\n         </TD>\n"
                },
                {
                    "date": 1655963141148,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -297,14 +297,14 @@\n         <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n           <tr>\n             <td colspan=\"3\">Total</td>\n             <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-            <td class=\"hideGRAMT alignRight\">`+parseFloat( C).toFixed(2)+`</td>\n-            <td class=\"hideRDAMT alignRight\">`+parseFloat(RD).toFixed(2)+`</td>\n-            <td class=\"hideDISC alignRight\">DISC%</td>\n-            <td class=\"hideDISCAMT alignRight\">`+parseFloat( D).toFixed(2)+`</td>\n-            <td class=\"hideADDAMT alignRight\">`+parseFloat( A).toFixed(2)+`</td>\n-            <td class=\"hideOTHLS alignRight\">`+parseFloat( O).toFixed(2)+`</td>\n+            <td class=\"hideGRAMT alignRight\">`+ parseFloat(C).toFixed(2) + `</td>\n+            <td class=\"hideRDAMT alignRight\">`+ parseFloat(RD).toFixed(2) + `</td>\n+            <td class=\"hideDISC alignRight\"></td>\n+            <td class=\"hideDISCAMT alignRight\">`+ parseFloat(D).toFixed(2) + `</td>\n+            <td class=\"hideADDAMT alignRight\">`+ parseFloat(A).toFixed(2) + `</td>\n+            <td class=\"hideOTHLS alignRight\">`+ parseFloat(O).toFixed(2) + `</td>\n             <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n           </tr>\n         </table>\n         </TD>\n"
                },
                {
                    "date": 1655963202784,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -300,9 +300,9 @@\n             <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n             <td class=\"hideGRAMT alignRight\">`+ parseFloat(C).toFixed(2) + `</td>\n             <td class=\"hideRDAMT alignRight\">`+ parseFloat(RD).toFixed(2) + `</td>\n             <td class=\"hideDISC alignRight\"></td>\n-            <td class=\"hideDISCAMT alignRight\">`+ parseFloat(D).toFixed(2) + `</td>\n+            <td class=\"hideDISCAMT alignRight\">`+ parseFloat(D) + `</td>\n             <td class=\"hideADDAMT alignRight\">`+ parseFloat(A).toFixed(2) + `</td>\n             <td class=\"hideOTHLS alignRight\">`+ parseFloat(O).toFixed(2) + `</td>\n             <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n           </tr>\n"
                },
                {
                    "date": 1655963228864,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -300,9 +300,9 @@\n             <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n             <td class=\"hideGRAMT alignRight\">`+ parseFloat(C).toFixed(2) + `</td>\n             <td class=\"hideRDAMT alignRight\">`+ parseFloat(RD).toFixed(2) + `</td>\n             <td class=\"hideDISC alignRight\"></td>\n-            <td class=\"hideDISCAMT alignRight\">`+ parseFloat(D) + `</td>\n+            <td class=\"hideDISCAMT alignRight\">`+ parseFloat(D).toFixed(2) + `</td>\n             <td class=\"hideADDAMT alignRight\">`+ parseFloat(A).toFixed(2) + `</td>\n             <td class=\"hideOTHLS alignRight\">`+ parseFloat(O).toFixed(2) + `</td>\n             <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n           </tr>\n"
                },
                {
                    "date": 1655963395023,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -295,9 +295,9 @@\n       <tr style=\"width:100%;\"class=\"upperCase\">\n         <TD>\n         <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n           <tr>\n-            <td colspan=\"3\">Total</td>\n+            <td colspan=\"5\">Total</td>\n             <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n             <td class=\"hideGRAMT alignRight\">`+ parseFloat(C).toFixed(2) + `</td>\n             <td class=\"hideRDAMT alignRight\">`+ parseFloat(RD).toFixed(2) + `</td>\n             <td class=\"hideDISC alignRight\"></td>\n"
                },
                {
                    "date": 1655963405908,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -295,9 +295,11 @@\n       <tr style=\"width:100%;\"class=\"upperCase\">\n         <TD>\n         <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n           <tr>\n-            <td colspan=\"5\">Total</td>\n+            <td >Total</td>\n+            <td >Total</td>\n+            <td >Total</td>\n             <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n             <td class=\"hideGRAMT alignRight\">`+ parseFloat(C).toFixed(2) + `</td>\n             <td class=\"hideRDAMT alignRight\">`+ parseFloat(RD).toFixed(2) + `</td>\n             <td class=\"hideDISC alignRight\"></td>\n"
                },
                {
                    "date": 1655963414467,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -296,10 +296,8 @@\n         <TD>\n         <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n           <tr>\n             <td >Total</td>\n-            <td >Total</td>\n-            <td >Total</td>\n             <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n             <td class=\"hideGRAMT alignRight\">`+ parseFloat(C).toFixed(2) + `</td>\n             <td class=\"hideRDAMT alignRight\">`+ parseFloat(RD).toFixed(2) + `</td>\n             <td class=\"hideDISC alignRight\"></td>\n"
                },
                {
                    "date": 1655963430067,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -296,8 +296,9 @@\n         <TD>\n         <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n           <tr>\n             <td >Total</td>\n+            <td ></td>\n             <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n             <td class=\"hideGRAMT alignRight\">`+ parseFloat(C).toFixed(2) + `</td>\n             <td class=\"hideRDAMT alignRight\">`+ parseFloat(RD).toFixed(2) + `</td>\n             <td class=\"hideDISC alignRight\"></td>\n"
                },
                {
                    "date": 1655963494427,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -279,16 +279,13 @@\n             totalD += D;\n             totalA += A;\n             totalO += O;\n           }\n-          div += ` </table>\n-          `;\n         }\n         div += ` \n-        </div>   \n-         \n-      <table style=\"width:100%;\">\n        \n+    \n+       \n       <tr>\n       <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n       </tr>\n \n@@ -311,8 +308,10 @@\n         </TD>\n \n \n       </table>\n+      </div>   \n+        \n     <table style=\"width:100%;font-size:12px;\">   \n      \n `;\n \n"
                },
                {
                    "date": 1655963532827,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -288,12 +288,9 @@\n       <tr>\n       <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n       </tr>\n \n-      <tr style=\"width:100%;\"class=\"upperCase\">\n-        <TD>\n-        <table style=\"width:100%;font-size:12px;font-weight:bold;\">\n-          <tr>\n+      <tr>\n             <td >Total</td>\n             <td ></td>\n             <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n             <td class=\"hideGRAMT alignRight\">`+ parseFloat(C).toFixed(2) + `</td>\n@@ -303,12 +300,10 @@\n             <td class=\"hideADDAMT alignRight\">`+ parseFloat(A).toFixed(2) + `</td>\n             <td class=\"hideOTHLS alignRight\">`+ parseFloat(O).toFixed(2) + `</td>\n             <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n           </tr>\n-        </table>\n-        </TD>\n+     \n \n-\n       </table>\n       </div>   \n         \n     <table style=\"width:100%;font-size:12px;\">   \n"
                },
                {
                    "date": 1655963558972,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -292,14 +292,14 @@\n       <tr>\n             <td >Total</td>\n             <td ></td>\n             <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n-            <td class=\"hideGRAMT alignRight\">`+ parseFloat(C).toFixed(2) + `</td>\n-            <td class=\"hideRDAMT alignRight\">`+ parseFloat(RD).toFixed(2) + `</td>\n+            <td class=\"hideGRAMT alignRight\">`+ parseFloat(totalC).toFixed(2) + `</td>\n+            <td class=\"hideRDAMT alignRight\">`+ parseFloat(totalRD).toFixed(2) + `</td>\n             <td class=\"hideDISC alignRight\"></td>\n-            <td class=\"hideDISCAMT alignRight\">`+ parseFloat(D).toFixed(2) + `</td>\n-            <td class=\"hideADDAMT alignRight\">`+ parseFloat(A).toFixed(2) + `</td>\n-            <td class=\"hideOTHLS alignRight\">`+ parseFloat(O).toFixed(2) + `</td>\n+            <td class=\"hideDISCAMT alignRight\">`+ parseFloat(totalD).toFixed(2) + `</td>\n+            <td class=\"hideADDAMT alignRight\">`+ parseFloat(totalA).toFixed(2) + `</td>\n+            <td class=\"hideOTHLS alignRight\">`+ parseFloat(totalO).toFixed(2) + `</td>\n             <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n           </tr>\n      \n \n"
                },
                {
                    "date": 1655963597916,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -320,8 +320,12 @@\n       <td  colspan=\"2\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n       <td  colspan=\"1\"style=\"text-align:RIGHT;\"><P class=\"hideCommAmt\">COMM. AMT `+ getValueNotDefine(BLS[i].CM) + `</p></td>\n       </tr>\n       \n+      <tr style=\"font-weight:bold;\">    \n+      <td  colspan=\"2\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      <td  colspan=\"1\"style=\"text-align:RIGHT;\"><P class=\"hideCommAmt\">COMM. AMT `+ getValueNotDefine(BLS[i].CM) + `</p></td>\n+      </tr>\n \n       <tr>\n       <td colspan=\"3\"></td>\n       </tr>\n"
                },
                {
                    "date": 1655963613176,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -319,11 +319,11 @@\n       <tr style=\"font-weight:bold;\">    \n       <td  colspan=\"2\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n       <td  colspan=\"1\"style=\"text-align:RIGHT;\"><P class=\"hideCommAmt\">COMM. AMT `+ getValueNotDefine(BLS[i].CM) + `</p></td>\n       </tr>\n-      \n+\n       <tr style=\"font-weight:bold;\">    \n-      <td  colspan=\"2\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      <td  colspan=\"2\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].ORMK) + `</td>\n       <td  colspan=\"1\"style=\"text-align:RIGHT;\"><P class=\"hideCommAmt\">COMM. AMT `+ getValueNotDefine(BLS[i].CM) + `</p></td>\n       </tr>\n \n       <tr>\n"
                },
                {
                    "date": 1655963672237,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -315,14 +315,14 @@\n       <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n       </tr>\n \n       \n-      <tr style=\"font-weight:bold;\">    \n+      <tr style=\"font-weight:bold;\" class=\"hideRemark\">    \n       <td  colspan=\"2\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n       <td  colspan=\"1\"style=\"text-align:RIGHT;\"><P class=\"hideCommAmt\">COMM. AMT `+ getValueNotDefine(BLS[i].CM) + `</p></td>\n       </tr>\n \n-      <tr style=\"font-weight:bold;\">    \n+      <tr style=\"font-weight:bold;\" class=\"hideRemark\">    \n       <td  colspan=\"2\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].ORMK) + `</td>\n       <td  colspan=\"1\"style=\"text-align:RIGHT;\"><P class=\"hideCommAmt\">COMM. AMT `+ getValueNotDefine(BLS[i].CM) + `</p></td>\n       </tr>\n \n"
                },
                {
                    "date": 1655963679446,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -315,14 +315,14 @@\n       <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n       </tr>\n \n       \n-      <tr style=\"font-weight:bold;\" class=\"hideRemark\">    \n+      <tr style=\"font-weight:bold;\" class=\"hideRemark1\">    \n       <td  colspan=\"2\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n       <td  colspan=\"1\"style=\"text-align:RIGHT;\"><P class=\"hideCommAmt\">COMM. AMT `+ getValueNotDefine(BLS[i].CM) + `</p></td>\n       </tr>\n \n-      <tr style=\"font-weight:bold;\" class=\"hideRemark\">    \n+      <tr style=\"font-weight:bold;\" class=\"hideRemark2\">    \n       <td  colspan=\"2\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].ORMK) + `</td>\n       <td  colspan=\"1\"style=\"text-align:RIGHT;\"><P class=\"hideCommAmt\">COMM. AMT `+ getValueNotDefine(BLS[i].CM) + `</p></td>\n       </tr>\n \n"
                },
                {
                    "date": 1655963714875,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -321,9 +321,9 @@\n       <td  colspan=\"1\"style=\"text-align:RIGHT;\"><P class=\"hideCommAmt\">COMM. AMT `+ getValueNotDefine(BLS[i].CM) + `</p></td>\n       </tr>\n \n       <tr style=\"font-weight:bold;\" class=\"hideRemark2\">    \n-      <td  colspan=\"2\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].ORMK) + `</td>\n+      <td  colspan=\"2\"style=\"text-align:left;\">REMARK2 `+ getValueNotDefine(BLS[i].ORMK) + `</td>\n       <td  colspan=\"1\"style=\"text-align:RIGHT;\"><P class=\"hideCommAmt\">COMM. AMT `+ getValueNotDefine(BLS[i].CM) + `</p></td>\n       </tr>\n \n       <tr>\n"
                },
                {
                    "date": 1655963729586,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -316,14 +316,14 @@\n       </tr>\n \n       \n       <tr style=\"font-weight:bold;\" class=\"hideRemark1\">    \n-      <td  colspan=\"2\"style=\"text-align:left;\">REMARK `+ getValueNotDefine(BLS[i].RMK) + `</td>\n+      <td  colspan=\"2\"style=\"text-align:left;\">REMARK :- `+ getValueNotDefine(BLS[i].RMK) + `</td>\n       <td  colspan=\"1\"style=\"text-align:RIGHT;\"><P class=\"hideCommAmt\">COMM. AMT `+ getValueNotDefine(BLS[i].CM) + `</p></td>\n       </tr>\n \n       <tr style=\"font-weight:bold;\" class=\"hideRemark2\">    \n-      <td  colspan=\"2\"style=\"text-align:left;\">REMARK2 `+ getValueNotDefine(BLS[i].ORMK) + `</td>\n+      <td  colspan=\"2\"style=\"text-align:left;\">REMARK :- `+ getValueNotDefine(BLS[i].ORMK) + `</td>\n       <td  colspan=\"1\"style=\"text-align:RIGHT;\"><P class=\"hideCommAmt\">COMM. AMT `+ getValueNotDefine(BLS[i].CM) + `</p></td>\n       </tr>\n \n       <tr>\n"
                },
                {
                    "date": 1655963794484,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -317,16 +317,20 @@\n \n       \n       <tr style=\"font-weight:bold;\" class=\"hideRemark1\">    \n       <td  colspan=\"2\"style=\"text-align:left;\">REMARK :- `+ getValueNotDefine(BLS[i].RMK) + `</td>\n-      <td  colspan=\"1\"style=\"text-align:RIGHT;\"><P class=\"hideCommAmt\">COMM. AMT `+ getValueNotDefine(BLS[i].CM) + `</p></td>\n+      <td  colspan=\"1\"style=\"text-align:RIGHT;\"></td>\n       </tr>\n \n       <tr style=\"font-weight:bold;\" class=\"hideRemark2\">    \n       <td  colspan=\"2\"style=\"text-align:left;\">REMARK :- `+ getValueNotDefine(BLS[i].ORMK) + `</td>\n+      <td  colspan=\"1\"style=\"text-align:RIGHT;\"></td>\n+      </tr>\n+\n+      <tr style=\"font-weight:bold;\" >    \n+      <td  colspan=\"2\"style=\"text-align:left;\"></td>\n       <td  colspan=\"1\"style=\"text-align:RIGHT;\"><P class=\"hideCommAmt\">COMM. AMT `+ getValueNotDefine(BLS[i].CM) + `</p></td>\n       </tr>\n-\n       <tr>\n       <td colspan=\"3\"></td>\n       </tr>\n       <tr>\n"
                },
                {
                    "date": 1655963874725,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -353,9 +353,9 @@\n     </div>\n       `;\n         BILL = getValueNotDefine(BLS[i].BLL);\n         var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n-        document.title = \"BILL NO \" + BILL;\n+        document.title = \"V NO \" + BILL;\n \n       }\n \n       div += ``;\n"
                },
                {
                    "date": 1655963881450,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -351,9 +351,9 @@\n \n     </table>\n     </div>\n       `;\n-        BILL = getValueNotDefine(BLS[i].BLL);\n+        BILL = getValueNotDefine(BLS[i].VNO);\n         var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n         document.title = \"V NO \" + BILL;\n \n       }\n"
                },
                {
                    "date": 1655964023982,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -325,11 +325,11 @@\n       <td  colspan=\"2\"style=\"text-align:left;\">REMARK :- `+ getValueNotDefine(BLS[i].ORMK) + `</td>\n       <td  colspan=\"1\"style=\"text-align:RIGHT;\"></td>\n       </tr>\n \n-      <tr style=\"font-weight:bold;\" >    \n+      <tr style=\"font-weight:bold;\" class=\"hideCommAmt\" >    \n       <td  colspan=\"2\"style=\"text-align:left;\"></td>\n-      <td  colspan=\"1\"style=\"text-align:RIGHT;\"><P class=\"hideCommAmt\">COMM. AMT `+ getValueNotDefine(BLS[i].CM) + `</p></td>\n+      <td  colspan=\"1\"style=\"text-align:RIGHT;\">COMM. AMT `+ getValueNotDefine(BLS[i].CM) + `</p></td>\n       </tr>\n       <tr>\n       <td colspan=\"3\"></td>\n       </tr>\n"
                },
                {
                    "date": 1655964257197,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -262,14 +262,14 @@\n             div += `<tr class=\"upperCase\">\n               <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n               <td >`+ getValueNotDefine(billDet[k].DTE) + `</td>\n               <td class=\"alignRight\">`+ parseFloat(BA).toFixed(2) + `</td>\n-              <td class=\"hideGRAMT alignRight\">`+ getValueNotDefine(billDet[k].C) + `</td>\n-              <td class=\"hideRDAMT alignRight\">`+ getValueNotDefine(billDet[k].RD) + `</td>\n-              <td class=\"hideDISC alignRight\">`+ getValueNotDefine(billDet[k].DA) + `</td>\n-              <td class=\"hideDISCAMT alignRight\">`+ getValueNotDefine(billDet[k].D) + `</td>\n-              <td class=\"hideADDAMT alignRight\">`+ getValueNotDefine(billDet[k].A) + `</td>\n-              <td class=\"hideOTHLS alignRight\">`+ getValueNotDefine(billDet[k].O) + `</td>\n+              <td class=\"hideGRAMT alignRight\">`+ getValueNotDefinenO(billDet[k].C) + `</td>\n+              <td class=\"hideRDAMT alignRight\">`+ getValueNotDefinenO(billDet[k].RD) + `</td>\n+              <td class=\"hideDISC alignRight\">`+ getValueNotDefinenO(billDet[k].DA) + `</td>\n+              <td class=\"hideDISCAMT alignRight\">`+ getValueNotDefinenO(billDet[k].D) + `</td>\n+              <td class=\"hideADDAMT alignRight\">`+ getValueNotDefinenO(billDet[k].A) + `</td>\n+              <td class=\"hideOTHLS alignRight\">`+ getValueNotDefinenO(billDet[k].O) + `</td>\n               <td class=\"alignRight\">`+ parseFloat(AD).toFixed(2) + `</td>\n               </tr>`;\n \n             totalBA += BA;\n"
                },
                {
                    "date": 1655964276746,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -262,14 +262,14 @@\n             div += `<tr class=\"upperCase\">\n               <td>`+ getValueNotDefine(billDet[k].BL) + `</td>\n               <td >`+ getValueNotDefine(billDet[k].DTE) + `</td>\n               <td class=\"alignRight\">`+ parseFloat(BA).toFixed(2) + `</td>\n-              <td class=\"hideGRAMT alignRight\">`+ getValueNotDefinenO(billDet[k].C) + `</td>\n-              <td class=\"hideRDAMT alignRight\">`+ getValueNotDefinenO(billDet[k].RD) + `</td>\n-              <td class=\"hideDISC alignRight\">`+ getValueNotDefinenO(billDet[k].DA) + `</td>\n-              <td class=\"hideDISCAMT alignRight\">`+ getValueNotDefinenO(billDet[k].D) + `</td>\n-              <td class=\"hideADDAMT alignRight\">`+ getValueNotDefinenO(billDet[k].A) + `</td>\n-              <td class=\"hideOTHLS alignRight\">`+ getValueNotDefinenO(billDet[k].O) + `</td>\n+              <td class=\"hideGRAMT alignRight\">`+ parseFloat(getValueNotDefineNo(billDet[k].C)).toFixed(2) + `</td>\n+              <td class=\"hideRDAMT alignRight\">`+ parseFloat(getValueNotDefineNo(billDet[k].RD)).toFixed(2) + `</td>\n+              <td class=\"hideDISC alignRight\">`+ parseFloat(getValueNotDefineNo(billDet[k].DA)).toFixed(2) + `</td>\n+              <td class=\"hideDISCAMT alignRight\">`+ parseFloat(getValueNotDefineNo(billDet[k].D)).toFixed(2) + `</td>\n+              <td class=\"hideADDAMT alignRight\">`+ parseFloat(getValueNotDefineNo(billDet[k].A)).toFixed(2) + `</td>\n+              <td class=\"hideOTHLS alignRight\">`+ parseFloat(getValueNotDefineNo(billDet[k].O)).toFixed(2) + `</td>\n               <td class=\"alignRight\">`+ parseFloat(AD).toFixed(2) + `</td>\n               </tr>`;\n \n             totalBA += BA;\n"
                },
                {
                    "date": 1661755640303,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -298,9 +298,9 @@\n             <td class=\"hideDISC alignRight\"></td>\n             <td class=\"hideDISCAMT alignRight\">`+ parseFloat(totalD).toFixed(2) + `</td>\n             <td class=\"hideADDAMT alignRight\">`+ parseFloat(totalA).toFixed(2) + `</td>\n             <td class=\"hideOTHLS alignRight\">`+ parseFloat(totalO).toFixed(2) + `</td>\n-            <td class=\"alignRight\">`+ parseFloat(totalBA).toFixed(2) + `</td>\n+            <td class=\"alignRight\">`+ parseFloat(totalAD).toFixed(2) + `</td>\n           </tr>\n      \n \n       </table>\n"
                }
            ],
            "date": 1637291317251,
            "name": "Commit-0",
            "content": "\nvar url = window.location.href;\nvar BLS;\nvar DET;\nvar DETdata;\nvar div = '';\nfunction getProductDetails(CNO, TYPE, VNO) {\n  return DETdata.filter(function (data) {\n    return data.CNO.toUpperCase() == CNO.toUpperCase() &&\n      data.TYPE.toUpperCase() == TYPE.toUpperCase() &&\n      data.VNO.toUpperCase() == VNO.toUpperCase();\n  })\n}\nACTYPE = getUrlParams(url, \"ACTYPE\");\nfunction loadBillPdfCall() {\n\n    // console.log(Data);\n\n\n    // console.log(BLS);\n\n\n\n    if (BLS.length > 0) {\n      for (var i = 0; i < BLS.length; i++) {\n        for (var j = 0; j < BLS[i].billDetails.length; j++) {\n          var BillName = 'TAX INVOICE';\n          var SERIESArr = getSeriesDetailsBySendType(BLS[i].billDetails[j].TYPE);\n          if (BLS[i].billDetails[j].DT != \"os\") {\n            BillName = SERIESArr[0].SERIES;\n          }\n          firmArray = getFirmDetailsBySendCode(BLS[i].billDetails[j].CNO);\n          partyArray = getPartyDetailsBySendCode(BLS[i].COD);\n          COMPANY_GSTIN = firmArray[0].COMPANY_GSTIN;\n          COMPANY_GSTIN = COMPANY_GSTIN == null || COMPANY_GSTIN == '' ? '' : COMPANY_GSTIN;\n          var firmStateCode = COMPANY_GSTIN.substring(0, 2);\n          // console.log(partyArray)\n          partyStateCode = '';\n          var pcode = '';\n          var city = '';\n          var broker = '';\n          var label = '';\n          var MO = '';\n          var ATYPE = '';\n          var AD1 = '';\n          var AD2 = '';\n          var GST = '';\n          var ST = '';\n          var dhara = '';\n          var partyStateCode = '';\n          var lbl = '';\n          if (partyArray.length > 0) {\n            pcode = getValueNotDefine(partyArray[0].partyname);\n            city = getValueNotDefine(partyArray[0].city);\n            broker = getValueNotDefine(partyArray[0].broker);\n            label = getValueNotDefine(partyArray[0].label);\n            MO = getValueNotDefine(partyArray[0].MO);\n            ATYPE = getValueNotDefine(partyArray[0].ATYPE);\n            AD1 = getValueNotDefine(partyArray[0].AD1);\n            AD2 = getValueNotDefine(partyArray[0].AD2);\n            GST = getValueNotDefine(partyArray[0].GST);\n            GST = GST == null || GST == '' ? '' : GST;\n            ST = getValueNotDefine(partyArray[0].ST);\n            dhara = getValueNotDefineNo(partyArray[0].dhara);\n            partyStateCode = (GST).substring(0, 2);\n            lbl = parseInt(ATYPE) == 1 ? \"CUST : \" : parseInt(ATYPE) == 2 ? \"SUPP : \" : \"\";\n          }\n          // console.table(firmArray)\n          var CO_ADD1 = \"\";\n          var CO_ADD2 = \"\";\n          var CO_ADD3 = \"\";\n          var CO_ADD4 = \"\";\n          var CO_CITY = \"\";\n          var CO_COMPANY_GSTIN = \"\";\n          var CO_PANNO = \"\";\n          var MainFirmName = getValueNotDefine(BLS[i].billDetails[j].ccd);\n         \n          if (ACTYPE != \"AGENCY\") {\n            MainFirmName = firmArray[0].FIRM;\n            CO_ADD1 = getValueNotDefine(firmArray[0].ADDRESS1);\n            CO_ADD2 = getValueNotDefine(firmArray[0].ADDRESS2);\n            CO_ADD3 = getValueNotDefine(firmArray[0].ADDRESS3);\n            CO_ADD4 = getValueNotDefine(firmArray[0].ADDRESS4);\n            CO_CITY = getValueNotDefine(firmArray[0].CITY1);\n            CO_COMPANY_GSTIN = getValueNotDefine(firmArray[0].COMPANY_GSTIN);\n            CO_PANNO = getValueNotDefine(firmArray[0].PANNO);\n          }else{\n            var SuppArray = getPartyDetailsBySendCode(BLS[i].billDetails[j].ccd);\n            if (SuppArray.length > 0) {\n              CO_ADD1 = getValueNotDefine(SuppArray[0].ADDRESS1);\n              CO_ADD2 = getValueNotDefine(SuppArray[0].ADDRESS2);\n              CO_ADD3 = getValueNotDefine(SuppArray[0].ADDRESS3);\n              CO_ADD4 = getValueNotDefine(SuppArray[0].ADDRESS4);\n              CO_CITY = getValueNotDefine(SuppArray[0].CITY1);\n              CO_COMPANY_GSTIN = getValueNotDefine(SuppArray[0].COMPANY_GSTIN);\n              CO_PANNO = getValueNotDefine(SuppArray[0].PANNO);\n            }\n          }\n          div += `\n        <div class=\"page\" style=\"min-height: auto;\">\n      <table class=\"table-responsive\" style=\"width:100%;font-size:10px;\">\n\n      <tr  class=\"upperCase\">\n      <td style=\"text-align:center;\" colspan=\"3\"> ! ! SHREE GANESHAYA NAMAH ! ! </td>\n      </tr>\n\n      <tr  class=\"upperCase\">\n      <td style=\"text-align:left;\">SUBJECT TO SURAT JURIDICTION ONLY</td>\n      <td style=\"text-align:center;\"></td>\n      <td style=\"text-align:left;\">PH :  `+ getValueNotDefine(firmArray[0].MOBILE) + `,  ` + getValueNotDefine(firmArray[0].PHONE1) + `</td>\n      </tr>\n    \n      <tr  class=\"upperCase\">\n      <td style=\"text-align:left;\">ORIGINAL FOR RECEIPIENT</td>\n      <td style=\"text-align:center;\">DUPLICATE FOR TRANSPORT</td>\n      <td style=\"text-align:right;\">TRIPLICATE FOR SUPPLIER</td>\n      </tr>\n      \n      <tr  class=\"upperCase\">\n      <td style=\"text-align:center;font-size: 28px;font-weight: bolder;\" colspan=\"3\">`+ MainFirmName + `</td>\n      </tr>\n  \n      <tr  class=\"upperCase\"style=\"font-weight:bold;\">\n      <td style=\"text-align:left;\">GSTIN : `+ CO_COMPANY_GSTIN + `</td>\n      <td style=\"text-align:center;\"></td>\n      <td style=\"text-align:right;\">PAN : `+ CO_PANNO + `</td>\n      </tr>\n\n      <tr class=\"upperCase\">\n      <td style=\"text-align:center;\" colspan=\"3\">`+ CO_ADD1 + `,` + CO_ADD1 + `,` + CO_CITY + `</td>\n      </tr>\n      \n      <tr  class=\"upperCase\">\n      <td style=\"text-align:center;font-size: 27px;font-weight: bolder;\" colspan=\"3\">`+ BillName + `</td>\n      </tr>\n\n      <tr>\n      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n      </tr>\n      \n      <tr  class=\"upperCase\" style=\"font-weight:bold;\">\n      <td style=\"text-align:left;\"colspan=\"2\">M/S `+ pcode + `</td>\n      <td style=\"text-align:left;\"> BILL NO: `+ (BLS[i].billDetails[j].BLL) + `</td>\n      </tr>\n      \n      <tr  class=\"upperCase\">\n      <td style=\"text-align:left;\"colspan=\"2\"> `+ getValueNotDefine(AD1) + `</td>\n      <td style=\"text-align:left;\"> DATE : `+ formatDate(BLS[i].billDetails[j].DTE) + ` </td>\n      </tr>\n\n      <tr  class=\"upperCase\">\n      <td style=\"text-align:left;\"colspan=\"2\">`+ getValueNotDefine(AD2) + ` </td>\n      <td style=\"text-align:left;\"> PARTY NO :  `+ getValueNotDefine(BLS[i].billDetails[j].PS) + ` </td>\n      </tr>\n      \n      <tr  class=\"upperCase\">\n      <td style=\"text-align:left;\"colspan=\"2\"> `+ city + ` </td>\n      <td style=\"text-align:left;\"> STATE : `+ getValueNotDefine(BLS[i].billDetails[j].STC) + ` </td>\n      </tr>\n      \n      <tr  class=\"upperCase\">\n      <td style=\"text-align:left;\"colspan=\"2\"> GSTIN : `+ GST + ` </td>\n      <td style=\"text-align:left;\">HSN/SAC: `+ getValueNotDefine(BLS[i].billDetails[j].HSN) + ` </td>\n      </tr>\n      \n      <tr  class=\"upperCase\">\n      <td style=\"text-align:left;\"colspan=\"2\"> E-WAY BILL NO: `+ getValueNotDefine(BLS[i].billDetails[j].EWB) + ` </td>\n      <td style=\"text-align:left;\">case no: `+ getValueNotDefine(BLS[i].billDetails[j].CSNO) + ` </td>\n      </tr>\n\n      <tr>\n      <td colspan=\"3\"><hr class=\"pdfhr\"></td>\n      </tr>\n      \n      <tr  class=\"upperCase\">\n      <td style=\"text-align:left;\"colspan=\"2\">L.R.NO :  `+ getValueNotDefine(BLS[i].billDetails[j].RNO) + ` * ` + getValueNotDefine(BLS[i].billDetails[j].PRL) + `</td>\n      <td style=\"text-align:left;\">L. R. DATE : `+ formatDate(BLS[i].billDetails[j].RDT) + ` </td>\n      </tr>\n\n      <tr  class=\"upperCase\">\n      <td style=\"text-align:left;\"colspan=\"2\">TRANSPORT  `+ getValueNotDefine(BLS[i].billDetails[j].TRN) + `</td>\n      <td style=\"text-align:left;\">STATION `+ getValueNotDefine(BLS[i].billDetails[j].PLC) + ` </td>\n      </tr>\n\n      <tr  class=\"upperCase\">\n      <td style=\"text-align:left;\"colspan=\"2\">WEIGHT : `+ valuetoFixed(getValueNotDefine(BLS[i].billDetails[j].WGT)) + `</td>\n      <td style=\"text-align:left;\">FREIGHT: `+ valuetoFixed(getValueNotDefine(BLS[i].billDetails[j].FRT)) + ` </td>\n      </tr>\n\n      <tr>\n      <td colspan=\"11\"><hr class=\"pdfhr\"></td>\n      </tr>\n      </table>      \n      <div style=\"min-height:33%;\">\n        `;\n\n          DET = getProductDetails(BLS[i].billDetails[j].CNO, BLS[i].billDetails[j].TYPE, BLS[i].billDetails[j].VNO);\n          // DET = DETdata.filter(function (data) {\n          //   return data.CNO.toUpperCase() == .toUpperCase() &&\n          //     data.TYPE.toUpperCase() == BLS[i].billDetails[j].TYPE.toUpperCase() &&\n          //     data.VNO.toUpperCase() == BLS[i].billDetails[j].VNO.toUpperCase();\n          // })\n          // console.log(DET);\n          if (DET.length > 0) {\n            div += `\n          <table  class=\"table-responsive\" style=\"width:100%;font-size:12px;\">\n          <tr style=\"font-weight:bold;\" class=\"upperCase\">\n          <td>SR</td>\n          <td class=\"hideSUPPLIER\">SUPPLIER</td>\n          <td class=\"hideQUALITY\">ITEM</td>\n          <td class=\"hideHSN\">HSN</td>\n          <td class=\"hidePCS\" align=\"center\">PCS</td>\n          <td class=\"hideCUT\">CUT</td>\n          <td class=\"hideMTS\">MTS</td>\n          <td class=\"hideFOLD\">FOLD</td>\n          <td class=\"hidePURCHASERATE\">P.RATE</td>\n          <td class=\"hideRATE\">RATE</td>\n          <td class=\"hidePER\">PER</td>\n          <td align=\"right\">AMOUNT</td>\n          </tr>\n    \n          <tr>\n          <td colspan=\"15\"><hr class=\"pdfhr\"></td>\n          </tr>`;\n            var sr = 0;\n            var billDet = DET[0].billDetails;\n            billDet = billDet.sort(function (a, b) {\n              return parseInt(a.SR) - parseInt(b.SR);\n            })\n            for (var k = 0; k < billDet.length; k++) {\n              ccode = getPartyDetailsBySendCode(billDet[k].SP);\n              var ccdpcode = \"\";\n              if (ccode.length > 0) {\n                ccdpcode = getValueNotDefine(ccode[0].partyname);\n              }\n              var RATE = parseFloat(billDet[k].RATE);\n              var DHARA = (billDet[k].DR) == \"\" || (billDet[k].DR) == null ? 0 : parseFloat(billDet[k].DR);\n              var finalRate = RATE + (DHARA * RATE / 100);\n              sr += 1;\n              div += `<tr class=\"upperCase\">\n              <td>`+ sr + `</td>\n              <td class=\"hideSUPPLIER\">`+ ccdpcode + `</td>\n              <td class=\"hideQUALITY\">`+ billDet[k].qual + `</td>\n              <td class=\"hideHSN\">`+ getValueNotDefine(billDet[k].hsn) + `</td>\n              <td class=\"hidePCS\" align=\"center\">`+ valuetoFixedNo(billDet[k].PCS) + `</td>\n              <td class=\"hideCUT\">`+ billDet[k].CUT + `</td>\n              <td class=\"hideMTS\">`+ valuetoFixed(billDet[k].MTS) + `</td>\n              <td class=\"hideFOLD\">`+ valuetoFixed(getValueNotDefine(billDet[k].LF)) + `</td>\n              <td class=\"hidePURCHASERATE\">`+ RATE + ifValNullGetBlank(DHARA, \"*\") + `</td>\n              <td class=\"hideRATE\">`+ finalRate + `</td>\n              <td class=\"hidePER\">`+ getValueNotDefine(billDet[k].UNIT) + `</td>\n              <td align=\"right\">`+ valuetoFixed(billDet[k].AMT) + `</td>\n              </tr>`;\n            }\n            div += ` </table>\n          `;\n          }\n          div += ` \n        </div>    \n      <table style=\"width:100%;\">\n      \n      <tr style=\"width:100%;\"class=\"upperCase bold\">\n      <td colspan=\"5\">A/C NO : `+ getValueNotDefine(firmArray[0].ADDRESS3) + ` IFSC : ` + getValueNotDefine(firmArray[0].ADDRESS4) + `</td>\n      </tr>      \n      <tr style=\"width:100%;\"class=\"upperCase bold\">        \n        <td colspan=\"5\"><hr class=\"pdfhr\">  </td>\n      </tr>\n\n      <tr style=\"width:100%;\"class=\"upperCase\">\n      <td>DUE DAYS : </td>\n      <td>TOTAL `+ BLS[i].billDetails[j].PCS + `</td>\n      <td>`+ valuetoFixed(BLS[i].billDetails[j].MTS) + `</td>\n      <td></td>\n      <td align=\"right\">`+ valuetoFixed(BLS[i].billDetails[j].GAMT) + `</td>\n      </tr>\n      </table>\n    <hr class=\"pdfhr\">\n    <table style=\"width:100%;font-size:12px;\">   \n     \n`;\n\n          if (getValueNotDefineNo(BLS[i].billDetails[j].aia) != 0) {\n            div += `\n          <tr>\n           <td style=\"text-align:right;width:100%;\"colspan=\"3\">INSURANCE ADD : `+ valuetoFixed(BLS[i].billDetails[j].aia) + `</td>\n          </tr>\n        `;\n          }\n          if (getValueNotDefineNo(BLS[i].billDetails[j].AA1) != 0) {\n            div += `\n          <tr>\n           <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL ADD : `+ valuetoFixed(BLS[i].billDetails[j].AA1) + `</td>\n          </tr>\n        `;\n          }\n\n          if (getValueNotDefineNo(BLS[i].billDetails[j].O_LS) != 0) {\n            div += `\n          <tr>\n        <td style=\"text-align:right;width:100%;\"colspan=\"3\">TOTAL LESS : `+ valuetoFixed(BLS[i].billDetails[j].O_LS) + `</td>\n          </tr>\n        `;\n          }\n          if (getValueNotDefineNo(BLS[i].billDetails[j].LA1RT) != 0) {\n            div += `\n          <tr>\n        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n         `+ getValueNotDefine(BLS[i].billDetails[j].LA1RMK) + ` \n         `+ valuetoFixed(BLS[i].billDetails[j].GAMT) + ` X \n         <strong>`+ BLS[i].billDetails[j].LA1RT + ` % </strong> \n         `+ BLS[i].billDetails[j].LA1AMT + ` \n        </td>\n          </tr>\n        `;\n          }\n          if (getValueNotDefineNo(BLS[i].billDetails[j].LA2RT) != 0) {\n            div += `\n          <tr>\n        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n         `+ getValueNotDefine(BLS[i].billDetails[j].LA2RMK) + ` \n         `+ BLS[i].billDetails[j].LA2qty + ` X \n         <strong>`+ BLS[i].billDetails[j].LA2RT + ` % </strong> \n         `+ BLS[i].billDetails[j].LA2AMT + ` \n        </td>\n          </tr>\n        `;\n          }\n          if (getValueNotDefineNo(BLS[i].billDetails[j].LA3RT) != 0) {\n            div += `\n          <tr>\n        <td style=\"text-align:right;width:100%;\"colspan=\"3\">\n         `+ getValueNotDefine(BLS[i].billDetails[j].LA3RMK) + ` \n         `+ BLS[i].billDetails[j].LA3qty + ` X \n         <strong>`+ BLS[i].billDetails[j].LA3RT + ` % </strong> \n         `+ BLS[i].billDetails[j].LA3AMT + ` \n        </td>\n          </tr>\n        `;\n          }\n          if (parseInt(BLS[i].billDetails[j].VTAMT) != 0) {\n            // console.log(partyStateCode, firmStateCode);\n            if (parseInt(partyStateCode) == parseInt(firmStateCode)) {\n              if (BLS[i].billDetails[j].VTRT != null && parseInt(BLS[i].billDetails[j].VTRT) != 0) {\n                div += `<tr>    \n              <td style=\"text-align:right;width:100%;\"colspan=\"3\">CGST @ `+ BLS[i].billDetails[j].VTRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].billDetails[j].GAMT) + ` = ` + valuetoFixed(BLS[i].billDetails[j].VTAMT) + `</td>\n              </tr>\n              `;\n              }\n              if (BLS[i].billDetails[j].ADVTRT != null && parseInt(BLS[i].billDetails[j].ADVTRT) != 0) {\n                div += `<tr>    \n              <td style=\"text-align:right;width:100%;\" colspan=\"3\">SGST @ `+ BLS[i].billDetails[j].ADRT + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].billDetails[j].GAMT) + ` = ` + valuetoFixed(BLS[i].billDetails[j].ADAMT) + `</td>\n              </tr>\n              `;\n              }\n            } else {\n              if (BLS[i].billDetails[j].VTRT != null && parseInt(BLS[i].billDetails[j].VTRT) != 0) {\n                div += `<tr>    \n              <td style=\"text-align:right;width:100%;\" colspan=\"3\">IGST @ `+ getValueNotDefine(BLS[i].billDetails[j].VTRT) + `% ON TAXABLE VALUE ` + valuetoFixed(BLS[i].billDetails[j].GAMT) + ` =  ` + valuetoFixed(BLS[i].billDetails[j].VTAMT) + `</td>\n              </tr>\n              `;\n              }\n            }\n          }\n\n          div += `\n      <tr>\n      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n      </tr>\n\n      <tr style=\"font-weight:bold;font-size:15px;\">    \n      <td style=\"text-align:left;\">REMARK:  `+ getValueNotDefine(BLS[i].billDetails[j].RMK) + `</td>\n      <td style=\"text-align:left;\"> </td>\n      <td align=\"right\">NET AMOUNT </td>\n      <td style=\"text-align:right;\"> `+ valuetoFixed(BLS[i].billDetails[j].BAMT) + `</td>\n      </tr>\n      \n      \n      <tr>\n      <td colspan=\"4\"><hr class=\"pdfhr\"></td>\n      </tr>\n\n      <tr style=\"font-weight:bold;\">    \n      <td  colspan=\"2\"></td>\n      <td  colspan=\"2\"style=\"text-align:right;\">FOR `+ MainFirmName + `</td>\n      </tr>\n\n      \n      <tr class=\"upperCase \">\n      <td colspan=\"4\">TERMS</td>\n      </tr>\n      <tr class=\"upperCase \">\n      <td colspan=\"4\"> (1) THE ABOVE GOODS ARE DESPATCHED ON YOUR A/C RISK</td>\n      </tr>\n      \n      <tr class=\"upperCase\">\n      <td colspan=\"4\">(2) PAYMENT SHOULD BE SEND BY A/C PAY CHEQUE OR NEFT ,RTGS ONLY</td>\n      </tr>\n      \n      <tr class=\"upperCase\">\n      <td colspan=\"4\"> (3)INTEREST WILL BE CHARGED 18% YEARLY</td>\n      </tr>\n    </table>\n    </div>\n      `;\n          BILL = getValueNotDefine(BLS[i].billDetails[j].BLL);\n          var BILL = BILL.replaceAll(/[^\\w\\s]/gi, '');\n          document.title = \"BILL NO \" + BILL;\n        }\n      }\n\n      div += ``;\n      // document.body.innerHTML = div;\n      $(\"#loader\").removeClass('has-loader');\n      $(\"body\").append(div)\n      hideList();\n    } else {\n      document.body.innerHTML = \"<h1 align='center'>NO DATA FOUND<h1>\";\n      $(\"#loader\").removeClass('has-loader');\n    }\n  }  try {\n    catch (error) {\n    noteError(error);\n  }\n}\n"
        }
    ]
}