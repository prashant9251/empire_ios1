{
    "sourceFile": "orderForm.html",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1638352591611,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1638352608645,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -55,9 +55,9 @@\n     var MTYPE = getUrlParams(url, \"MTYPE\");\r\n     var DSN = getUrlParams(url, \"DatabaseSource\");\r\n     var Currentyear = getUrlParams(url, \"Currentyear\");\r\n     var usernm = getUrlParams(url, \"usernm\");\r\n-    var clnt = atob(DSN.replace(Currentyear, \"\"));\r\n+    // var clnt = atob(DSN.replace(Currentyear, \"\"));\r\n     //alert(DSN);\r\n \r\n </script>\r\n <script src=\"js/localStorageGet.js\"></script>\r\n"
                }
            ],
            "date": 1638352591611,
            "name": "Commit-0",
            "content": "<html>\r\n\r\n<head>\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" />\r\n    <script src=\"2.1.3/jquery.min.js\"></script>\r\n    <script src=\"3.3.6/bootstrap.min.js\"></script>\r\n    <!-- <link href=\"3.3.6/bootstrap.min.css\" rel=\"stylesheet\" /> -->\r\n    <script src=\"js/jsGetUrlParams.js\"></script>\r\n\r\n    <style>\r\n        .loader {\r\n            z-index: 9999;\r\n            border: 16px solid #f3f3f3;\r\n            border-radius: 50%;\r\n            border-top: 16px solid #343a40;\r\n            width: 120px;\r\n            height: 120px;\r\n            -webkit-animation: spin 2s linear infinite;\r\n            animation: spin 2s linear infinite;\r\n            margin: auto;\r\n            left: 0;\r\n            right: 0;\r\n            top: 0;\r\n            bottom: 0;\r\n            position: fixed;\r\n        }\r\n\r\n        @-webkit-keyframes spin {\r\n            0% {\r\n                -webkit-transform: rotate(0deg);\r\n            }\r\n\r\n            100% {\r\n                -webkit-transform: rotate(360deg);\r\n            }\r\n        }\r\n\r\n        @keyframes spin {\r\n            0% {\r\n                transform: rotate(0deg);\r\n            }\r\n\r\n            100% {\r\n                transform: rotate(360deg);\r\n            }\r\n        }\r\n    </style>\r\n</head>\r\n\r\n<script src=\"js/jsGetCookies.js\"></script>\r\n<script>\r\n    var url = window.location.href;\r\n    var MCNO = getUrlParams(url, \"MCNO\");\r\n    var MTYPE = getUrlParams(url, \"MTYPE\");\r\n    var DSN = getUrlParams(url, \"DatabaseSource\");\r\n    var Currentyear = getUrlParams(url, \"Currentyear\");\r\n    var usernm = getUrlParams(url, \"usernm\");\r\n    var clnt = atob(DSN.replace(Currentyear, \"\"));\r\n    //alert(DSN);\r\n\r\n</script>\r\n<script src=\"js/localStorageGet.js\"></script>\r\n<script src=\"js/jsGetObjectByKey.js\"></script>\r\n<script src=\"js/jsgetValueNotDefine.js\"></script>\r\n<script src=\"js/jsStoreDatatoIndexeddb.js\"></script>\r\n<script src=\"js/jspushDataToIndexDb.js\"></script>\r\n<script src=\"js/jsPopUpTblSetting.js\"></script>\r\n<script src=\"js/jsoptionSeriesSelect.js\"></script>\r\n<script src=\"js/jsoptionFirmSelect.js\"></script>\r\n<script src=\"js/jsGetDateFormate.js\"></script>\r\n<script src=\"js/jsGetDateFormate.js\"></script>\r\n<script src=\"js/jsPdfOrderForm.js\"></script>\r\n<script src=\"js/cloudOrderStD.js\"></script>\r\n\r\n\r\n<html>\r\n\r\n<head>\r\n    <title>ORDER FORM</title>\r\n\r\n    <link href=\"4.1.1/bootstrap.min.css\" rel=\"stylesheet\" id=\"bootstrap-css\">\r\n    <link href=\"1.10.4/jquery-ui.css\" rel=\"stylesheet\">\r\n    <script src=\"1.10.4/jquery-ui.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"css/stylePrint.css\">\r\n    <link rel=\"stylesheet\" href=\"css/styleAutoComplete.css\">\r\n    <link rel=\"stylesheet\" href=\"css/orderForm.css\">\r\n\r\n</head>\r\n\r\n<body>\r\n    <BR>\r\n\r\n    <div id=\"orderForm\" class=\"container\" style=\"width:100%;\">\r\n        <div class=\"row justify-content-center\">\r\n            <div class=\"col-md-6\">\r\n                <div class=\"card\">\r\n                    <header class=\"card-header\">\r\n                        <div style=\"display: inline;\">\r\n                            <div style=\"float:left;\">\r\n                                <h4 class=\"card-title mt-2\">ORDER FORM</h4>\r\n                            </div>\r\n                            <div style=\"float: right;display:none;\">\r\n\r\n                                <h4 style=\"color: darkblue;\" id=\"orderFormNo\"> 0</h4>\r\n                            </div>\r\n                        </div>\r\n                    </header>\r\n                    <article class=\"card-body\">\r\n                        <!-- <form action=\"\" method=\"get\" target=\"_blank\" autocomplete=\"off\"> -->\r\n                        <div class=\"form-row\">\r\n                            <div class=\"col form-group\">\r\n                                <h6>FIRM</h6>\r\n                                <select class=\"form-control inputText\" style=\"height: 40px;\" id=\"FIRM\" name=\"FIRM\">\r\n                                </select>\r\n                            </div>\r\n                            <div class=\"col form-group\">\r\n                                <h6>BOOKING DATE</h6><input autocomplete=\"off\" type=\"date\"\r\n                                    class=\"form-control inputText\" placeholder=\"ENTER DATE\" name=\"BK_DATE\" id=\"BK_DATE\">\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"form-row\">\r\n                            <div class=\"col form-group\">\r\n                                <h6>CUSTOMER NAME<i id=\"Lpartyname\" style=\"color: red;display:none;\">* Required</i></h6>\r\n                                <input autocomplete=\"off\" class=\"form-control inputText\" autocomplete=\"off\" onchange=\"\"\r\n                                    placeholder=\"ENTER PARTY NAME\" name=\"partyname\" id=\"partyname\" autofocus>\r\n                                <input autocomplete=\"off\" type=\"hidden\" class=\"form-control inputText\"\r\n                                    autocomplete=\"off\" onchange=\"\" placeholder=\"ENTER PARTY NAME\" name=\"partycode\"\r\n                                    id=\"partycode\">\r\n                            </div>\r\n                            <div class=\"col form-group\">\r\n                                <h6>CITY</h6><input autocomplete=\"off\" class=\"form-control inputText\" autocomplete=\"off\"\r\n                                    name=\"city\" id=\"city\" placeholder=\"ENTER CITY NAME\">\r\n\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"form-row\">\r\n                            <div class=\"col form-group\">\r\n                                <h6>GST NO</h6><input autocomplete=\"off\" class=\"form-control inputText\"\r\n                                    autocomplete=\"off\" onchange=\"\" placeholder=\"ENTER GSTNO\" name=\"city\" id=\"GSTIN\">\r\n                            </div>\r\n                            <div class=\"col form-group\">\r\n                                <h6>BOOKING</h6><input autocomplete=\"off\" class=\"form-control inputText\"\r\n                                    autocomplete=\"off\" onchange=\"\" placeholder=\"ENTER STATION\" name=\"BK_STATION\"\r\n                                    id=\"BK_STATION\">\r\n                            </div>\r\n                            <div class=\"col form-group\">\r\n                                <h6>TRANSPORT</h6><input autocomplete=\"off\" class=\"form-control inputText\"\r\n                                    autocomplete=\"off\" name=\"BK_TRANSPORT\" id=\"BK_TRANSPORT\"\r\n                                    placeholder=\"ENTER TRANSPORT\">\r\n\r\n                            </div>\r\n                        </div>\r\n                        <hr style=\"border-color:blue\">\r\n                        <div class=\"form-row\">\r\n                            <div class=\"col form-group\">\r\n                                <h6>SUPPLIER<i id=\"Lccd\" style=\"color: red;display:none;\">* Required</i></h6><input autocomplete=\"off\" class=\"form-control inputText\"\r\n                                    autocomplete=\"off\" name=\"ccd\" id=\"ccd\" placeholder=\"ENTER SUPPLIER NAME\">\r\n\r\n                            </div>\r\n                            <div class=\"col form-group\">\r\n                                <h6>ADDRESS</h6><input autocomplete=\"off\" class=\"form-control inputText\"\r\n                                    autocomplete=\"off\" name=\"ccdAdd\" id=\"ccdAdd\" placeholder=\"ENTER ADDRESS\">\r\n\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-row\">\r\n                            <div class=\"col form-group\">\r\n                                <h6>REMARK </h6>\r\n                                <input autocomplete=\"off\" class=\"form-control inputText\" autocomplete=\"off\"\r\n                                    onfocus=\"this.value=''\" onchange=\"localSave('RMK');\" placeholder=\"ENTER REMARK\"\r\n                                    name=\"RMK\" id=\"RMK\">\r\n                            </div>\r\n                            <div class=\"col form-group\">\r\n                                <h6>CREATED BY <i id=\"LconfirmedBy\" style=\"color: red;display:none;\">* Required</i></h6>\r\n                                <input autocomplete=\"off\" class=\"form-control inputText\"\r\n                                    style=\"text-transform: uppercase;\" autocomplete=\"off\" onload=\"\"\r\n                                    onchange=\"localSave('confirmedBy');\" placeholder=\"NAME\" name=\"confirmedBy\"\r\n                                    id=\"confirmedBy\" required>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group\">\r\n\r\n                        </div>\r\n                        <div class=\"form-group\">\r\n                            <input autocomplete=\"off\" type=\"hidden\" class=\"form-control inputText\" id=\"partycode\"\r\n                                name=\"partycode\" placeholder=\"hidden party code\"><input autocomplete=\"off\" type=\"hidden\"\r\n                                class=\"form-control inputText\" id=\"ntab\" name=\"ntab\" value=\"NTAB\"\r\n                                placeholder=\"hidden party code\">\r\n                        </div>\r\n                        <div class=\"form-group\">\r\n                            <h5 id=\"add_Product\" style=\"color:blue;cursor: pointer;\" onclick=\"addProduct();\">+ ADD\r\n                                PRODUCT</h5>\r\n                        </div>\r\n                        <!-- The Modal -->\r\n                        <div id=\"myModal\" class=\"modal\" style=\"padding: inherit;\">\r\n                            <div class=\"modal-content\">\r\n                                <h6 style=\"color: blue;\">ADD PRODUCT</h6>\r\n                                <div class=\"form-row\" style=\"display:none;\">\r\n                                    <div class=\"col form-group\">\r\n                                        <h6>PARCEL</h6>\r\n                                        <select type=\"date\" class=\"form-control \" style=\"height: 50px;\" name=\"ptype\"\r\n                                            id=\"ptype\">\r\n                                            <option>PARCEL</option>\r\n                                            <option>PCS</option>\r\n                                            <option>CATALOG</option>\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-row\">\r\n                                    <div class=\"col form-group\">\r\n                                        <h6>PRODUCT <i id=\"Lqualname\" style=\"color: red;display:none;\">* Required</i>\r\n                                        </h6>\r\n                                        <input autocomplete=\"off\" type=\"text\" class=\"form-control inputText\"\r\n                                            onfocus=\"this.value=''\" placeholder=\"ENTER PRODUCT NAME\" name=\"qualname\"\r\n                                            id=\"qualname\">\r\n                                    </div>\r\n\r\n                                    <div class=\"col form-group\">\r\n                                        <h6>PCS / QUANTITY <i id=\"Lqty\" style=\"color: red;display:none;\">* Required</i>\r\n                                        </h6>\r\n                                        <input autocomplete=\"off\" type=\"text\" class=\"form-control inputText\"\r\n                                            placeholder=\"ENTER QUANTITY\" name=\"qty\" id=\"qty\">\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div class=\"form-row\">\r\n                                    <div class=\"col form-group\">\r\n                                        <h6>PACKING</h6>\r\n                                        <select type=\"text\" class=\"form-control inputText\" style=\"height: 50px;\"\r\n                                            onchange=\"localSave('pack');\" name=\"pack\" id=\"pack\">\r\n                                            <option>BOX</option>\r\n                                            <option>THAILI</option>\r\n                                            <option>CHAIN BAG</option>\r\n                                            <option>CATALOGUE</option>\r\n                                            <option>NACKED</option>\r\n                                        </select>\r\n                                    </div>\r\n                                    <div class=\"col form-group\">\r\n                                        <h6>RATE <i id=\"Lrate\" style=\"color: red;display:none;\">* Required</i></h6>\r\n                                        <input autocomplete=\"off\" type=\"text\" class=\"form-control inputText \"\r\n                                            onfocus=\"this.value=''\" placeholder=\"ENTER RATE\" name=\"rate\" id=\"rate\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-row\">\r\n                                    <div class=\"col form-group\">\r\n                                        <button class=\"btn btn-primary btn-block inputText\"\r\n                                            onclick=\"saveProduct();\">SAVE</button>\r\n                                    </div>\r\n                                    <div class=\"col form-group\">\r\n                                        <button class=\"btn btn-primary btn-block inputText\"\r\n                                            onclick=\"saveThenAddProduct();\">SAVE & ADD MORE</button>\r\n                                    </div>\r\n                                    <div class=\"col form-group\" onclick=\"closeForm();\">\r\n                                        <button class=\"btn btn-primary btn-block inputText\">CANCEL</button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                        </div>\r\n                        <br>\r\n                        <div class=\"form-group\">\r\n                            <input autocomplete=\"off\" type=\"submit\" name=\"submit\" onclick=\"saveOrderForm();\" id=\"submit\"\r\n                                class=\"btn btn-primary btn-block inputText\" value=\"SAVE\" id=\"submit\">\r\n                        </div>\r\n\r\n                        <div align=\"center\">\r\n                            <table class=\"table\" style=\"display: none;\" id=\"product_list\">\r\n\r\n                            </table>\r\n                        </div>\r\n                        <!-- </form> -->\r\n                    </article>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div style=\"display: none;\" id=\"loader\">\r\n        <div class=\"loader\"></div>\r\n    </div>\r\n\r\n</body>\r\n<div id=\"orderFormResult\"></div>\r\n\r\n<script src=\"js/jsOrderFormAutoComplet.js\"></script>\r\n\r\n<script>\r\n    $(document).ready(function () {\r\n    });\r\n\r\n    function addProduct() {\r\n        modal.style.display = \"block\";\r\n        document.getElementById('qualname').focus();\r\n        setValueInId('pack', 'SL_pack', 'NACKED');\r\n    }\r\n\r\n</script>\r\n\r\n<script>\r\n    var COMPMST;\r\n    var qualAdd = false;\r\n    var now = new Date();\r\n    var day = (\"0\" + now.getDate()).slice(-2);\r\n    var month = (\"0\" + (now.getMonth() + 1)).slice(-2);\r\n    var today = now.getFullYear() + \"-\" + (month) + \"-\" + (day);\r\n    $('#BK_DATE').val(today);\r\n\r\n    var FIRM = $('#FIRM').val();\r\n    var BK_DATE = $('#BK_DATE').val();\r\n    var partyname = $('#partyname').val();\r\n    var city = $('#city').val();\r\n    var GSTIN = $('#GSTIN').val();\r\n    var BK_STATION = $('#BK_STATION').val();\r\n    var broker = $('#broker').val();\r\n    var haste = $('#haste').val();\r\n    var BK_TRANSPORT = $('#BK_TRANSPORT').val();\r\n    // Get the modal\r\n    var modal = document.getElementById(\"myModal\");\r\n\r\n    // Get the button that opens the modal\r\n    var btn = document.getElementById(\"add_Product\");\r\n\r\n\r\n    // When the user clicks the button, open the modal \r\n    btn.onclick = function () {\r\n        addProduct();\r\n    }\r\n    // When the user clicks anywhere outside of the modal, close it\r\n    window.onclick = function (event) {\r\n        if (event.target == modal) {\r\n            modal.style.display = \"none\";\r\n        }\r\n    }\r\n\r\n    function removeProduct(productIdtoRemove, btn) {\r\n        productArray = productArray.filter(function (d) {\r\n            return (d.ID != productIdtoRemove);\r\n        })\r\n        console.log(productArray);\r\n        var row = btn.parentNode.parentNode;\r\n        row.parentNode.removeChild(row);\r\n    }\r\n    function closeForm() {\r\n        modal.style.display = \"none\";\r\n    }\r\n    var OrderArray = {};\r\n    var productArray = [];\r\n    var tr = ` `;\r\n    function saveProduct() {\r\n        var checkvalueAval = checkValue();\r\n        if (checkvalueAval == true) {\r\n            qualname = document.getElementById('qualname').value;\r\n            ptype = document.getElementById('ptype').value;\r\n            qty = document.getElementById('qty').value;\r\n            pack = document.getElementById('pack').value;\r\n            rate = document.getElementById('rate').value;\r\n            ID = productArray.length + 1;\r\n            var product = {};\r\n            product.qualname = qualname;\r\n            product.ptype = ptype;\r\n            product.qty = qty;\r\n            product.pack = pack;\r\n            product.rate = rate;\r\n            product.ID = ID;\r\n            product.dispatch = \"N\";\r\n\r\n            productArray.push(product);\r\n            console.log((productArray));\r\n\r\n            var table = document.getElementById(\"product_list\");\r\n            if (ID == 1 && qualAdd == false) {\r\n                row = table.insertRow(0);\r\n                row.insertCell(0).innerHTML = 'PRODUCT';\r\n                row.insertCell(1).innerHTML = 'QUANTITY';\r\n                row.insertCell(2).innerHTML = 'PACK';\r\n                row.insertCell(3).innerHTML = 'RATE';\r\n                row.insertCell(4).innerHTML = '';\r\n                qualAdd = true;\r\n            }\r\n\r\n            var row = table.insertRow(ID);\r\n            var Cellqualname = row.insertCell(0);\r\n            // var Cellptype = row.insertCell(1);\r\n            var Cellqty = row.insertCell(1);\r\n            var Cellpack = row.insertCell(2);\r\n            var Cellrate = row.insertCell(3);\r\n            var CellACT = row.insertCell(4);\r\n            Cellqualname.innerHTML = qualname;\r\n            // Cellptype.innerHTML = ptype;\r\n            Cellqty.innerHTML = qty;\r\n            Cellpack.innerHTML = pack;\r\n            Cellrate.innerHTML = rate;\r\n            CellACT.innerHTML = `<input autocomplete=\"off\" style=\"background: none; border: none;\"type=\"submit\" onclick=\"removeProduct('` + ID + `',this);\" value=\"&#10060;\">`;\r\n            $('#product_list').css('display', '');\r\n            modal.style.display = \"none\";\r\n            clearQualVal();\r\n        }\r\n    }\r\n\r\n\r\n\r\n    function saveThenAddProduct() {\r\n        saveProduct();\r\n        clearQualVal();\r\n        modal.style.display = \"block\";\r\n        document.getElementById('qualname').focus();\r\n    }\r\n    function clearQualVal() {\r\n        $(\"#qualname\").val(\"\");\r\n        $(\"#qty\").val(\"\");\r\n        $(\"#rate\").val(\"\");\r\n    }\r\n    function clearPartyVal() {\r\n        partyname = $('#partyname').val(\"\");\r\n        city = $('#city').val(\"\");\r\n        GSTIN = $('#GSTIN').val(\"\");\r\n        BK_STATION = $('#BK_STATION').val(\"\");\r\n        broker = $('#broker').val(\"\");\r\n        haste = $('#haste').val(\"\");\r\n        BK_TRANSPORT = $('#BK_TRANSPORT').val(\"\");\r\n        BK_TRANSPORT = $('#RMK').val(\"\");\r\n        ccd = $('#ccd').val(\"\");\r\n        ccdAdd = $('#ccdAdd').val(\"\");\r\n    }\r\n    function checkValue() {\r\n        qualname = document.getElementById('qualname').value;\r\n        qty = document.getElementById('qty').value;\r\n        rate = document.getElementById('rate').value;\r\n\r\n        if (qualname == \"\") {\r\n            $('#Lqualname').css('display', '');\r\n        } else {\r\n            $('#Lqualname').css('display', 'none');\r\n        }\r\n        if (qty == \"\") {\r\n            $('#Lqty').css('display', '');\r\n        } else {\r\n            $('#Lqty').css('display', 'none');\r\n        }\r\n        if (rate == \"\") {\r\n            $('#Lrate').css('display', '');\r\n        } else {\r\n            $('#Lrate').css('display', 'none');\r\n        }\r\n        if (qualname != \"\" && qty != \"\" && rate != \"\") {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    function saveOrderForm() {\r\n        var partyname = $('#partyname').val();\r\n        var confirmedBy = $('#confirmedBy').val();\r\n        var ccd = $('#ccd').val();\r\n        if (partyname == \"\" || confirmedBy == \"\"|| ccd == \"\") {\r\n            partyname == \"\" ? $('#Lpartyname').css('display', '') : $('#Lpartyname').css('display', 'none');\r\n            confirmedBy == \"\" ? $('#LconfirmedBy').css('display', '') : $('#LconfirmedBy').css('display', 'none');\r\n            ccd == \"\" ? $('#Lccd').css('display', '') : $('#Lccd').css('display', 'none');\r\n        } else {\r\n            if (productArray.length > 0) {\r\n                $('#Lpartyname').css('display', 'none');\r\n                $('#LconfirmedBy').css('display', 'none');\r\n                $('#Lccd').css('display', 'none');\r\n                FIRM = $('#FIRM').val();\r\n                BK_DATE = $('#BK_DATE').val();\r\n                RMK = $('#RMK').val();\r\n                confirmedBy = $('#confirmedBy').val();\r\n                confirmedBy = confirmedBy == null ? \"\" : confirmedBy.toUpperCase();\r\n                partyname = $('#partyname').val();\r\n                city = $('#city').val();\r\n                GSTIN = $('#GSTIN').val();\r\n                BK_STATION = $('#BK_STATION').val();\r\n                BK_TRANSPORT = $('#BK_TRANSPORT').val();\r\n                ccd = $('#ccd').val();\r\n                ccdAdd = $('#ccdAdd').val();\r\n                var orderDet = {};\r\n                orderDet.FIRM = FIRM;\r\n                orderDet.BK_DATE = BK_DATE;\r\n                orderDet.partyname = partyname;\r\n                orderDet.city = city;\r\n                orderDet.GSTIN = GSTIN;\r\n                orderDet.BK_STATION = BK_STATION;\r\n                orderDet.broker = broker;\r\n                orderDet.haste = haste;\r\n                orderDet.BK_TRANSPORT = BK_TRANSPORT;\r\n                orderDet.RMK = RMK;\r\n                orderDet.ccd = ccd;\r\n                orderDet.ccdAdd = ccdAdd;\r\n                orderDet.confirmedBy = confirmedBy;\r\n                var OrderID = $('#orderFormNo').html();\r\n                orderDet.OrderID = OrderID;\r\n                orderDet.dispatch = \"N\";\r\n                orderDet.UPDATEBY = \"\";\r\n                orderDet.DELETEBY = \"\";\r\n                orderDet.DISPATCHBY = \"\";\r\n                orderDet.billDetails = productArray;\r\n                orderData.push(orderDet);\r\n\r\n                cloudStD(\"ORDER\", JSON.stringify(orderDet)).then(function (data) {\r\n                    IDE = data;\r\n                    productArray = [];\r\n                    $('#orderFormNo').html(new Date());\r\n                    storedatatoIndexdb(DSN, \"ORDER\", JSON.stringify(orderData));\r\n                    ARR_RMK = localsaveInArray('RMK');\r\n                    $(\"#loader\").css('display', '');\r\n                    $(\"#loader\").css('display', 'none');\r\n                    clearPartyVal();\r\n                    makeOrderPdf(OrderID, IDE, [], orderDet, \"share\");\r\n                    $(\"#product_list\").empty();\r\n                    document.getElementById('partyname').focus();\r\n                }, function (error) {\r\n                    alert(\"check your internet connection and try again\");\r\n                });\r\n\r\n\r\n            } else {\r\n                alert(\"No Product Added\");\r\n                addProduct();\r\n            }\r\n        }\r\n    }\r\n\r\n    var OrderFormNo;\r\n    jsGetObjectByKey(DSN, \"ORDER\", \"\").then(function (data) {\r\n        orderData = data;\r\n        jsGetObjectByKey(DSN, \"COMPMST\", \"\").then(function (COMPMSTdata) {\r\n            COMPMST = COMPMSTdata;\r\n            OrderFormNo = new Date();\r\n            $('#orderFormNo').html(OrderFormNo);\r\n            makeOrderPdf(orderData.length-1, \"\", orderData, \"\", \"\")\r\n        })\r\n    })\r\n\r\n    // setValueInId('RMK', 'SL_RMK', '');\r\n    setValueInId('confirmedBy', 'SL_confirmedBy', '');\r\n    SelectFirmOptions(\"FIRM\");\r\n</script>\r\n<script>\r\n   \r\n</script>\r\n<body>\r\n\r\n</body>\r\n\r\n<script>\r\n</script>"
        }
    ]
}