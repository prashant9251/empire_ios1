<html>

<head>
    <title>STOCK IN HOUSE</title>
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link href="4.1.1/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
    <link href="1.10.4/jquery-ui.css" rel="stylesheet">
    <script src="1.10.2/jquery.js"></script>
    <script src="1.10.4/jquery-ui.js"></script>
    <script src="js/jsGetUrlParams.js"></script>

</head>
<Style>


</Style>

<body>
    </div>
    <div align="center" class="table-responsive">
        <table id="result" class="content-table">

        </table>
    </div>

    <div style="display: none;" id="loader">
        <div class="loader"></div>
        <div style="text-align: center; margin-top: -80px; font-weight:700">Please wait...</div>
    </div>
</body>

<script>
    var url = window.location.href;
    var DSN = getUrlParams(url, "DatabaseSource");
</script>
<script src="js/localStorageGet.js"></script>
<script src="js/jsGetYearChange.js"></script>
<script src="js/jsGetDateFormate.js"></script>
<script src="js/jsGetObjectByKey.js"></script>
<script src="js/jsfunction.js"></script>
<script src="js/jstoFixed.js"></script>
<script src="js/jsLoadCallFINISHSTOCK.js"></script>
<script src="js/jsgetValueNotDefine.js"></script>
<script src="js/jsgetValueNotDefineNo.js"></script>
<script>
    var Data;
    var PAID = 'N';
    var ATYPE = '1';
    var tr = '';
    var FIRM = getUrlParams(url, "FIRM");
    var cno = '';
    var EMP;
    var partyname = getUrlParams(url, "partyname");
    var partycode = getUrlParams(url, "partycode");
    var qual = getUrlParams(url, "qualname");
    var qualcode = getUrlParams(url, "qualcode");
    var mainscreenname = getUrlParams(url, "mainscreenname");
    var godown = getUrlParams(url, "godown");

    if(qual==""){
        qualcode="";
    }
    var weaver = getUrlParams(url, "weaver");
    var broker = getUrlParams(url, "broker");
    var CITY = getUrlParams(url, "city");
    var haste = getUrlParams(url, "haste");
    var fromdate = getUrlParams(url, "search_FromDate");
    var todate = getUrlParams(url, "search_ToDate");
    var clothType = getUrlParams(url, "clothType");
    var category = getUrlParams(url, "category");
    //console.log(clothType)
    var nowDate = new Date();
  
    $(document).ready(function () {
        $("#loader").addClass("has-loader");
       // var interval = setInterval(function() {
       //   if (checkAppReady()) {
       //     clearInterval(interval);
       //     // App is ready, perform necessary operations
       //     load_data();
       //   } else {
       //     // App is not ready yet
       //     // Handle accordingly or retry after a certain interval
       //     // For example, you can show a loading indicator or retry after a delay
       //   }
       // }, 500);
       load_data();
      });
var QUAL_LIST=[];
    function load_data() {
        jsGetObjectByKey(DSN, "COMPMST", "").then(function (data) {
            //console.log(data);
            DataCompmst = data;
            if (FIRM != '' && FIRM !=null) {
                for (var i = 0; i < DataCompmst.length; i++) {
                    if (DataCompmst[i].FIRM == FIRM) {
                        cno = DataCompmst[i].CNO;
                    }
                }
            }
        jsGetObjectByKey(DSN, "MST", "").then(function (data) {
            masterData = data;
            try { AddHeaderTbl(); } catch (error) { }
            jsGetObjectByKey(DSN, "QUL", "").then(function (data) {
                QUAL_LIST = data;                     
                jsGetObjectByKey(DSN, "FINISHSTOCK", "").then(function (data) {
                Data = data;       
                loadCall();
        });
    });
    });
        })
    }

</script>
<script src="js/jsHeaderTbl.js"></script>